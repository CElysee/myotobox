(this["webpackJsonpautos-web"]=this["webpackJsonpautos-web"]||[]).push([[13],{697:function(e,t,s){"use strict";var i=s(1),n=s.n(i),o=s(84),a=s(0);class r extends i.Component{render(){const{className:e,hideSidebar:t,sidebar:s}=this.props;return Object(a.jsx)(o.a,{className:"static ".concat(e||""),children:Object(a.jsxs)("div",{className:"row subbody",children:[!t&&Object(a.jsx)(n.a.Fragment,{children:s}),Object(a.jsx)("div",{className:"col",children:this.props.children})]})})}}r.defaultProps={className:"",hideSidebar:!0},t.a=r},699:function(e,t,s){"use strict";s.d(t,"b",(function(){return i})),s.d(t,"a",(function(){return n}));const i="This field is required",n="Invalid input"},701:function(e,t,s){"use strict";var i=s(1),n=s.n(i),o=s(15),a=s(13),r=s(714),l=s.n(r),c=s(721),d=s.n(c),h=s(727),p=s(27),u=s.n(p),b=s(43),m=s(109),j=s(85),g=s(8),x=s(0);class O extends i.Component{constructor(e){super(e),this.setS3=()=>{const e=this.props.session.upload_token;e&&(l.a.config.credentials=new l.a.Credentials(e.AccessKeyId,e.SecretAccessKey,e.SessionToken),l.a.config.region="us-west-2",this.s3=new d.a)},this.getCurrentCount=()=>this.state.photos.length,this.updateUploadToken=()=>this.props.actions.getUploadToken().then((e=>(this.setS3(),this.props.logInfo("Uploader - upload token retrieved"),Promise.resolve())),(e=>(this.props.logError("Uploader - getUploadToken",{context:{...e}}),Promise.reject(e)))),this.onDragLeave=e=>{this.props.session.upload_token&&this.setState({active:!1})},this.onDragOver=e=>{this.props.session.upload_token&&this.setState({active:!0})},this.onDropped=(e,t)=>{this.onDropAccepted(e),this.onDropRejected(t)},this.onDropAccepted=e=>{const{time:t,session:s,limit:i}=this.props,n=this.getCurrentCount();if(!s.upload_token)return;const o=i?i-n:0;if(o>0||!1===i){const{Expiration:n}=s.upload_token;if(Object(g.e)(n,t.offset_time)<0)this.props.logWarning("Uploader - upload token expired"),this.updateUploadToken().then((()=>{const t=!1===i||e.length<=o?e.length:o;for(let s=0;s<t;s++){const t=e[s];this.handleDrop(t)}}));else{const t=!1===i||e.length<=o?e.length:o;for(let s=0;s<t;s++){const t=e[s];this.handleDrop(t)}}}},this.onDropRejected=e=>{const t=[],s=e.length;let i=[];s>0&&this.props.logWarning("Uploader - drop rejected ".concat(s," file(s)"));for(let o=0;o<s;o++){const s=e[o],i="".concat(this.props.groupID,"-").concat(u.a.generate(),".").concat(s.name.split(".").pop());t.push({id:i,status:"unsupported",file:s})}let n=this.state.photos.slice();i=this.props.addToFront?t.concat(n):n.concat(t),this.onUpdate(i,this.state.uploadingCount)},this.handleDrop=e=>{const t=new Image;t.onload=()=>{window.URL.revokeObjectURL(t.src);const s="".concat(this.props.groupID,"-").concat(u.a.generate(),".").concat(e.name.split(".").pop());t.width<this.props.minimumDimension&&t.height<this.props.minimumDimension?this.onImageTooSmall(s,e):t.width>this.props.maximumDimension||t.height>this.props.maximumDimension?this.onImageTooLarge(s,e):this.onChoose(s,e)},t.onerror=s=>{window.URL.revokeObjectURL(t.src);const i="".concat(this.props.groupID,"-").concat(u.a.generate(),".").concat(e.name.split(".").pop());this.onChoose(i,e)},t.src=window.URL.createObjectURL(e)},this.onUpdate=(e,t)=>{this.setState({photos:e,uploadingCount:t}),this.props.onUpdate(e)},this.onImageTooLarge=(e,t)=>{let s=this.state.photos.slice();s[this.props.addToFront?"unshift":"push"]({id:e,status:"too-large",file:t}),this.onUpdate(s,this.state.uploadingCount)},this.onImageTooSmall=(e,t)=>{let s=this.state.photos.slice();s[this.props.addToFront?"unshift":"push"]({id:e,status:"too-small",file:t}),this.onUpdate(s,this.state.uploadingCount)},this.onChoose=(e,t)=>{if(!0===this.props.one_file){this.state.photos.length>0&&this.onCancelUpload(this.state.photos[0].id);let s=[{id:e,status:"chosen",file:t}];this.onUpdate(s,this.state.uploadingCount),this.state.uploadingCount<3&&this.upload(e,t)}else if(!1===this.props.limit||this.getCurrentCount()<this.props.limit){let s=this.state.photos.slice();s[this.props.addToFront?"unshift":"push"]({id:e,status:"chosen",file:t}),this.onUpdate(s,this.state.uploadingCount),this.state.uploadingCount<3&&this.upload(e,t)}},this.upload=(e,t)=>{const s=t.type,i=this.props.session.upload_token,n=this.s3;let o=e.split("."),a=o.pop().toLowerCase(),r=!1;"heic"===a&&(r=!0,a="jpeg");const l="".concat(i.Prefix,"/").concat(this.props.uploadType,"/").concat(o.join("."),".").concat(a),c={Body:t,Bucket:i.Bucket,Key:l,ContentType:s,CacheControl:"max-age=31536000"};this.setState({active:!1});const d=n.upload(c,((s,i)=>{if(s)try{s.code.indexOf("Timeout")>=0?(this.props.logError("Uploader - s3 upload timeout",{context:{...s,akey:l}}),this.upload(e,t)):s.code.indexOf("RequestAbortedError")>=0?(this.props.logError("Uploader - s3 upload user canceled",{context:{...s,akey:l}}),this.onUploadCanceled(e)):(this.props.logError("Uploader - s3 upload",{context:{...s,akey:l}}),this.onUploadFailed(e))}catch(n){this.props.logError("Uploader - s3 upload tc",{context:{...s,akey:l}}),this.onUploadFailed(e)}else this.props.uploadAction(l).then((t=>{r?setTimeout((()=>{this.onUploaded(e,t)}),4e3):this.onUploaded(e,t)}),(t=>{this.props.logError("Uploader - photo post",{context:{...t,akey:l}}),this.onUploadFailed(e)}))}));this.onUploading(e,d)},this.onUploading=(e,t)=>{const s=this.state.photos.slice(),i=s.find((t=>t.id===e));i&&(i.status="uploading",i.upload=t),this.onUpdate(s,this.state.uploadingCount+1)},this.onUploaded=(e,t)=>{const s=this.state.photos.slice(),i=s.find((t=>t.id===e));i&&(i.status="uploaded",i.resp=t,delete i.upload),this.onUpdate(s,this.state.uploadingCount-1)},this.onUploadFailed=e=>{const t=this.state.photos.slice(),s=t.find((t=>t.id===e));s&&(s.status="failed",delete s.upload),this.onUpdate(t,this.state.uploadingCount-1)},this.onCancelUpload=e=>{const t=this.state.photos.slice().find((t=>t.id===e));t&&(t.upload?t.upload.abort():this.onUploadCanceled(e))},this.onUploadCanceled=e=>{const t=this.state.photos.slice(),s=t.find((t=>t.id===e));s&&(s.status="canceled",delete s.upload,delete s.file),this.onUpdate(t,this.state.uploadingCount-1)},this.onRemoveErrored=e=>{const t=this.state.photos.filter((t=>t.id!==e));this.onUpdate(t,this.state.uploadingCount)},this.onDelete=e=>this.props.deleteAction(e).then((t=>{const s=this.state.photos.filter((t=>!t.resp||t.resp.id!==e));this.onUpdate(s,this.state.uploadingCount)}),(e=>{this.props.logError("Uploader - delete photo",{context:{...e}})})),this.state={active:!1,photos:e.photos,uploadingCount:0}}componentDidMount(){this.props.session.upload_token?this.setS3():this.updateUploadToken()}componentDidUpdate(e,t){if(3===t.uploadingCount&&this.state.uploadingCount<3){const e=this.state.photos.find((e=>"chosen"===e.status));e&&this.upload(e.id,e.file)}}render(){const{session:e,accept:t,customRender:s,customHandler:i,customInitializing:o,customLimitReached:a,limit:r,showAbove:l}=this.props,{isMobile:c}=this.context,d=e.upload_token,p=!r||(1===r||this.getCurrentCount()<r),u=this.getCurrentCount()>0,b=s;return Object(x.jsxs)(n.a.Fragment,{children:[l&&Object(x.jsx)(b,{photos:this.state.photos,onDelete:this.onDelete,onCancel:this.onCancelUpload,onRemoveErrored:this.onRemoveErrored,isMobile:c}),Object(x.jsxs)("div",{className:"uploader ".concat(d?"ready":""," ").concat(u?"has-items":""),children:[!d&&Object(x.jsx)(n.a.Fragment,{children:o}),d&&p&&Object(x.jsx)(h.a,{onDrop:this.onDropped,onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,accept:t,children:e=>{let{getRootProps:t,getInputProps:s}=e;return Object(x.jsx)("div",{className:"upload-drop-site ".concat(this.state.active?"active":""),children:Object(x.jsxs)("div",{className:"handler",...t(),children:[Object(x.jsx)("input",{...s()}),i]})})}}),d&&!p&&Object(x.jsx)(n.a.Fragment,{children:a})]}),!l&&Object(x.jsx)(b,{photos:this.state.photos,onDelete:this.onDelete,onCancel:this.onCancelUpload,onRemoveErrored:this.onRemoveErrored,isMobile:c})]})}}O.defaultProps={accept:"image/*",onUpdate:e=>{},minimum:!1,limit:!1,one_file:!1,customHandler:null,customLimitReached:null,customInitializing:null,customRender:(e,t,s)=>{},children:null,showAbove:!1,photos:[],addToFront:!1,minimumDimension:1024,maximumDimension:8e3,groupID:"s"},O.contextType=b.a,t.a=Object(m.b)(Object(a.b)((e=>({time:e.time,session:e.session})),(e=>({actions:Object(o.b)({getUploadToken:j.h},e)})))(O))},703:function(e,t){},705:function(e,t,s){"use strict";var i=s(1),n=s.n(i),o=s(49),a=s(177),r=s(148),l=s(6),c=s(0);class d extends i.Component{constructor(){super(...arguments),this.state={modalOpen:!1,canceled:!1},this.deletePhoto=e=>{e.preventDefault(),this.setState({modalOpen:!0})},this.confirmDelete=()=>{this.setState({modalOpen:!1}),this.props.onDelete(this.props.resp.id)},this.cancelDelete=()=>{this.setState({modalOpen:!1})},this.cancelPhoto=e=>{e&&e.preventDefault(),this.setState({canceled:!0}),this.props.onCancel(this.props.id)},this.removeErrored=e=>{e&&e.preventDefault(),this.props.onRemoveErrored(this.props.id)}}render(){const{resp:e,file:t,status:s,canDelete:i,canCancel:d,type:h}=this.props,p=e.link;return this.state.canceled?null:Object(c.jsxs)(n.a.Fragment,{children:[("uploading"===s||"chosen"===s)&&Object(c.jsxs)("li",{className:"uploading preview",children:[Object(c.jsx)("div",{className:"ratio",children:Object(c.jsx)(a.a,{file:t,defaultSrc:l.r})}),d&&Object(c.jsx)("button",{className:"btn remove","aria-label":"Cancel",onClick:this.cancelPhoto,children:Object(c.jsx)("span",{className:"sr-only",children:"Cancel"})})]}),"failed"===s&&Object(c.jsxs)("li",{className:"failed",children:[Object(c.jsx)(a.a,{file:t,children:Object(c.jsx)("span",{className:"msg",children:"Error uploading"})}),Object(c.jsx)("button",{className:"btn remove","aria-label":"Remove",onClick:this.removeErrored,children:Object(c.jsx)("span",{className:"sr-only",children:"Remove"})})]}),("too-small"===s||"unsupported"===s)&&Object(c.jsx)("li",{className:"failed",children:Object(c.jsx)("div",{className:"ratio",children:Object(c.jsxs)(a.a,{file:t,children:["unsupported"===s?Object(c.jsxs)("span",{className:"msg",children:["Unsupported file",Object(c.jsx)("br",{}),"format"]}):Object(c.jsxs)("span",{className:"msg long",children:["Too small",Object(c.jsx)("br",{}),"(min 1024x768)"]}),Object(c.jsx)("button",{className:"btn remove","aria-label":"Remove",onClick:this.removeErrored,children:Object(c.jsx)("span",{className:"sr-only",children:"Remove"})})]})})}),"too-large"===s&&Object(c.jsx)("li",{className:"failed",children:Object(c.jsx)("div",{className:"ratio",children:Object(c.jsxs)(a.a,{file:t,children:[Object(c.jsxs)("span",{className:"msg long",children:["Too large",Object(c.jsx)("br",{}),"(max 8000x6000)"]}),Object(c.jsx)("button",{className:"btn remove","aria-label":"Remove",onClick:this.removeErrored,children:Object(c.jsx)("span",{className:"sr-only",children:"Remove"})})]})})}),e&&"uploaded"===s&&Object(c.jsxs)("li",{className:"preview ".concat(this.state.deleted?"deleted":""),"data-id":e.id,children:[Object(c.jsx)("div",{className:"ratio",children:Object(c.jsx)(o.a,{...p,width:182,height:98,alt:"Car"})}),i&&Object(c.jsx)("button",{className:"btn remove","aria-label":"Delete",onClick:this.deletePhoto,children:Object(c.jsx)("span",{className:"sr-only",children:"Delete"})})]}),Object(c.jsx)(r.a,{isOpen:this.state.modalOpen,title:"Delete this ".concat(h,"?"),message:"Are you sure you want to delete this ".concat(h,"?"),onCancel:this.cancelDelete,onConfirm:this.confirmDelete,confirm:"Delete ".concat(h)})]})}}d.defaultProps={resp:{},canDelete:!1,canCancel:!0,onDelete:e=>{},onCancel:e=>{},onRemoveErrored:e=>{},type:"photo"},t.a=d},722:function(e,t){e.exports=[{abbr:"AL",name:"Alabama",isTerritory:!1},{abbr:"AK",name:"Alaska",isTerritory:!1},{abbr:"AS",name:"American Samoa",isTerritory:!0},{abbr:"AZ",name:"Arizona",isTerritory:!1},{abbr:"AR",name:"Arkansas",isTerritory:!1},{abbr:"CA",name:"California",isTerritory:!1},{abbr:"CO",name:"Colorado",isTerritory:!1},{abbr:"CT",name:"Connecticut",isTerritory:!1},{abbr:"DE",name:"Delaware",isTerritory:!1},{abbr:"DC",name:"District Of Columbia",isTerritory:!1},{abbr:"FL",name:"Florida",isTerritory:!1},{abbr:"GA",name:"Georgia",isTerritory:!1},{abbr:"GU",name:"Guam",isTerritory:!0},{abbr:"HI",name:"Hawaii",isTerritory:!1},{abbr:"ID",name:"Idaho",isTerritory:!1},{abbr:"IL",name:"Illinois",isTerritory:!1},{abbr:"IN",name:"Indiana",isTerritory:!1},{abbr:"IA",name:"Iowa",isTerritory:!1},{abbr:"KS",name:"Kansas",isTerritory:!1},{abbr:"KY",name:"Kentucky",isTerritory:!1},{abbr:"LA",name:"Louisiana",isTerritory:!1},{abbr:"ME",name:"Maine",isTerritory:!1},{abbr:"MD",name:"Maryland",isTerritory:!1},{abbr:"MA",name:"Massachusetts",isTerritory:!1},{abbr:"MI",name:"Michigan",isTerritory:!1},{abbr:"MN",name:"Minnesota",isTerritory:!1},{abbr:"MS",name:"Mississippi",isTerritory:!1},{abbr:"MO",name:"Missouri",isTerritory:!1},{abbr:"MT",name:"Montana",isTerritory:!1},{abbr:"NE",name:"Nebraska",isTerritory:!1},{abbr:"NV",name:"Nevada",isTerritory:!1},{abbr:"NH",name:"New Hampshire",isTerritory:!1},{abbr:"NJ",name:"New Jersey",isTerritory:!1},{abbr:"NM",name:"New Mexico",isTerritory:!1},{abbr:"NY",name:"New York",isTerritory:!1},{abbr:"NC",name:"North Carolina",isTerritory:!1},{abbr:"ND",name:"North Dakota",isTerritory:!1},{abbr:"MP",name:"Northern Mariana Islands",isTerritory:!0},{abbr:"OH",name:"Ohio",isTerritory:!1},{abbr:"OK",name:"Oklahoma",isTerritory:!1},{abbr:"OR",name:"Oregon",isTerritory:!1},{abbr:"PA",name:"Pennsylvania",isTerritory:!1},{abbr:"PR",name:"Puerto Rico",isTerritory:!0},{abbr:"RI",name:"Rhode Island",isTerritory:!1},{abbr:"SC",name:"South Carolina",isTerritory:!1},{abbr:"SD",name:"South Dakota",isTerritory:!1},{abbr:"TN",name:"Tennessee",isTerritory:!1},{abbr:"TX",name:"Texas",isTerritory:!1},{abbr:"UT",name:"Utah",isTerritory:!1},{abbr:"VT",name:"Vermont",isTerritory:!1},{abbr:"VI",name:"Virgin Islands",isTerritory:!0},{abbr:"VA",name:"Virginia",isTerritory:!1},{abbr:"WA",name:"Washington",isTerritory:!1},{abbr:"WV",name:"West Virginia",isTerritory:!1},{abbr:"WI",name:"Wisconsin",isTerritory:!1},{abbr:"WY",name:"Wyoming",isTerritory:!1}]},723:function(e,t,s){"use strict";var i=s(1),n=s(40),o=s(0);class a extends i.Component{constructor(e){super(e),this.setupWakeLock=async()=>{try{this.wakeLock=await navigator.wakeLock.request("screen"),this.wakeLock.addEventListener("release",(()=>{this.wakeLock=!1})),document.addEventListener("visibilitychange",this.onVisibilityChange)}catch(e){this.wakeLock=!1,this.setState({enabled:!1})}},this.destroyWakeLock=async()=>{this.wakeLock&&(this.wakeLock.release(),this.wakeLock=!1),document.removeEventListener("visibilitychange",this.onVisibilityChange)},this.onVisibilityChange=async()=>{this.mounted&&null!==this.wakeLock&&"visible"===document.visibilityState&&this.setupWakeLock()},this.onToggle=(e,t)=>{this.setState({enabled:t}),t?this.setupWakeLock():this.destroyWakeLock(),this.props.onToggle&&this.props.onToggle(t)},this.state={enabled:!0===e.start_on},this.isSupported="wakeLock"in navigator,this.wakeLock=null,this.mounted=!1}componentDidMount(){this.mounted=!0,this.isSupported&&this.state.enabled&&this.setupWakeLock()}componentWillUnmount(){this.mounted=!1,this.isSupported&&this.destroyWakeLock()}render(){return this.isSupported?Object(o.jsx)("div",{className:"wake-lock-control",children:Object(o.jsx)(n.l,{isEnabled:this.state.enabled,onClick:this.onToggle,setting:"screen_wake_lock",label:"Keep my phone from sleeping during photo uploads"})}):null}}t.a=a},724:function(e,t,s){"use strict";var i=s(1),n=s(0);class o extends i.Component{render(){return Object(n.jsxs)("svg",{className:"dropzone-icon",width:"25",height:"20",viewBox:"0 0 25 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(n.jsx)("path",{d:"M16.0054 13.998L12.0054 9.99805L8.00537 13.998",stroke:"#4AD493",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(n.jsx)("path",{d:"M12.0054 9.99805V18.998",stroke:"#4AD493",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(n.jsx)("path",{d:"M20.3954 16.3878C22.4018 15.2939 23.4113 12.979 22.8477 10.7645C22.284 8.54988 20.2906 6.99927 18.0054 6.99777H16.7454C15.9165 3.79158 13.1979 1.42754 9.90765 1.05187C6.61742 0.676191 3.43585 2.36655 1.90553 5.30336C0.375207 8.24017 0.812526 11.8163 3.00545 14.2978",stroke:"#4AD493",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(n.jsx)("path",{d:"M16.0054 13.998L12.0054 9.99805L8.00537 13.998",stroke:"#4AD493",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}}t.a=o},728:function(e,t,s){"use strict";var i=s(1),n=s.n(i),o=s(689),a=s(129),r=s(130),l=s(0);class c extends i.Component{render(){return Object(l.jsx)("svg",{className:"chat-icon",width:"25",height:"25",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(l.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.00004 11.8611C0.995639 13.5476 1.38967 15.2113 2.15003 16.7167C3.98881 20.3958 7.74809 22.7206 11.8611 22.7222C13.5476 22.7266 15.2113 22.3326 16.7167 21.5722L24 24L21.5722 16.7167C22.3326 15.2113 22.7266 13.5476 22.7222 11.8611C22.7206 7.74809 20.3958 3.98881 16.7167 2.15003C15.2113 1.38967 13.5476 0.995639 11.8611 1.00004H11.2222C5.70761 1.30427 1.30427 5.70761 1.00004 11.2222V11.8611V11.8611Z",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}}var d=c;class h extends i.Component{render(){return Object(l.jsxs)("svg",{className:"chat-close-icon",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(l.jsx)("path",{d:"M1 1L8 8L15 1",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(l.jsx)("path",{d:"M1 15L8 8L15 15",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}}var p=h,u=s(59),b=s(40),m=s(121),j=s(52),g=s(6),x=s(8),O=s(138);const f={a:m.b};class v extends i.Component{constructor(){super(...arguments),this.state={message:"",sending:!1,focused:!1},this.handleChange=async e=>{const{target:t}=e,s=t.value,{name:i}=t;await this.setState({[i]:s})},this.onFocus=()=>{this.setState({focused:!0})},this.onBlur=()=>{this.setState({focused:!1})},this.onSubmit=e=>{e.preventDefault(),this.props.innerRef.current.select(),this.state.sending||""===this.state.message.trim()||(this.setState({sending:!0,message:""}),this.props.onSubmit(this.state.message).then((e=>{this.setState({sending:!1})}),(e=>{this.setState({sending:!1})})))}}render(){const{disabled:e,prompt:t,innerRef:s}=this.props,i=e?"Messaging is closed":t,{sending:n,message:o,focused:a}=this.state,r=e||n||""===o.trim();return Object(l.jsx)("div",{className:"messenger-wrap",children:Object(l.jsxs)(b.e,{onSubmit:this.onSubmit,className:"messenger ".concat(a?"focused":""),children:[Object(l.jsx)(b.k,{disabled:e,name:"message",autoFocus:!1,value:o,onChange:this.handleChange,onFocus:this.onFocus,onBlur:this.onBlur,innerRef:s,placeholder:i,autoExpand:{minRows:1,maxRows:10}}),Object(l.jsx)("button",{tabIndex:"-1",type:"button",onClick:this.onSubmit,className:"p-0 d-flex align-items-center justify-content-center ".concat(r?"disabled":""),disabled:r,children:Object(l.jsx)("span",{className:"sr-only",children:"Submit"})})]})})}}class y extends i.PureComponent{render(){const{message:e,extra_message:t}=this.props;return Object(l.jsxs)(n.a.Fragment,{children:[Object(l.jsx)(o.a,{children:Object(O.a)(e),className:"message",unwrapDisallowed:!0,allowedElements:g.i,skipHtml:!0,remarkPlugins:[[a.a,{singleTilde:!1}],r.a],components:f}),t&&Object(l.jsx)(o.a,{children:t,className:"message extra-message",unwrapDisallowed:!0,allowedElements:g.i,skipHtml:!0,remarkPlugins:[[a.a,{singleTilde:!1}],r.a],components:f})]})}}const w={visible:!1,expanded:!1,count:0};class _ extends i.Component{constructor(e){super(e),this.scrollToBottom=()=>{const e=!!this.conversationRef&&this.conversationRef.current;e&&(e.scrollTop=e.scrollHeight)},this.onToggle=e=>{e&&e.preventDefault(),this.state.visible?this.props.onToggle().then((()=>{setTimeout((()=>{document.body.classList.remove("convo-open"),this.mounted&&this.setState({visible:!1,expanded:!1})}),120)})):(document.body.classList.add("convo-open"),this.setState({visible:!0},(()=>{this.mounted&&this.props.onToggle(),this.props.autoFocus&&this.messengerRef.current&&this.messengerRef.current.focus()})))},this.onSendMessage=e=>this.props.onSend(e),this.toggleWindow=e=>{e&&e.preventDefault(),this.setState({expanded:!this.state.expanded},(()=>{this.props.onExpand(this.state.expanded)}))},this.bringToAttention=()=>{this.props.onChangeConvoAttention&&this.props.onChangeConvoAttention(this.props.index)};let t={...w};this.props.isOpen&&(t.visible=!0),this.state=t,this.panelRef=n.a.createRef(),this.conversationRef=n.a.createRef(),this.messengerRef=n.a.createRef(),this.mounted=!1,this._clientY=null}componentDidUpdate(e){(this.state.count!==this.props.messages.length||!e.isOpen&&this.props.isOpen)&&this.setState({count:this.props.messages.length},(()=>{this.scrollToBottom()}))}componentDidMount(){this.mounted=!0,this.scrollToBottom();const e=this.panelRef.current;try{e.addEventListener("touchstart",(function(e){1===e.targetTouches.length&&(this._clientY=e.targetTouches[0].clientY)}),!1),e.addEventListener("touchmove",(function(e){1===e.targetTouches.length&&t(e)}),!1)}catch(i){}const t=t=>{var i=t.targetTouches[0].clientY-this._clientY;0===e.scrollTop&&i>0&&t.preventDefault(),s()&&i<0&&t.preventDefault()},s=()=>e.scrollHeight-e.scrollTop<=e.clientHeight}componentWillUnmount(){this.mounted=!1;try{const e=this.panelRef.current;e.removeEventListener("touchstart"),e.removeEventListener("touchmove")}catch(e){}}render(){const{isOpen:e,messages:t,unread:s,disabled:i,prompt:n,index:o,title:a,label:r,toggleRef:c,has_attention:h}=this.props,{visible:b,expanded:m}=this.state;return Object(l.jsxs)("div",{className:"convo index-".concat(o," ").concat(e?"open":""," ").concat(b?"visible":""," ").concat(h?"attention":""),children:[Object(l.jsxs)("button",{type:"button",className:"rb toggle",ref:c,"aria-label":e?"Collapse conversation":"Expand conversation",onClick:this.onToggle,children:[!e&&Object(l.jsx)(d,{}),e&&Object(l.jsx)(p,{}),s>0&&!e&&Object(l.jsx)("span",{className:"count",children:s})]}),r&&Object(l.jsx)("span",{className:"label",children:r}),Object(l.jsxs)("div",{className:"window ".concat(m?"expanded":""),onClick:this.bringToAttention,children:[Object(l.jsxs)("h6",{children:[a," ",s>0&&Object(l.jsx)("span",{className:"count",children:s})]}),Object(l.jsx)("span",{className:"operating-hours",children:"We typically respond within one business day."}),Object(l.jsx)("button",{type:"button",className:"d-block d-sm-none close mobile-close","aria-label":e?"Collapse conversation":"Expand conversation",onClick:this.onToggle,children:Object(l.jsx)("span",{"aria-hidden":"true",children:"\xd7"})}),Object(l.jsx)("button",{title:m?"Restore":"Expand",type:"button",className:"d-none d-sm-block btn rb convo-window ".concat(m?"restore":"expand"),onClick:this.toggleWindow,children:Object(l.jsx)("span",{className:"sr-only",children:m?"Restore":"Expand"})}),Object(l.jsx)("div",{className:"conversation",ref:this.conversationRef,children:Object(l.jsx)("ul",{className:"thread",children:Object(l.jsx)(u.a.Consumer,{children:e=>t.map((t=>{const s=t.user?Object(l.jsxs)(j.a,{user:t.user,id:t.id+t.user.username,children:[Object(l.jsx)("span",{className:"time","data-full":Object(x.g)(t.timestamp,e),children:Object(l.jsx)("span",{className:"abbr",children:Object(x.g)(t.timestamp,e,!0)})}),t.error&&Object(l.jsx)("span",{className:"error",children:"Error sending message"})]}):Object(l.jsxs)("div",{className:"username",children:[Object(l.jsx)("div",{className:"photo float-left",children:Object(l.jsx)("span",{className:"usericon",children:Object(l.jsx)("img",{src:"data:image/png;base64,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",alt:"Cars & Bids"})})}),Object(l.jsxs)("div",{className:"text",children:[Object(l.jsx)("span",{className:"user",children:"Cars & Bids"}),Object(l.jsx)("span",{className:"user-extra",children:Object(l.jsx)("span",{className:"time","data-full":Object(x.g)(t.timestamp,e),children:Object(l.jsx)("span",{className:"abbr",children:Object(x.g)(t.timestamp,e,!0)})})})]})]});return Object(l.jsxs)("li",{"data-id":t.id,className:t.type,children:[Object(l.jsx)("div",{className:"message-heading",children:s}),Object(l.jsx)(y,{message:t.value,extra_message:t.extra_message})]},t.id)}))})})}),Object(l.jsx)(v,{onSubmit:this.onSendMessage,disabled:i,prompt:n,innerRef:this.messengerRef})]}),Object(l.jsx)("div",{className:"chat-overlay ".concat(e?"open":""),ref:this.panelRef})]})}}_.defaultProps={index:0,prompt:"Chat with Cars & Bids...",title:"Chat with Cars & Bids",label:"",autoFocus:!1};t.a=_},823:function(e,t,s){},827:function(e,t,s){},832:function(e,t,s){"use strict";s.r(t);var i=s(1),n=s.n(i),o=s(15),a=s(13),r=s(12),l=s(107),c=s(24),d=s.n(c),h=s(17),p=s.n(h),u=s(696),b=s(43),m=s(14),j=s(84),g=s(728),x=s(40),O=s(44),f=s(22),v=s(240),y=s(47),w=s(18),_=s(11),k=s(4),C=s(8),N=(s(698),s(0));const S=Object(i.lazy)((()=>Promise.all([s.e(2),s.e(3),s.e(9)]).then(s.bind(null,828)))),A=Object(i.lazy)((()=>Promise.all([s.e(2),s.e(3),s.e(9)]).then(s.bind(null,831)))),T={loading:!0,submission_id:!1,highest_bid:!1,fees:!1,contact:!1,shipping:{},conversationOpened:!1,loading_messages:!0,ws_retries:0,checklist:{contact:!1,poo:!1,bos:!1,payment:!1,pickup:!1,registration:!1}};class I extends i.Component{constructor(e){super(e),this.onBeforeUnload=e=>{this.state.conversationOpened&&this.clearBadge(),delete e.returnValue},this.fetchAuction=()=>{if(!this.props.isAuthenticated())return;this.setState({loading:!0,loading_messages:!0});const e=Object(C.o)(),t=this.props.match.params.auctionId;this.props.actions.getAuctionById(t,!0).then((()=>{if(!this.mounted)return;const s=this.getAuction(),i=this.props.stats;"sold"===s.status&&i.current_bid.bidder.username===this.props.getAuthedUsername()?this.props.actions.getAuctionWinnerInfo(t).then((t=>{if(!this.mounted)return;this.props.actions.wsRegisterMessages(t.submission_id).then((()=>{if(!this.mounted)return;const{unread_count:t}=this.getMessageData(),s=d.a.parse(this.props.location.search),{isMobile:i}=this.context;this.setState({loading_messages:!1,conversationOpened:!i&&t>0||"true"===s.m}),!0===this.props.app.refresh&&this.props.actions.refreshed(),this.props.actions.wsMessagesSince(e)}));const{checklist:s,...i}=t,n=Object(C.d)(s);this.setState({loading:!1,checklist:n,...i},(()=>{if(!this.props.location.state||"book-shipping"!==this.props.location.state.action||this.hasBookedShipping()||this.hasCanceledShipping()){"true"!==d.a.parse(this.props.location.search).s||this.hasBookedShipping()||this.hasCanceledShipping()||!this.state.contact||this.showShippingQuoter()}else this.props.actions.showModal("BookShippingModal",{shipping_quote:this.props.location.state.shipping_quote}),this.props.history.replace({pathname:this.props.location.pathname,search:this.props.location.search,state:{...this.props.location.state,action:!1,shipping_quote:!1}})}))})):this.props.history.push(s.auction_url)}),(()=>{this.props.history.push(k.o.path)}))},this.refreshMessages=()=>{if(this.state.submission_id){const e=Object(C.o)();this.props.actions.wsRegisterMessages(this.state.submission_id).then((()=>{!0===this.props.app.refresh&&this.props.actions.refreshed(),this.props.actions.wsMessagesSince(e)}))}else this.fetchAuction()},this.clearBadge=()=>{const{unread_count:e}=this.getMessageData();if(e>0){const e=this.state.submission_id;this.props.actions.markSubmissionMessagesSeen(e)}},this.getAuction=()=>this.props.auction,this.getShipping=()=>this.state.shipping,this.getMessageData=()=>{let e=[],t=0;const s=this.state.submission_id,i=this.props.submission,n=!!i&&i.messages;return n&&n[s]&&(e=n[s].messages,t=n[s].new),{messages:e,unread_count:t}},this.openConversation=e=>{e&&e.preventDefault(),this.toggleConvoRef.current&&!this.state.conversationOpened&&this.toggleConvoRef.current.click()},this.onToggleConversation=()=>(this.state.conversationOpened&&this.clearBadge(),m.a.addEvent({event:"buyer",category:"buyer",action:"chat",label:this.state.conversationOpened?"window_closed":"window_opened",car_id:this.state.submission_id}),new Promise(((e,t)=>{this.setState({conversationOpened:!this.state.conversationOpened},(()=>{e()}))}))),this.onToggleExpandConversation=e=>{m.a.addEvent({event:"buyer",category:"buyer",action:"chat",label:e?"window_expanded":"window_restored",car_id:this.state.submission_id})},this.onSendMessage=e=>{this.clearBadge();const t=this.state.submission_id;return this.props.actions.postSubmissionMessage({submission_id:t,message:e}).then((e=>{m.a.addEvent({event:"buyer",category:"buyer",action:"chat",label:"submitted",car_id:this.state.submission_id})}),(e=>{}))},this.onToggleChecklistItem=(e,t)=>{const{checklist:s}=this.state;s[e].complete=t,this.setState({checklist:s}),this.state.checklist[e].id&&this.props.actions.setChecklistItem(this.state.checklist[e].id,t).then((t=>{const{checklist:s}=this.state;s[e].complete=t.complete,this.setState({checklist:s})}),(e=>{}))},this.hasBookedShipping=()=>{const e=this.getShipping();return"BOOKED"===e.status||"TRANSIT"===e.status||"DELIVERED"===e.status},this.hasCanceledShipping=()=>"CANCELED"===this.getShipping().status,this.displayShippingCTAStatus=()=>{const e=this.getShipping();switch(e.status){case"BOOKED":return Object(N.jsx)("div",{className:"shipping-cta booked",children:Object(N.jsxs)("span",{className:"copy-wrap",children:[Object(N.jsx)("span",{className:"title",children:"Shipping Booked"}),Object(N.jsxs)("span",{className:"call",children:["ETA ",p()(e.date).format("M[/]D[/]YY"),"."]})]})});case"TRANSIT":return Object(N.jsx)("div",{className:"shipping-cta booked",children:Object(N.jsxs)("span",{className:"copy-wrap",children:[Object(N.jsx)("span",{className:"title",children:"Shipping In Transit"}),Object(N.jsxs)("span",{className:"call",children:["ETA ",p()(e.date).format("M[/]D[/]YY"),"."]})]})});case"DELIVERED":return Object(N.jsx)("div",{className:"shipping-cta booked",children:Object(N.jsxs)("span",{className:"copy-wrap",children:[Object(N.jsx)("span",{className:"title",children:"Car Delivered"}),Object(N.jsxs)("span",{className:"call",children:["On ",p()(e.date).format("M[/]D[/]YY"),"."]})]})});case"CANCELED":return Object(N.jsx)("div",{className:"shipping-cta cancelled",children:Object(N.jsx)("span",{className:"copy-wrap",children:Object(N.jsx)("span",{className:"title",children:"Shipping Canceled"})})});default:return Object(N.jsxs)("button",{type:"button",onClick:this.showShippingQuoter,className:"rb shipping-cta",children:[Object(N.jsxs)("span",{className:"copy-wrap",children:[Object(N.jsx)("span",{className:"title",children:"Cars & Bids Shipping"}),Object(N.jsx)("span",{className:"call","data-full":"Get a quick and easy quote!",children:Object(N.jsx)("span",{className:"abbr",children:"Tap here to quote!"})})]}),Object(N.jsx)("span",{className:"pseudo-button btn",children:"Get Started"})]})}},this.showShippingQuoter=e=>{e&&(e.preventDefault(),m.a.addEvent({event:"gaevent",category:"shipping",action:"click",label:"cta",car_id:this.state.submission_id})),this.props.actions.showModal("ShippingQuoteModal")},this.onFinishedBooking=()=>{const e=this.getAuction();this.props.actions.getAuctionWinnerInfo(e.id).then((e=>{if(!this.mounted)return;const{checklist:t,...s}=e;this.setState({...s})}))},this.state={...T},this.toggleConvoRef=n.a.createRef(),this.retryTimer=0,this.mounted=!1}componentDidMount(){this.mounted=!0,this.fetchAuction(),window.addEventListener("beforeunload",this.onBeforeUnload)}componentDidUpdate(e){const t=this.props.match.params.auctionId;if(e.match.params.auctionId!==t)this.props.actions.wsDeregisterMessages(),this.setState({...T},(()=>{this.fetchAuction()}));else if(e.app.refresh||!0!==this.props.app.refresh){const t=!!e.location.state&&e.location.state.rand,s=!!this.props.location.state&&this.props.location.state.rand;if(this.props.location.search&&t!==s){"true"===d.a.parse(this.props.location.search).m&&this.setState({loading_messages:!0},(()=>{this.setState({loading_messages:!1,conversationOpened:!0})}))}}else this.refreshMessages()}componentWillUnmount(){this.mounted=!1,clearTimeout(this.retryTimer),window.removeEventListener("beforeunload",this.onBeforeUnload),this.props.actions.wsDeregisterMessages(),this.state.conversationOpened&&this.clearBadge()}render(){const{loading:e,highest_bid:t,fees:s,contact:o,checklist:a}=this.state,c=this.getAuction(),d=this.props.listing,{messages:h,unread_count:p}=this.getMessageData(),u=!d||1!==d.seller_type;return Object(N.jsx)(j.a,{className:"subflow subdetail conclusion",children:!e&&c&&Object(N.jsxs)(n.a.Fragment,{children:[Object(N.jsx)(l.a,{title:d.title,children:Object(N.jsx)("meta",{name:"page-loaded",content:"true"})}),Object(N.jsxs)("div",{className:"row subbody",children:[Object(N.jsxs)("div",{className:"col",children:[Object(N.jsxs)("h1",{children:["Congratulations! ",Object(N.jsx)("span",{role:"img","aria-label":"Congrats",children:"\ud83c\udf89"})]}),o?Object(N.jsxs)(n.a.Fragment,{children:[Object(N.jsxs)("div",{className:"conclusion",children:[Object(N.jsxs)("p",{children:["You won the ",Object(N.jsx)(r.b,{to:c.auction_url,children:d.title})," for ",Object(N.jsx)("strong",{children:Object(C.l)(t)})]}),Object(N.jsxs)("p",{children:["We have collected your buyer's fee of ",Object(N.jsx)("strong",{children:Object(C.l)(s,!0)})]})]}),Object(N.jsxs)("p",{className:"checklist-intro",children:["This checklist will help you in completing the sale with the seller. If you have any questions or concerns throughout this process, we\u2019re here to help \u2013 ",Object(N.jsx)("button",{type:"button",onClick:this.openConversation,className:"btn rb btn-link",children:"just reach out via chat!"})]}),Object(N.jsxs)("ul",{className:"pac",children:[Object(N.jsxs)("li",{className:"checklist-item ".concat(a.contact.complete?"completed":""),children:[Object(N.jsx)(x.b,{label:"Contact the Seller",fieldname:"contact",isEnabled:a.contact.complete,onClick:this.onToggleChecklistItem}),Object(N.jsxs)("div",{className:"checklist-content",children:[Object(N.jsxs)("p",{className:"checklist-contact",children:[o.name,Object(N.jsx)("br",{}),Object(N.jsx)("a",{href:"tel:".concat(o.phone_number),children:o.phone_number}),Object(N.jsx)("br",{}),Object(N.jsx)("a",{href:"mailto:".concat(o.email),children:o.email})]}),Object(N.jsxs)("p",{children:["Please be patient \u2013 some sellers might not be able to respond immediately. If you haven\u2019t heard from the seller within 24 hours of the auction ending, ",Object(N.jsx)("button",{type:"button",onClick:this.openConversation,className:"btn rb btn-link",children:"contact us via chat"}),"."]}),Object(N.jsx)("p",{children:"Maintain a positive attitude, and be as flexible and reasonable as possible. Communicating with the seller in a clear, friendly, and productive manner will further help ensure a smooth transaction."})]})]}),!u&&Object(N.jsxs)("li",{className:"checklist-item ".concat(a.poo.complete?"completed":""),children:[Object(N.jsx)(x.b,{label:"Proof of Ownership",fieldname:"poo",isEnabled:a.poo.complete,onClick:this.onToggleChecklistItem}),Object(N.jsxs)("div",{className:"checklist-content",children:[Object(N.jsx)("p",{children:"The seller should email you a copy of the vehicle\u2019s title (or registration if a lien is present and they do not have a title) and a copy of their driver\u2019s license."}),Object(N.jsx)("p",{children:"If there is a loan on the vehicle, discuss with the seller how the loan will be paid off and how you\u2019ll receive the title."})]})]}),Object(N.jsxs)("li",{className:"checklist-item ".concat(a.bos.complete?"completed":""),children:[Object(N.jsx)(x.b,{label:"Bill of Sale",fieldname:"bos",isEnabled:a.bos.complete,onClick:this.onToggleChecklistItem}),Object(N.jsxs)("div",{className:"checklist-content",children:[Object(N.jsx)("p",{children:Object(N.jsx)("strong",{children:"We encourage you to verify what is required to transfer the vehicle into your name with your local DMV."})}),Object(N.jsx)("p",{children:"You and the seller should sign a Bill of Sale, including the terms of the transaction."})]})]}),Object(N.jsxs)("li",{className:"checklist-item ".concat(a.payment.complete?"completed":""),children:[Object(N.jsx)(x.b,{label:"Payment",fieldname:"payment",isEnabled:a.payment.complete,onClick:this.onToggleChecklistItem}),Object(N.jsxs)("div",{className:"checklist-content",children:[Object(N.jsx)("p",{children:Object(N.jsx)("strong",{children:"You are expected to pay for the vehicle in full within one (1) week of the auction ending."})}),Object(N.jsx)("p",{children:"We recommend sending a cashier\u2019s check or wire transfer to complete payment, though you and the seller are free to arrange a different payment method if you prefer."}),Object(N.jsx)("p",{children:"The seller may request to hold the vehicle until funds have cleared, be sure to discuss this with them."}),Object(N.jsxs)("p",{children:["If you require financing to complete the transaction, please see ",Object(N.jsx)(r.b,{to:Object(k.lb)("faq","buyer-arrange-financing"),children:"How do I arrange financing"})," in our FAQ section."]})]})]}),Object(N.jsxs)("li",{className:"checklist-item ".concat(a.pickup.complete?"completed":""),children:[Object(N.jsx)(x.b,{label:"Pick Up",fieldname:"pickup",isEnabled:a.pickup.complete,onClick:this.onToggleChecklistItem}),Object(N.jsxs)("div",{className:"checklist-content",children:[Object(N.jsx)("p",{children:"Transportation arrangements and costs are your responsibility."}),this.displayShippingCTAStatus(),Object(N.jsxs)("p",{children:["We\u2019ll call you and the seller to arrange pick-up and delivery times after you book. ",Object(N.jsx)(r.b,{to:k.L.path,children:"Learn more about shipping"}),"."]}),this.hasBookedShipping()?Object(N.jsx)("p",{children:"We recommend contacting your local DMV to verify the licensing process in your state, and to purchase a temporary permit if applicable."}):Object(N.jsx)("p",{children:"If you plan to drive the vehicle home, we recommend contacting your local DMV to verify the process in your state, and to purchase a temporary permit if applicable."})]})]}),Object(N.jsxs)("li",{className:"checklist-item ".concat(a.registration.complete?"completed":""),children:[Object(N.jsx)(x.b,{label:"Registration",fieldname:"registration",isEnabled:a.registration.complete,onClick:this.onToggleChecklistItem}),Object(N.jsx)("div",{className:"checklist-content",children:Object(N.jsx)("p",{children:"Remember to register your new vehicle with your local DMV. Visit your DMV\u2019s website for more information."})}),a.registration.complete&&Object(N.jsxs)(n.a.Fragment,{children:[Object(N.jsx)("p",{style:{marginTop:"42px"},children:Object(N.jsxs)("strong",{children:[Object(N.jsx)("span",{role:"img","aria-label":"Congrats",children:"\ud83c\udf89"})," Congratulations on completing your purchase on Cars & Bids!"]})}),Object(N.jsx)("p",{children:"We hope you\u2019ve enjoyed your Cars & Bids experience, and thank you for being part of our community! We look forward to working with you again in the near future!"})]})]})]}),Object(N.jsxs)("p",{className:"checklist-faq",children:["If you have any other questions about buying on Cars & Bids, please review our ",Object(N.jsx)(r.b,{to:k.Y.path,title:"FAQ",children:"FAQ page"}),"."]})]}):Object(N.jsxs)(n.a.Fragment,{children:[Object(N.jsxs)("h2",{className:"conclusion",children:["You won the ",Object(N.jsx)(r.b,{to:c.auction_url,children:d.title})," for ",Object(N.jsx)("strong",{children:Object(C.l)(t)}),"! The buyer\u2019s fee of ",Object(N.jsx)("strong",{children:Object(C.l)(s,!0)})," will be charged to your card on file."]}),Object(N.jsxs)("p",{className:"callout",children:["Soon we\u2019ll send you the seller\u2019s contact information so you can reach out to them to complete the vehicle purchase for ",Object(N.jsx)("strong",{children:Object(C.l)(t)}),". In the meantime, we\u2019re here to answer any questions you might have. Thank you for your business!"]}),Object(N.jsx)("div",{className:"contact-block",children:Object(N.jsx)("p",{children:"The seller\u2019s contact information will be displayed here shortly. Please check back soon."})})]})]}),!this.state.loading_messages&&Object(N.jsx)(g.a,{messages:h,unread:p,onSend:this.onSendMessage,onToggle:this.onToggleConversation,onExpand:this.onToggleExpandConversation,isOpen:this.state.conversationOpened,autoFocus:!this.context.isMobile,toggleRef:this.toggleConvoRef})]}),Object(N.jsxs)(i.Suspense,{fallback:Object(N.jsx)("div",{}),children:[!e&&c&&this.props.actions.isModal("ShippingQuoteModal")&&Object(N.jsx)(S,{isOpen:this.props.actions.isModal("ShippingQuoteModal"),onCancel:this.props.actions.closeModal,auction_id:c.id,submission_id:c.submission_id,auctionEnded:!0,auction_end:this.props.stats.auction_end,isWinner:!0,tab:"shipping",hideTabs:!0,...this.props.modal.options}),!e&&c&&this.props.actions.isModal("BookShippingModal")&&Object(N.jsx)(A,{isOpen:this.props.actions.isModal("BookShippingModal"),onCancel:this.props.actions.closeModal,onFinished:this.onFinishedBooking,auction_id:c.id,submission_id:c.submission_id,...this.props.modal.options})]})]})})}}I.contextType=b.a,t.default=Object(u.a)(Object(a.b)(((e,t)=>{const s=t.match.params.auctionId;return{app:e.app,auction:Object(_.d)(e,s),listing:Object(_.p)(e,s),stats:Object(_.v)(e,s),submission:e.submission,modal:e.modal}}),(e=>({actions:Object(o.b)({getAuctionById:f.getAuctionById,getAuctionWinnerInfo:f.getAuctionWinnerInfo,setChecklistItem:f.setChecklistItem,markSubmissionMessagesSeen:v.p,postSubmissionMessage:v.s,wsRegisterMessages:w.y,wsDeregisterMessages:w.p,wsMessagesSince:w.v,refreshed:O.e,showModal:y.d,closeModal:y.a,isModal:y.b},e)})))(I))},846:function(e,t,s){"use strict";s.r(t);var i=s(1),n=s.n(i),o=s(15),a=s(13),r=s(107),l=s(12),c=s(24),d=s.n(c),h=s(684),p=s(690),u=s(691),b=s(685),m=s(370),j=s(369),g=s(696),x=s(43),O=s(14),f=s(84),v=s(728),y=s(240),w=s(44),_=s(18),k=s(8),C=s(4),N=s(20),S=(s(698),s(0));const A={loading:!1,error:!1,conversationOpened:!1,loading_messages:!0,ws_retries:0,inspection:!1,showConfirmApprove:!1,showConfirmDecline:!1};class T extends i.Component{constructor(){super(...arguments),this.state={...A},this.toggleConvoRef=n.a.createRef(),this.retryTimer=0,this.mounted=!1,this.onBeforeUnload=e=>{this.state.conversationOpened&&this.clearBadge(),delete e.returnValue},this.fetchInspection=()=>{this.setState({loading:!0,loading_messages:!0}),this.props.actions.getSubmissionInspection(this.props.match.params.submission_id).then((e=>{this.mounted&&(e.report_url?this.setState({inspection:e,loading:!1}):this.redirectToSubmission())}),this.processErrorCode);const e=Object(k.o)();this.props.actions.wsRegisterMessages(this.props.match.params.submission_id).then((()=>{const{unread_count:t}=this.getMessageData(),s=d.a.parse(this.props.location.search),{isMobile:i}=this.context;this.mounted&&this.setState({loading_messages:!1,conversationOpened:!i&&t>0||"true"===s.m}),!0===this.props.app.refresh&&this.props.actions.refreshed(),this.props.actions.wsMessagesSince(e)}))},this.refreshInspection=()=>{this.props.actions.getSubmissionInspection(this.props.match.params.submission_id).then((e=>{this.mounted&&(e.report_url?this.setState({inspection:e,loading:!1}):this.redirectToSubmission())}),this.processErrorCode);const e=Object(k.o)();this.props.actions.wsRegisterMessages(this.props.match.params.submission_id).then((()=>{!0===this.props.app.refresh&&this.props.actions.refreshed(),this.props.actions.wsMessagesSince(e)}))},this.redirectToSubmission=()=>{this.props.history.push(Object(C.ib)(this.props.match.params.submission_id))},this.processErrorCode=e=>{e.error_code===N.K?this.props.history.push(C.w.path):this.redirectToSubmission()},this.clearBadge=()=>{const{unread_count:e}=this.getMessageData();if(e>0){const e=this.props.match.params.submission_id;this.props.actions.markSubmissionMessagesSeen(e)}},this.getMessageData=()=>{let e=[],t=0;const s=this.props.match.params.submission_id,i=this.props.submission,n=!!i&&i.messages;return n&&n[s]&&(e=n[s].messages,t=n[s].new),{messages:e,unread_count:t}},this.openConversation=e=>{e&&e.preventDefault(),this.toggleConvoRef.current&&!this.state.conversationOpened&&this.toggleConvoRef.current.click()},this.onToggleConversation=()=>(this.state.conversationOpened&&this.clearBadge(),O.a.addEvent({event:"seller",category:"seller",action:"chat",label:this.state.conversationOpened?"window_closed":"window_opened",car_id:this.props.match.params.submission_id}),new Promise(((e,t)=>{this.mounted&&this.setState({conversationOpened:!this.state.conversationOpened},(()=>{e()}))}))),this.onToggleExpandConversation=e=>{O.a.addEvent({event:"seller",category:"seller",action:"chat",label:e?"window_expanded":"window_restored",car_id:this.props.match.params.submission_id})},this.onSendMessage=e=>{this.clearBadge();const t=this.props.match.params.submission_id;return this.props.actions.postSubmissionMessage({submission_id:t,message:e}).then((e=>{O.a.addEvent({event:"seller",category:"seller",action:"chat",label:"submitted",car_id:t})}),(e=>{}))},this.getHeading=()=>{const{inspection:e}=this.state;return e?this.isReviewExpired()?"Your inspection review has expired.":!0===e.is_approved_by_seller?"Your inspection report has been approved!":!1===e.is_approved_by_seller?"Your inspection report has been declined.":"Your inspection report is ready for review.":""},this.getStatusMessage=()=>{const{inspection:e}=this.state;return e?this.isReviewExpired()?"The Cars & Bids team doesn\u2019t have access to this inspection report.":!0===e.is_approved_by_seller?"We are reviewing your inspection report and will include it with your listing.":!1===e.is_approved_by_seller?"The Cars & Bids team doesn\u2019t have access to this inspection report.":"The Cars & Bids team doesn\u2019t have access to the inspection report for your ".concat(e.title," until you review and approve it below."):""},this.hasReviewed=()=>{const{inspection:e}=this.state;return!(!e||!0!==e.is_approved_by_seller&&!1!==e.is_approved_by_seller)},this.isReviewExpired=()=>{const{inspection:e}=this.state;return!(!e||!e.has_draft||this.hasReviewed())},this.onViewReport=e=>{e&&e.preventDefault(),this.state.inspection.viewed_at||this.props.actions.markInspectionReportSeen(this.props.match.params.submission_id).finally((()=>{const e=this.state.inspection;e.viewed_at=Date.now(),this.mounted&&this.setState({inspection:e})})),window.open(this.state.inspection.report_url)},this.onDeclineReport=e=>{e&&e.preventDefault(),this.setState({showConfirmDecline:!0})},this.onConfirmDeclineReport=e=>{e&&e.preventDefault(),this.props.actions.declineInspectionReport(this.props.match.params.submission_id).then((()=>{O.a.addEvent({event:"gaevent",category:"inspections",action:"report_declined",label:"submission",car_id:this.props.match.params.submission_id});const e=this.state.inspection;e.is_approved_by_seller=!1,this.mounted&&this.setState({inspection:e})}),(e=>{if(!this.mounted)return;const t=this.state.inspection;e.error_code===N.A?(t.has_draft=!0,this.setState({error:"The inspection review has expired.",inspection:t,showConfirmDecline:!1,showConfirmApprove:!1})):e.error_code===N.l?(this.refreshInspection(),this.setState({error:"You've already accepted or declined this report.",showConfirmDecline:!1,showConfirmApprove:!1})):e.error_code===N.t&&(this.refreshInspection(),this.setState({error:"This report does not exist",showConfirmDecline:!1,showConfirmApprove:!1}))}))},this.onAddReport=e=>{e&&e.preventDefault(),this.setState({showConfirmApprove:!0})},this.onConfirmAddReport=e=>{e&&e.preventDefault(),this.props.actions.approveInspectionReport(this.props.match.params.submission_id).then((()=>{O.a.addEvent({event:"gaevent",category:"inspections",action:"report_approved",label:"submission",car_id:this.props.match.params.submission_id});const e=this.state.inspection;e.is_approved_by_seller=!0,this.mounted&&this.setState({inspection:e})}),(e=>{if(!this.mounted)return;const t=this.state.inspection;e.error_code===N.A?(t.has_draft=!0,this.setState({error:"The inspection review has expired.",inspection:t,showConfirmDecline:!1,showConfirmApprove:!1})):e.error_code===N.l?(this.refreshInspection(),this.setState({error:"You've already accepted or declined this report.",showConfirmDecline:!1,showConfirmApprove:!1})):e.error_code===N.t&&(this.refreshInspection(),this.setState({error:"This report does not exist",showConfirmDecline:!1,showConfirmApprove:!1}))}))},this.onProceed=e=>{e&&e.preventDefault(),this.redirectToSubmission()}}componentDidMount(){this.mounted=!0,this.fetchInspection(),window.addEventListener("beforeunload",this.onBeforeUnload)}componentDidUpdate(e){const t=this.props.match.params.submission_id;if(e.match.params.submission_id!==t)this.setState(A,(()=>{this.fetchInspection()}));else if(e.app.refresh||!0!==this.props.app.refresh){(!!e.location.state&&e.location.state.rand)!==(!!this.props.location.state&&this.props.location.state.rand)&&this.fetchInspection()}else this.refreshInspection()}componentWillUnmount(){this.mounted=!1,clearTimeout(this.retryTimer),window.removeEventListener("beforeunload",this.onBeforeUnload),this.props.actions.wsDeregisterMessages(),this.state.conversationOpened&&this.clearBadge()}render(){const{loading:e,loading_messages:t,showConfirmApprove:s,showConfirmDecline:i,inspection:o,error:a}=this.state,{messages:c,unread_count:d}=this.getMessageData();return Object(S.jsx)(f.a,{className:"subflow subdetail inspection-review",children:!e&&Object(S.jsxs)(n.a.Fragment,{children:[Object(S.jsx)(r.a,{title:"".concat(o.title," Inspection Report"),children:Object(S.jsx)("meta",{name:"page-loaded",content:"true"})}),Object(S.jsxs)("div",{className:"row subbody",children:[Object(S.jsx)("div",{className:"breadcrumbs d-none d-md-block",children:Object(S.jsxs)("p",{children:[Object(S.jsx)(l.b,{to:C.w.path,children:"My listings"})," \u2014 ",o.title]})}),Object(S.jsxs)("div",{className:"col",children:[Object(S.jsx)("h1",{children:this.getHeading()}),Object(S.jsx)("p",{className:"status_message",children:this.getStatusMessage()}),o.report_url&&Object(S.jsx)("button",{type:"button",className:"btn btn-link review ".concat(o.viewed_at?"reviewed":""),onClick:this.onViewReport,children:"View inspection report"}),!this.hasReviewed()&&!this.isReviewExpired()&&Object(S.jsxs)("div",{className:"inspection-controls",children:[Object(S.jsxs)(h.a,{children:[Object(S.jsx)(p.a,{className:"btn-lg other",children:"Other options"}),Object(S.jsxs)(u.a,{tag:"ul",children:[Object(S.jsx)(b.a,{tag:"li",children:Object(S.jsx)("a",{href:"https://lemonsquad.com/contact",target:"_blank",rel:"noopener noreferrer",children:"Contact Lemon Squad"})}),Object(S.jsx)(b.a,{tag:"li",children:Object(S.jsx)("a",{href:C.p.path,target:"_blank",rel:"noopener noreferrer",children:"Inspection report info"})}),Object(S.jsx)(b.a,{tag:"li",children:Object(S.jsx)("button",{className:"btn rb btn-link",onClick:this.onDeclineReport,type:"button",children:"Decline to add this report"})})]})]}),Object(S.jsx)("button",{type:"button",className:"btn btn-lg btn-primary add",onClick:this.onAddReport,disabled:!o.viewed_at,children:"Add to my listing"})]}),this.isReviewExpired()&&Object(S.jsx)("div",{className:"inspection-controls expired",children:Object(S.jsxs)("p",{children:[Object(S.jsx)("button",{type:"button",className:"btn btn-link chat rb",onClick:this.openConversation,children:"Chat with us"})," if you have any questions."]})}),a&&Object(S.jsx)("p",{className:"text-danger mt-e",children:a})]}),s&&Object(S.jsx)(m.a,{isOpen:s,fade:!1,backdrop:"static",className:"report-overlay",autoFocus:!1,returnFocusAfterClose:!1,centered:!0,children:Object(S.jsx)(j.a,{children:Object(S.jsx)("div",{className:"center-wrap",children:!0===o.is_approved_by_seller?Object(S.jsxs)(n.a.Fragment,{children:[Object(S.jsx)("h6",{children:"Great! Your inspection report is approved."}),Object(S.jsx)("p",{children:"We\u2019ll include the inspection report with your listing."}),Object(S.jsx)("div",{className:"actions",children:Object(S.jsx)("button",{type:"button",className:"btn btn-lg btn-primary",onClick:this.onProceed,children:"Close"})})]}):Object(S.jsxs)(n.a.Fragment,{children:[Object(S.jsx)("h6",{children:"Add this report to my listing."}),Object(S.jsx)("p",{children:"We will include relevant information from this report in your listing, including known flaws."}),Object(S.jsxs)("div",{className:"actions",children:[Object(S.jsx)("button",{type:"button",className:"btn btn-lg btn-primary",onClick:this.onConfirmAddReport,children:"Add to my listing"}),Object(S.jsx)("button",{type:"button",className:"btn btn-lg btn-secondary",onClick:e=>{this.setState({showConfirmApprove:!1})},children:"Cancel"})]})]})})})}),i&&Object(S.jsx)(m.a,{isOpen:i,fade:!1,backdrop:"static",className:"report-overlay",autoFocus:!1,returnFocusAfterClose:!1,centered:!0,children:Object(S.jsx)(j.a,{children:Object(S.jsx)("div",{className:"center-wrap",children:!1===o.is_approved_by_seller?Object(S.jsxs)(n.a.Fragment,{children:[Object(S.jsx)("h6",{children:"Ok, this inspection report will not be added to your listing."}),Object(S.jsx)("p",{children:"The Cars & Bids team doesn\u2019t have access to this inspection report."}),Object(S.jsx)("div",{className:"actions",children:Object(S.jsx)("button",{type:"button",className:"btn btn-lg btn-primary",onClick:this.onProceed,children:"Close"})})]}):Object(S.jsxs)(n.a.Fragment,{children:[Object(S.jsx)("h6",{children:"Do not add this report to my listing."}),Object(S.jsx)("p",{children:"We strongly recommend including this report with your listing, even if the report includes flaws."}),Object(S.jsx)("p",{children:"Bidders will feel more confident knowing your car\u2019s current condition, resulting in more bids \u2013 and a higher final sale price."}),Object(S.jsxs)("div",{className:"actions",children:[Object(S.jsx)("button",{type:"button",className:"btn btn-lg btn-primary",onClick:this.onConfirmDeclineReport,children:"Do not add this report"}),Object(S.jsx)("button",{type:"button",className:"btn btn-lg btn-secondary",onClick:e=>{this.setState({showConfirmDecline:!1})},children:"Back"})]})]})})})}),!t&&Object(S.jsx)(v.a,{messages:c,unread:d,onSend:this.onSendMessage,onToggle:this.onToggleConversation,onExpand:this.onToggleExpandConversation,isOpen:this.state.conversationOpened,autoFocus:!this.context.isMobile,toggleRef:this.toggleConvoRef})]})]})})}}T.contextType=x.a,t.default=Object(g.a)(Object(a.b)((e=>({app:e.app,submission:e.submission})),(e=>({actions:Object(o.b)({getSubmissionInspection:y.k,markSubmissionMessagesSeen:y.p,postSubmissionMessage:y.s,wsRegisterMessages:_.y,wsDeregisterMessages:_.p,wsMessagesSince:_.v,refreshed:w.e,markInspectionReportSeen:y.o,approveInspectionReport:y.a,declineInspectionReport:y.e},e)})))(T))},852:function(e,t,s){"use strict";s.r(t);var i=s(1),n=s.n(i),o=s(15),a=s(13),r=s(107),l=s(80),c=s(24),d=s.n(c),h=s(696),p=s(43),u=s(14),b=s(84),m=s(728),j=s(0);var g=e=>{let{submission:t,current_page:s,furthest_page:i}=e;return Object(j.jsxs)(n.a.Fragment,{children:[Object(j.jsx)(Qe,{current_page:s,furthest_page:i}),Object(j.jsxs)("div",{className:"col",children:[Object(j.jsxs)("h1",{children:["Thanks for your submission!",Object(j.jsx)("br",{}),"We\u2019ll get back to you soon."]}),Object(j.jsxs)("p",{className:"callout",children:["We\u2019ll review your ",t.title," to see if it\u2019s a match for Cars & Bids. You can expect to hear from us within a business day, and we'll reach out if we have any questions.",Object(j.jsx)("br",{}),Object(j.jsx)("br",{}),"Throughout this process, you can get in touch with us at any time by using the chat box on the bottom-right corner of this page. If we reach out with any questions, you\u2019ll be alerted both on the site and via email so you don\u2019t miss anything. In the unlikely event that you haven't heard from us in more than a few days, feel free to check back and send us a message."]})]})]})};var x=e=>{let{current_page:t}=e;return Object(j.jsxs)(n.a.Fragment,{children:[Object(j.jsx)(Qe,{current_page:t}),Object(j.jsxs)("div",{className:"col",children:[Object(j.jsx)("h1",{children:"Sorry, your car isn\u2019t a fit for Cars & Bids"}),Object(j.jsx)("p",{className:"callout",children:"Thank you again for submitting your car to Cars & Bids. Unfortunately, we\u2019ve determined your car isn\u2019t a fit for our site at this time. We wish you luck in selling it and hope you\u2019ll consider us again in the future when you have other cars to sell!"})]})]})},O=s(689),f=s(722),v=s(240),y=s(6),w=s(8);class _ extends i.Component{constructor(e){super(e),this.getSupportsInspections=()=>!0===this.props.submission.is_inspection_eligible,this.onJumpTo=(e,t)=>{this.props.onPrevPage({page:t,status:{...this.props.submission.status}})},this.onPageNext=e=>{e&&e.preventDefault(),this.props.onNextPage({page:this.getSupportsInspections()?0:1,status:{...this.props.submission.status}})},this.mounted=!1,this.state={loading:!0,application:{},error:!1}}componentDidMount(){this.mounted=!0,this.props.trackView("application"),this.props.actions.getApplication(this.props.submission.submission_id).then((e=>{this.setState({application:e,loading:!1})}),(e=>{this.setState({error:!0,loading:!1})}))}componentWillUnmount(){this.mounted=!1}render(){const{application:e}=this.state;return Object(j.jsxs)(n.a.Fragment,{children:[Object(j.jsx)(Qe,{current_page:this.props.current_page,furthest_page:this.props.furthest_page,onJumpTo:this.onJumpTo}),Object(j.jsxs)("div",{className:"col submission-read-only",children:[Object(j.jsx)("h1",{className:"read-only-heading",children:"Your application"}),this.state.error&&Object(j.jsx)("p",{children:"Sorry, there was an error loading information from your initial application"}),!this.state.loading&&!this.state.error&&Object(j.jsxs)("div",{className:"read-only-content",children:[Object(j.jsx)("h2",{children:"Your Info"}),Object(j.jsxs)("dl",{children:[Object(j.jsx)("dt",{children:"Dealer or private party?"}),Object(j.jsx)("dd",{children:e.owner_is_dealer?"Dealership":"Private party"}),e.owner_is_dealer&&Object(j.jsxs)(n.a.Fragment,{children:[Object(j.jsx)("dt",{children:"Dealership name"}),Object(j.jsx)("dd",{children:e.dealership_name}),Object(j.jsx)("dt",{children:"Are there any additional fees the buyer will have to pay?"}),Object(j.jsx)("dd",{children:e.dealership_fees?e.dealership_fees:"No"}),Object(j.jsx)("dt",{children:"Dealership website"}),Object(j.jsx)("dd",{children:e.dealership_website}),e.dealership_monthly_sales&&Object(j.jsx)("dt",{children:"How many vehicles does your dealership retail each month?"}),e.dealership_monthly_sales&&Object(j.jsx)("dd",{children:y.m[e.dealership_monthly_sales]})]}),Object(j.jsx)("dt",{children:"Full name"}),Object(j.jsx)("dd",{children:e.name}),Object(j.jsx)("dt",{children:"Contact phone number"}),Object(j.jsx)("dd",{children:e.phone_number})]}),Object(j.jsx)("h2",{children:"Car Details"}),Object(j.jsxs)("dl",{children:[Object(j.jsx)("dt",{children:"VIN"}),Object(j.jsx)("dd",{children:e.vin}),Object(j.jsx)("dt",{children:"Year"}),Object(j.jsx)("dd",{children:e.year}),Object(j.jsx)("dt",{children:"Make"}),Object(j.jsx)("dd",{children:e.make}),Object(j.jsx)("dt",{children:"Model"}),Object(j.jsx)("dd",{children:e.model}),Object(j.jsx)("dt",{children:"Where is the car located?"}),Object(j.jsxs)("dd",{children:[e.zip_code?e.zip_code:e.city_and_province,", ","US"===e.country?"United States":"Canada"]}),Object(j.jsx)("dt",{children:"Is this car for sale elsewhere?"}),Object(j.jsx)("dd",{children:e.listed_elsewhere?"Yes":"No"}),e.listed_elsewhere&&Object(j.jsxs)(n.a.Fragment,{children:[Object(j.jsx)("dt",{children:"Please link to all existing listings"}),Object(j.jsx)("dd",{children:Object(j.jsx)("ul",{className:"mb-0",children:e.current_listings.map(((e,t)=>Object(j.jsx)("li",{children:e},t)))})})]})]}),Object(j.jsx)("h2",{children:"Title Info"}),Object(j.jsxs)("dl",{children:[Object(j.jsx)("dt",{children:"Where is the car titled?"}),Object(j.jsxs)("dd",{children:[e.title_state?f.filter((t=>t.abbr===e.title_state.toUpperCase()))[0].name:e.title_province,", ",e.title_country]}),Object(j.jsx)("dt",{children:e.owner_is_dealer?"Do you have the title in hand?":"Is the vehicle titled in your name?"}),Object(j.jsx)("dd",{children:e.owner_has_title?"Yes":"No"}),!e.owner_has_title&&e.title_owner&&Object(j.jsxs)(n.a.Fragment,{children:[Object(j.jsx)("dt",{children:"Title Owner"}),Object(j.jsx)("dd",{children:Object(j.jsx)(O.a,{className:"mkdn",unwrapDisallowed:!0,skipHtml:!0,allowedElements:y.u,children:e.title_owner})})]}),Object(j.jsx)("dt",{children:"What is the title\u2019s status?"}),Object(j.jsx)("dd",{className:"cap",children:e.title_status})]}),Object(j.jsx)("h2",{children:"Reserve Price"}),Object(j.jsxs)("dl",{children:[Object(j.jsx)("dt",{children:"Do you want to set a minimum price required for your vehicle to sell?"}),Object(j.jsx)("dd",{children:e.has_reserve?"Yes \u2014 ".concat(Object(w.l)(e.reserve)):"No"})]}),Object(j.jsx)("h2",{children:"Referral"}),Object(j.jsxs)("dl",{children:[Object(j.jsx)("dt",{children:"How did you hear about us? If a user referred you please leave their username."}),Object(j.jsx)("dd",{children:e.referral})]}),Object(j.jsx)("button",{type:"button",className:"btn btn-primary btn-lg next",onClick:this.onPageNext,children:"Next"})]})]})]})}}var k=Object(a.b)(null,(e=>({actions:Object(o.b)({getApplication:v.g},e)})))(_),C=s(4),N=s(128),S=s.n(N),A=(s(700),s(725)),T=s(726),I=s(370),D=s(239),E=s(369),B=s(40),P=s(20),U=(s(823),s.p+"static/media/ppi-loader.3f3ae5fb.gif");class F extends i.Component{constructor(){super(...arguments),this.state={phoneCleave:!1},this.initPhoneInput=e=>{this.setState({phoneCleave:e})},this.hasExistingCard=()=>!!this.props.setup.last_4,this.onSubmit=e=>{this.props.onSubmit(e,this.props.stripe,this.props.elements)}}render(){const{setup:e,form:t,errors:s,submitting:i,allFieldsComplete:o,onChange:a,onStripeFieldChange:r}=this.props,l=[{id:"payment-saved",value:"saved",label:Object(j.jsx)("span",{children:"Card ending in ".concat(e.last_4)})},{id:"payment-new",value:"new",label:Object(j.jsx)("span",{children:"Use a new card"})}];return Object(j.jsxs)(B.e,{onSubmit:this.onSubmit,className:"inspection-booking-form",children:[Object(j.jsx)(B.g,{name:"contact_name",value:t.contact_name,label:"Name",onChange:a,disabled:i,error:s.contact_name}),Object(j.jsxs)("fieldset",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"phone_number",children:"Phone number"}),Object(j.jsx)(S.a,{className:"form-control",name:"phone_number",id:"id-phone_number",onInit:this.initPhoneInput,options:{phone:!0,phoneRegionCode:"US",delimiter:"-"},onChange:a,disabled:i,value:t.phone_number}),s.phone_number&&Object(j.jsx)("p",{className:"text-danger",children:s.phone_number})]}),Object(j.jsx)(B.k,{name:"notes",value:t.notes,label:"Notes (optional)",onChange:a,disabled:i,error:s.notes}),Object(j.jsx)("div",{className:"inspection-cost",children:e.mileage_fee&&e.mileage_fee>0?Object(j.jsxs)("dl",{children:[Object(j.jsx)("dt",{children:"Inspection"}),Object(j.jsx)("dd",{children:"$199.00"}),Object(j.jsx)("dt",{children:"Mileage Fee"}),Object(j.jsx)("dd",{children:Object(w.l)(e.mileage_fee,!0)}),Object(j.jsx)("dt",{className:"total",children:"Total"}),Object(j.jsx)("dd",{className:"total",children:Object(w.l)(199+e.mileage_fee,!0)})]}):Object(j.jsxs)("dl",{children:[Object(j.jsx)("dt",{className:"total",children:"Total"}),Object(j.jsx)("dd",{className:"total",children:"$199.00"})]})}),!e.payment_successful&&Object(j.jsxs)(n.a.Fragment,{children:[this.hasExistingCard()?Object(j.jsx)(B.c,{label:"Payment",name:"payment",className:"payment",value:t.payment,onChange:a,options:l,error:s.payment,disabled:i}):Object(j.jsx)("h6",{children:"Payment"}),("new"===t.payment||!this.hasExistingCard())&&Object(j.jsxs)(n.a.Fragment,{children:[this.hasExistingCard()&&Object(j.jsx)("h6",{children:"Credit Card Information"}),Object(j.jsx)(B.g,{name:"card_name",label:"Name on card",onChange:a,className:"lp-ignore",value:t.card_name,error:s.card_name,disabled:i,autoFocus:!!this.hasExistingCard()}),Object(j.jsx)(B.g,{name:"address_zip",label:"Zip or Postal Code",onChange:a,className:"lp-ignore",onKeyPress:w.r,"data-lpignore":"true",value:t.address_zip,error:s.address_zip,disabled:i,maxLength:"5"}),Object(j.jsxs)("fieldset",{className:"form-group stripe ccn",children:[Object(j.jsxs)("label",{className:"mb-0",children:["Credit Card Number",Object(j.jsx)(T.CardNumberElement,{onChange:r,options:{...y.k},disabled:i})]}),s.cardNumber&&Object(j.jsx)("p",{className:"text-danger",role:"alert",children:s.cardNumber})]}),Object(j.jsxs)("fieldset",{className:"form-group stripe expiry",children:[Object(j.jsxs)("label",{className:"mb-0",children:["Expiration",Object(j.jsx)(T.CardExpiryElement,{onChange:r,options:{...y.k},disabled:i})]}),s.cardExpiry&&Object(j.jsx)("p",{className:"text-danger",role:"alert",children:s.cardExpiry})]}),Object(j.jsxs)("fieldset",{className:"form-group stripe cvc",children:[Object(j.jsxs)("label",{className:"mb-0",children:["CVC (3 or 4 digit code)",Object(j.jsx)(T.CardCvcElement,{onChange:r,options:{...y.k},disabled:i})]}),s.cardCvc&&Object(j.jsx)("p",{className:"text-danger",role:"alert",children:s.cardCvc})]})]}),s.stripe&&Object(j.jsx)("p",{className:"text-danger mb-3",role:"alert",children:s.stripe})]}),Object(j.jsx)(B.a,{label:Object(j.jsxs)("span",{children:["I agree to Cars & Bids ",Object(j.jsx)("a",{href:C.U.path,target:"_blank",rel:"noopener noreferrer",title:C.U.title,children:"Terms of Use"})," and ",Object(j.jsx)("a",{href:C.B.path,target:"_blank",rel:"noopener noreferrer",title:C.B.title,children:"Privacy Policy"}),", and Lemon Squad's ",Object(j.jsx)("a",{href:C.r.path,target:"_blank",rel:"noopener noreferrer",title:C.r.title,children:"Terms and Conditions"}),"."]}),name:"agreement",value:t.agreement,onChange:a,error:s.agreement,disabled:i}),!this.hasExistingCard()&&Object(j.jsx)(B.a,{className:"rtb",label:"Keep my card on file and register to bid",name:"register_to_bid",value:t.register_to_bid,onChange:a,error:s.register_to_bid,disabled:i}),s.general&&Object(j.jsx)("p",{className:"text-danger mb-3",children:s.general}),Object(j.jsx)("button",{type:"submit",disabled:!o||i,onClick:this.onSubmit,className:"btn btn-lg btn-primary place-order",children:"Book inspection"})]})}}const R=e=>Object(j.jsx)(T.ElementsConsumer,{children:t=>{let{stripe:s,elements:i}=t;return Object(j.jsx)(F,{stripe:s,elements:i,...e})}});class M extends i.Component{constructor(e){super(e),this.canExit=()=>{const{stage:e}=this.state;return"booking"!==e},this.hasMileageFee=()=>{const{bookingSetup:e}=this.state;return!!(e&&e.mileage_fee&&e.mileage_fee>0)},this.onCancel=()=>{this.props.onCancel()},this.handlePlacesCallback=e=>{const t=this.state.errors;delete t.places,this.setState({place:e,errors:t,submittingAddress:!0}),this.props.actions.checkInspectionOverageFee(this.props.submission_id,{address:"".concat(e.street_number," ").concat(e.street),city:e.city?e.city:e.sublocality,state:e.state,zip_code:e.zip_code}).then((e=>{const{name:t,phone_number:s,...i}=e,n=this.state.bookingForm;n.contact_name=t,n.phone_number=s,i.default_payment_method_id||(n.payment="new"),i.last_4||(n.register_to_bid=!0);const o=s?s.replace(/-/g,""):"";this.setState({bookingForm:n,rawPhoneNumber:o,bookingSetup:i,stage:"book",submittingAddress:!1}),u.a.addEvent({event:"gaevent",category:"inspections",action:"impression",label:"submission_booking_form",car_id:this.props.submission_id})}),(e=>{const t=this.state.errors;e.error_code===P.J?t.places="You've already finished completing the submission and can no longer book an inspection.":e.error_code===P.I?t.places="Sorry, we encountered an issue. Please refresh the page and try again.":e.error_code===P.j?t.places="Sorry, this car is ineligible for inspections.":t.places="Sorry, we encountered an issue. Please refresh the page and try again.",this.setState({errors:t,submittingAddress:!1})}))},this.handlePlacesErrorCallback=e=>{const t=this.state.errors;t.places="Oops \u2013 something went wrong. Please try again later or use a more specific address.",this.setState({errors:t})},this.handlePlacesInputChanged=()=>{const e=this.state.errors;e.places="",this.setState({place:!1,errors:e})},this.handlePlacesScriptError=()=>{const e=this.state.errors;e.places="Error loading Places script",this.setState({placesUnavailable:!0,errors:e})},this.editInspectionAddress=e=>{e&&e.preventDefault(),this.setState({stage:"address"})},this.editBookingForm=e=>{e&&e.preventDefault(),this.setState({stage:"book",not_booked_message:""})},this.getDestinationDisplay=()=>{const{place:e}=this.state;return"".concat(e.street_number," ").concat(e.street,", ").concat(e.city?e.city:e.sublocality,", ").concat(e.state,", ").concat(e.zip_code)},this.handleBookingFormChange=async e=>{const{target:t}=e,s="checkbox"===t.type?t.checked:t.value,{name:i}=t;if(i){let e={...this.state.bookingForm};e[i]=s,"phone_number"===i?await this.setState({bookingForm:e,rawPhoneNumber:t.rawValue}):await this.setState({bookingForm:e})}},this.handleStripeFieldChange=e=>{let t=this.state.errors,s=this.state.stripeFieldsComplete;e.error?(t[e.elementType]=e.error.message,s[e.elementType]=!1):e.complete?(delete t[e.elementType],delete t.stripe,s[e.elementType]=!0):e.complete||(s[e.elementType]=!1),this.setState({errors:t,stripeFieldsComplete:s})},this.allFieldsComplete=()=>{const e=this.state.bookingForm,t=this.state.errors,s=this.state.stripeFieldsComplete;return this.state.bookingSetup.payment_successful?!!(e.contact_name.trim()&&e.phone_number.trim()&&e.agreement):!(t.stripe||t.cardNumber||t.cardExpiry||t.cardCvc||!e.contact_name.trim()||!e.phone_number.trim()||!e.payment||!e.agreement)&&!!("new"!==e.payment||e.address_zip&&e.card_name&&s.cardNumber&&s.cardExpiry&&s.cardCvc)},this.onSubmitBooking=(e,t,s)=>{e&&e.preventDefault();const{bookingForm:i,bookingSetup:o}=this.state,a={};if(i.contact_name.trim()||(a.contact_name="Please enter your name"),i.phone_number.trim()?Object(w.b)(this.state.rawPhoneNumber)&&(a.phone_number=Object(w.b)(this.state.rawPhoneNumber)):a.phone_number="Please enter your phone number",i.agreement||(a.agreement="You must agree to the terms"),"new"===i.payment&&!o.payment_successful){const e=i.card_name.trim(),t=i.address_zip.trim();e||(a.card_name="Please enter the name on the card"),t&&5===t.length||(a.address_zip="Please enter your billing zip or postal code")}if(Object.getOwnPropertyNames(a).length<1){this.setState({submittingBooking:!0,stage:"booking",errors:a,not_booked_message:""});const e={name:i.contact_name,phone_number:i.phone_number,notes:i.notes};this.props.actions.startBookingInspection(this.props.submission_id,e).then((e=>{if(o.payment_successful)this.finishBooking();else{const e=o.client_secret;"new"===i.payment?t.createToken(s.getElement("cardNumber"),{name:i.card_name,address_zip:i.address_zip}).then((s=>{let{token:n,error:o}=s;if(o)this.setState({errors:{stripe:o.message},submittingBooking:!1,stage:"not_booked",not_booked_message:"We weren\u2019t able to book your inspection. Your card was not charged."});else{const s={payment_method:{card:{token:n.id},billing_details:{name:i.card_name,phone:i.phone_number}}};i.register_to_bid&&(s.setup_future_usage="off_session"),t.confirmCardPayment(e,s).then((e=>{let{paymentIntent:t,error:s}=e;s?this.setState({errors:{stripe:s.message},submittingBooking:!1,stage:"not_booked",not_booked_message:"".concat(s.message," We weren\u2019t able to book your inspection.")}):"succeeded"===t.status&&this.finishBooking(t.payment_method)}))}})):t.confirmCardPayment(e,{payment_method:o.default_payment_method_id}).then((e=>{let{paymentIntent:t,error:s}=e;s?this.setState({errors:{stripe:s.message},submittingBooking:!1,stage:"not_booked",not_booked_message:"".concat(s.message," We weren\u2019t able to book your inspection.")}):"succeeded"===t.status&&this.finishBooking(o.default_payment_method_id)}))}}),(e=>{if(!this.mounted)return;const t=this.state.errors;e.error_code===P.k||e.error_code===P.m?this.setState({errors:t,submittingBooking:!1,stage:"already_booked"}):(e.error_code===P.J?t.general="You've already finished completing the submission and can no longer book an inspection.":e.error_code===P.j?t.general="Sorry, this car is ineligible for inspections.":(e.error_code,P.n,t.general="Sorry, we encountered an issue. Please refresh the page and try again."),this.setState({errors:t,submittingBooking:!1,stage:"not_booked",not_booked_message:Object(j.jsxs)(n.a.Fragment,{children:["We weren\u2019t able to book your inspection. Your card was not charged. Please email us at ",Object(j.jsx)("a",{href:"mailto:support@carsandbids.com",children:"support@carsandbids.com"})," for more information."]})}))}))}else this.mounted&&this.setState({errors:a})},this.finishBooking=e=>{const t={register_to_bid:this.state.bookingForm.register_to_bid,terms_agreement:this.state.bookingForm.agreement};e&&(t.payment_method_id=e),this.props.actions.payInspectionBooking(this.props.submission_id,t).then((e=>{this.setState({stage:"booked",bookedContact:e}),!0===t.register_to_bid&&u.a.addEvent({event:"gaevent",category:"inspections",action:"register_to_bid",label:"submission_booking_form",car_id:this.props.submission_id}),u.a.addEvent({event:"gaevent",category:"inspections",action:"inspection_booked",label:"submission_booking_form",car_id:this.props.submission_id})}),(e=>{if(!this.mounted)return;const t=this.state.errors;e.error_code===P.k||e.error_code===P.m?this.setState({errors:t,submittingBooking:!1,stage:"already_booked"}):(e.error_code===P.J?t.general="You've already finished completing the submission and can no longer book an inspection.":e.error_code===P.j?t.general="Sorry, this car is ineligible for inspections.":t.general="Sorry, we encountered an issue. Please refresh the page and try again.",this.setState({errors:t,submittingBooking:!1,stage:"not_booked",not_booked_message:Object(j.jsxs)(n.a.Fragment,{children:["We weren\u2019t able to book your inspection. Your card was not charged. Please email us at ",Object(j.jsx)("a",{href:"mailto:support@carsandbids.com",children:"support@carsandbids.com"})," for more information."]})}))}))},this.getIcon=()=>"booked"===this.state.stage?Object(j.jsx)("img",{width:"42",height:"42",src:"data:image/png;base64,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",alt:"Booked!"}):"booking"===this.state.stage?Object(j.jsx)("img",{width:"40",height:"40",src:U,alt:"Loading..."}):"not_booked"===this.state.stage?Object(j.jsx)("img",{width:"42",height:"42",src:"data:image/png;base64,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",alt:"Not booked"}):Object(j.jsx)("img",{width:"42",height:"42",src:"data:image/png;base64,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",alt:"Inspections"}),this.getTitle=()=>"booked"===this.state.stage?"Your inspection is booked!":"booking"===this.state.stage?"Booking your inspection...":"not_booked"===this.state.stage?"Inspection not booked":"Book an Inspection",this.state={stage:"address",place:!1,submittingAddress:!1,placesUnavailable:!1,bookingSetup:!1,bookingForm:{contact_name:"",phone_number:"",notes:"",payment:"",card_name:"",address_zip:"",agreement:!1,register_to_bid:!1},stripeFieldsComplete:{cardNumber:!1,cardExpiry:!1,cardCvc:!1},bookedContact:!1,rawPhoneNumber:"",submittingBooking:!1,errors:{},not_booked_message:""},this.mounted=!1;const t=(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_DD_SERVICE:"autos_web_prod",REACT_APP_STRIPE_API_KEY:"pk_live_uE0KCkSjRZ4GEf3g2sZNUKXR00e8n1BRtt",REACT_APP_RECAPTCHA_SITE_KEY:"6Lfmp_AbAAAAAMG5EJznpW1uTF5e5JdU_E3Y0H4c",REACT_APP_ENV:"production",REACT_APP_INT_ANALYTICS:"on",REACT_APP_WWW_HOST:"https://carsandbids.com",REACT_APP_API_HOST:"https://carsandbids.com",REACT_APP_GA_TRACKING_ID:"UA-156948307-1",REACT_APP_GTM_ID:"GTM-K5N5R3T",REACT_APP_ADMIN_HOST:"https://admin.carsandbids.com",REACT_APP_S3_REGION:"us-west-2",REACT_APP_GSI_CLIENT_ID:"786198006180-6073uph1fb3ba59hhoi9sd2hj5d788eo.apps.googleusercontent.com",REACT_APP_PLACES:"AIzaSyBP7h1vb3NzsZjfPWt9jDzNXylFqMFP3Zs",REACT_APP_WS_URL:"wss://websocket.carsandbids.com/carsandbids",REACT_APP_FB_APP_ID:"565177264767476",REACT_APP_OPTIMIZE_ID:"OPT-TLFG8B5",REACT_APP_AHOST:"https://carsandbids.com/a",REACT_APP_DD:"pub3812e3f36992db115ba9b9a7f3cba892",REACT_APP_VERSION:"2023.8.17-2",REACT_APP_NAME:"autos-web"})||!1).REACT_APP_STRIPE_API_KEY;this.stripePromise=Object(A.a)(t)}componentDidMount(){this.mounted=!0}componentWillUnmount(){this.mounted=!1}render(){const{isOpen:e,paid:t,onSkip:s,onFinished:i}=this.props,o="booked"===this.state.stage,a="booking"===this.state.stage,r="not_booked"===this.state.stage,l="already_booked"===this.state.stage;return Object(j.jsx)(I.a,{isOpen:e,fade:!1,toggle:this.canExit()?this.onCancel:null,backdrop:"static",className:"book-inspection centered-content ".concat(o||a||r||l?"working":""," ").concat(l?"already-booked":""," ").concat(a?"booking":""," ").concat(o?"booked":""," ").concat(r?"not-booked":""),autoFocus:!1,returnFocusAfterClose:!1,centered:!0,children:Object(j.jsxs)("div",{className:"inspection-wrapper",children:[Object(j.jsx)(D.a,{toggle:this.canExit()?this.onCancel:null}),Object(j.jsxs)(E.a,{children:[Object(j.jsx)("div",{className:"inspection-icon",children:this.getIcon()}),Object(j.jsx)("h5",{className:"text-center",children:this.getTitle()}),"address"===this.state.stage&&Object(j.jsxs)(B.e,{onSubmit:e=>(e&&e.preventDefault(),!1),className:"inspection-address-form",children:[Object(j.jsx)("p",{children:"We\u2019ve partnered with Lemon Squad to provide professional inspection reports. The inspector will come to you and you\u2019ll have a report to review in just a few days."}),Object(j.jsx)("p",{children:"Enter your vehicle\u2019s location below to get started."}),Object(j.jsx)(B.i,{name:"address",label:"",placeholder:"Vehicle address",onChosen:this.handlePlacesCallback,onChosenError:this.handlePlacesErrorCallback,onChange:this.handlePlacesInputChanged,onScriptError:this.handlePlacesScriptError,disabled:this.state.submittingAddress,error:this.state.errors.places}),this.state.submittingAddress&&Object(j.jsx)("div",{className:"text-center",children:Object(j.jsx)("span",{className:"spinner-border",role:"status","aria-hidden":"true"})})]}),"address"!==this.state.stage&&this.state.bookingSetup&&Object(j.jsxs)("div",{className:"book-inspection",children:[Object(j.jsxs)("div",{className:"inspection-location",children:[Object(j.jsx)("p",{className:"label",children:"Vehicle Address"}),Object(j.jsxs)("p",{className:"location",children:[this.getDestinationDisplay()," ",!o&&!t&&Object(j.jsx)("button",{disabled:a,type:"button",onClick:this.editInspectionAddress,className:"btn btn-link rb",children:"Edit"})]}),this.hasMileageFee()&&Object(j.jsxs)("p",{className:"mileage-overage text-danger",children:["There is a ",Object(w.l)(this.state.bookingSetup.mileage_fee,!0)," mileage fee to get the closest inspector to this address."]})]}),Object(j.jsx)(T.Elements,{stripe:this.stripePromise,children:Object(j.jsx)(R,{onSubmit:this.onSubmitBooking,form:this.state.bookingForm,setup:this.state.bookingSetup,errors:this.state.errors,submitting:this.state.submittingBooking,onChange:this.handleBookingFormChange,onStripeFieldChange:this.handleStripeFieldChange,allFieldsComplete:this.allFieldsComplete()})}),Object(j.jsx)("button",{type:"button",disabled:this.state.submittingBooking,onClick:s,className:"btn btn-lg btn-secondary skip-order",children:"Continue without inspection"})]}),(a||o||r||l)&&Object(j.jsxs)("div",{className:"working-overlay",children:[o&&Object(j.jsx)(n.a.Fragment,{children:Object(j.jsxs)("div",{className:"content booked",children:[Object(j.jsxs)("p",{children:["We emailed your confirmation to ",this.state.bookedContact.email," \u2013 and Lemon Squad will call you at ",this.state.bookedContact.phone_number," to schedule your inspection."]}),Object(j.jsx)("button",{type:"button",onClick:i,className:"btn btn-lg btn-primary place-order",children:"Continue your submission"})]})}),l&&Object(j.jsx)(n.a.Fragment,{children:Object(j.jsxs)("div",{className:"content booked",children:[Object(j.jsx)("p",{children:"You've already previously booked an inspection. Lemon Squad will call you to schedule your inspection."}),Object(j.jsx)("button",{type:"button",onClick:i,className:"btn btn-lg btn-primary place-order",children:"Continue your submission"})]})}),a&&Object(j.jsx)("div",{className:"content booking",children:Object(j.jsx)("p",{children:"This may take a few moments \u2013 please do not close your browser or refresh the page."})}),r&&Object(j.jsx)(n.a.Fragment,{children:Object(j.jsxs)("div",{className:"content not-booked",children:[Object(j.jsx)("p",{children:this.state.not_booked_message}),Object(j.jsx)("button",{type:"button",onClick:this.editBookingForm,className:"btn btn-lg btn-primary place-order",children:"Back to booking screen"}),Object(j.jsx)("button",{type:"button",onClick:s,className:"btn btn-lg btn-secondary skip-order",children:"Continue your submission"})]})})]})]})]})})}}var L=Object(a.b)(null,(e=>({actions:Object(o.b)({checkInspectionOverageFee:v.c,startBookingInspection:v.B,payInspectionBooking:v.q},e)})))(M);class Y extends i.Component{constructor(e){super(e),this.onSkipStep=e=>{u.a.addEvent({event:"gaevent",category:"inspections",action:"skip",label:"submission_inspection_step",car_id:this.props.submission.submission_id}),this.onContinue(e)},this.onSkipInModal=e=>{u.a.addEvent({event:"gaevent",category:"inspections",action:"skip",label:"submission_booking_modal",car_id:this.props.submission.submission_id}),this.onContinue(e)},this.onContinue=e=>{e&&e.preventDefault(),this.setState({submitting:!0}),this.props.actions.putSubmissionInspection(this.props.submission.submission_id).then((e=>{this.props.onNextPage(e)}),(e=>{console.log(e)}))},this.showBookingModal=e=>{e&&e.preventDefault(),this.setState({showBooking:!0}),u.a.addEvent({event:"gaevent",category:"inspections",action:"impression",label:"submission_booking_modal",car_id:this.props.submission.submission_id})},this.cancelBooking=e=>{e&&e.preventDefault(),this.setState({showBooking:!1})},this.onFinishedBooking=e=>{this.onContinue(e)},this.onJumpTo=(e,t)=>{e&&e.preventDefault(),t<0?this.props.onPrevPage({page:t,status:{...this.props.submission.status}}):(this.setState({submitting:!0}),this.props.actions.putSubmissionInspection(this.props.submission.submission_id,t<0).then((e=>{this.props.onPrevPage({page:t,status:{...this.props.submission.status}})}),(e=>{console.log(e)})))},this.mounted=!1,this.state={submitting:!1,showBooking:!1}}componentDidMount(){this.mounted=!0,this.props.trackView("inspection")}componentWillUnmount(){this.mounted=!1}render(){const{submitting:e,showBooking:t}=this.state,{submission:s,current_page:i,furthest_page:o}=this.props,{title:a,has_reserve:r,reserve:l,submission_id:c,is_inspection_booked:d}=s;return Object(j.jsxs)(n.a.Fragment,{children:[Object(j.jsx)(Qe,{current_page:i,furthest_page:o,onJumpTo:this.onJumpTo}),Object(j.jsxs)("div",{className:"col",children:[Object(j.jsx)("h1",{className:"inspections",children:"Your car has been accepted!"}),Object(j.jsxs)("p",{className:"callout callout-inspections",children:["Congratulations, we\u2019ve accepted your ",a," ",r?"with a reserve price of ".concat(Object(w.l)(l)):"as a No Reserve auction","!"]}),Object(j.jsxs)("div",{className:"inspections-cta",children:[Object(j.jsxs)("h2",{children:[Object(j.jsx)("span",{className:"tag",children:"NEW"})," Book an inspection to get the most for your car."]}),Object(j.jsxs)("p",{children:["A quick and easy inspection gives bidders information about your car\u2019s condition so they have the confidence to bid more. ",Object(j.jsx)("a",{href:C.p.path,target:"_blank",rel:"noopener noreferrer",children:"Learn more"})]}),d?Object(j.jsx)("button",{type:"button",className:"btn btn-secondary btn-lg submit inspections-book",disabled:!0,children:"Inspection booked"}):Object(j.jsx)(n.a.Fragment,{children:Object(j.jsx)("button",{type:"button",className:"btn btn-secondary btn-lg submit inspections-book",onClick:this.showBookingModal,children:"Book an inspection - $199"})}),t&&Object(j.jsx)(L,{isOpen:t,onCancel:this.cancelBooking,onFinished:this.onFinishedBooking,onSkip:this.onSkipInModal,submission_id:c})]}),Object(j.jsx)("div",{className:"inspections-divider",children:Object(j.jsx)("span",{children:"or"})}),Object(j.jsx)("button",{type:"button",className:"btn btn-primary btn-lg submit inspections-submit ".concat(e?"disabled":""),onClick:d?this.onContinue:this.onSkipStep,disabled:e,children:"Continue your submission"})]})]})}}var W=Object(a.b)(null,(e=>({actions:Object(o.b)({putSubmissionInspection:v.w},e)})))(Y),V=s(38),H=s(701),J=s(705),q=s(699);const z=e=>{let{photos:t,onDelete:s,onCancel:i,onRemoveErrored:o}=e;return Object(j.jsx)(n.a.Fragment,{children:t.filter((e=>"canceled"!==e.status)).length>0&&Object(j.jsx)("ul",{className:"upload-picks",children:t.map((e=>Object(j.jsx)(J.a,{...e,type:"photo",canDelete:!0,onDelete:s,onCancel:i,onRemoveErrored:o},e.id)))})})},Z={listed_elsewhere:"",year:"",make:"",model:"",vin:"",mileage:"",transmission:"",noteworthy:"",additional_options:"",exterior_color:"",interior_color:"",engine:"",ownership_history:"",lienholder:"",title_photo:[]},K=["mileage","transmission","noteworthy","additional_options","exterior_color","interior_color","engine","ownership_history","lienholder","title_photo","listed_elsewhere"],Q=y.N.slice(),G=[{id:"lien-yes",value:"true",label:"Yes"},{id:"lien-no",value:"false",label:"No"}];class X extends i.Component{constructor(e){super(e),this.resetFields=()=>{let{...e}=this.props.submission.data.details;return e.year=this.props.submission.year,e.make=this.props.submission.make,e.model=this.props.submission.model,e.title_photo=e.title_photo?[{id:e.title_photo.id,status:"uploaded",resp:{...e.title_photo}}]:[],e.transmission=e.transmission?e.transmission.charAt(0).toUpperCase()+e.transmission.slice(1):"",{submitting:!1,hasChanges:!1,form:Object.assign({...Z},e),errors:{},mileageCleave:null}},this.onBeforeUnload=e=>{this.state.hasChanges?(e.preventDefault(),e.returnValue=""):delete e.returnValue},this.initMileageInput=e=>{this.setState({mileageCleave:e})},this.getSupportsInspections=()=>!0===this.props.submission.is_inspection_eligible,this.handleInputChange=async e=>{const{target:t}=e,s="checkbox"===t.type?t.checked:t.value,{name:i}=t;if(i){let e={...this.state.form};e[i]=s,await this.setState({form:e,hasChanges:!0})}},this.handleToggle=async e=>{const{target:t}=e,s=t.value,{name:i}=t;let n={...this.state.form};n[i]=s,await this.setState({form:n})},this.uploadTitleAction=e=>this.props.actions.postPhoto({key:e}),this.onUpdateTitle=e=>{let t=this.state.form;t.title_photo=e,this.setState({form:t,hasChanges:!0})},this.deleteTitleAction=e=>this.props.actions.deletePhoto({photo_id:e}),this.processForm=()=>{let e={...this.state.form},t={};for(let i=0;i<K.length;i++)t[K[i]]=e[K[i]];"-1"===t.transmission&&(t.transmission=""),t.listed_elsewhere=Object(w.i)(t.listed_elsewhere),t.lienholder=Object(w.i)(t.lienholder);try{t.title_photo=t.title_photo.filter((e=>"uploaded"===e.status)).map((e=>e.resp.id))[0]}catch(s){t.title_photo=""}return t},this.processErrors=e=>{this.mounted&&this.setState({submitting:!1,errors:this.onErrors(e)},(()=>{const e=document.getElementsByClassName("text-danger");e[0]&&e[0].scrollIntoView({behavior:"auto",block:"center",inline:"nearest"})}))},this.onSubmit=e=>{if(e&&e.preventDefault(),this.state.form.title_photo.filter((e=>"uploading"===e.status)).length>0)return alert("Please wait until your title/registration photo has finished uploading before you proceed."),!1;let t=this.processForm();this.setState({errors:{},submitting:!0}),this.props.actions.putSubmissionDetails(this.props.submission.submission_id,t).then((e=>{this.props.onNextPage(e)}),(e=>{this.processErrors(e)}))},this.onErrors=e=>{let t={};if(e.error_code===P.v){const s=e.error_body;for(let[e,i]of Object.entries(s))i.indexOf("required")>=0?t[e]=q.b:t[e]=i[0]?i[0]:q.a;return t}return t},this.onGoBack=e=>{if(e&&e.preventDefault(),this.state.form.title_photo.filter((e=>"uploading"===e.status)).length>0)return alert("Please wait until your title/registration photo has finished uploading before you proceed."),!1;let t=this.processForm();this.setState({errors:{},submitting:!0}),this.props.actions.putSubmissionDetails(this.props.submission.submission_id,t,!0).then((e=>{this.props.onPrevPage({page:0,status:{...this.props.submission.status}})}),(e=>{this.processErrors(e)}))},this.onJumpTo=(e,t)=>{if(e&&e.preventDefault(),this.state.form.title_photo.filter((e=>"uploading"===e.status)).length>0)return alert("Please wait until your title/registration photo has finished uploading before you proceed."),!1;let s=this.processForm();this.setState({errors:{},submitting:!0}),this.props.actions.putSubmissionDetails(this.props.submission.submission_id,s,t<1).then((e=>{this.props.onPrevPage({page:t,status:{...this.props.submission.status}})}),(e=>{this.processErrors(e)}))},this.state=this.resetFields(),this.mounted=!1}componentDidMount(){this.mounted=!0,window.addEventListener("beforeunload",this.onBeforeUnload),this.props.trackView("details")}componentDidUpdate(e){e.submission.submission_id!==this.props.submission.submission_id&&this.setState(this.resetFields())}componentWillUnmount(){this.mounted=!1,window.removeEventListener("beforeunload",this.onBeforeUnload)}render(){const{form:e,errors:t,submitting:s,hasChanges:i}=this.state,{title:o,has_reserve:a,reserve:r}=this.props.submission,l=!(!a||r);return Object(j.jsxs)(n.a.Fragment,{children:[Object(j.jsx)(V.a,{when:i,message:"Are you sure you want to leave? Your unsaved changes will be lost."}),Object(j.jsx)(Qe,{current_page:this.props.current_page,furthest_page:this.props.furthest_page,onJumpTo:this.onJumpTo}),Object(j.jsxs)("div",{className:"col",children:[this.getSupportsInspections()?Object(j.jsxs)(n.a.Fragment,{children:[Object(j.jsx)("h1",{children:"Details"}),Object(j.jsx)("p",{className:"callout post-inspection-details",children:"To prepare your auction listing, we need to collect some additional information from you."})]}):Object(j.jsxs)(n.a.Fragment,{children:[Object(j.jsxs)("h1",{children:[Object(j.jsx)("span",{role:"img","aria-label":"Congrats",children:"\ud83c\udf89"})," Your car has been accepted!"]}),l?Object(j.jsx)("p",{className:"callout",children:"Congratulations, we\u2019d love to have your car on Cars & Bids! To prepare your auction listing, we need to collect some additional information from you."}):Object(j.jsxs)("p",{className:"callout",children:["Congratulations, we look forward to having your car on Cars & Bids! We\u2019ve accepted your ",o," ",a?"with a reserve price of ".concat(Object(w.l)(r)):"as a No Reserve auction",". To prepare your auction listing, we need to collect some additional information from you."]})]}),Object(j.jsxs)(B.e,{onSubmit:this.onSubmit,className:"no-bg",children:[Object(j.jsxs)("div",{className:"form-block",children:[Object(j.jsxs)("h2",{children:["Car ",this.getSupportsInspections()?"Info":"Details"]}),Object(j.jsxs)("div",{className:"d-flex",children:[Object(j.jsx)(B.g,{label:"VIN",name:"vin",value:e.vin,disabled:!0}),Object(j.jsx)(B.g,{label:"Year",name:"year",className:"year",value:e.year,disabled:!0})]}),Object(j.jsxs)("div",{className:"d-flex",children:[Object(j.jsx)(B.g,{label:"Make",name:"make",value:e.make,disabled:!0}),Object(j.jsx)(B.g,{label:"Model",name:"model",value:e.model,disabled:!0})]}),Object(j.jsx)("div",{className:"d-flex",children:Object(j.jsxs)("fieldset",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"mileage",children:"Current mileage (mi)"}),Object(j.jsx)(S.a,{className:"form-control",name:"mileage",id:"id-mileage",options:{numeral:!0,numeralDecimalScale:0,numeralPositiveOnly:!0,numeralThousandsGroupStyle:"thousand"},onInit:this.initMileageInput,onChange:this.handleInputChange,value:e.mileage}),t.mileage&&Object(j.jsx)("p",{className:"text-danger",children:t.mileage})]})}),Object(j.jsx)(B.j,{label:"What kind of transmission is in the car?",name:"transmission",value:e.transmission+"",options:Q,onChange:this.handleInputChange,error:t.transmission}),Object(j.jsx)(B.k,{label:"Noteworthy options/features",name:"noteworthy",value:e.noteworthy,onChange:this.handleInputChange,error:t.noteworthy}),Object(j.jsx)(B.k,{label:"Additional options and equipment list",name:"additional_options",value:e.additional_options,onChange:this.handleInputChange,error:t.additional_options}),Object(j.jsxs)("div",{className:"d-flex",children:[Object(j.jsx)(B.g,{label:"Exterior Color",name:"exterior_color",value:e.exterior_color,onChange:this.handleInputChange,error:t.exterior_color}),Object(j.jsx)(B.g,{label:"Interior Color",name:"interior_color",value:e.interior_color,onChange:this.handleInputChange,error:t.interior_color})]}),Object(j.jsx)("div",{className:"d-flex",children:Object(j.jsx)(B.g,{label:"What engine is in the vehicle?",name:"engine",value:e.engine,onChange:this.handleInputChange,error:t.engine})}),Object(j.jsx)(B.k,{label:"What is your ownership history? (How long owned, how many miles, etc.)",name:"ownership_history",value:e.ownership_history,onChange:this.handleInputChange,error:t.ownership_history})]})," ",!1===e.owner_is_dealer&&Object(j.jsxs)("div",{className:"form-block owner-info with-button-padding",children:[Object(j.jsx)("h2",{children:"Additional Title Info"}),Object(j.jsx)(B.c,{label:"Is there a loan on the vehicle?",name:"lienholder",value:e.lienholder,onChange:this.handleInputChange,options:G,error:t.lienholder,conditionalFields:null}),""!==e.lienholder&&Object(j.jsxs)(n.a.Fragment,{children:["true"===e.lienholder.toString()?Object(j.jsx)("p",{children:"Upload a photo of the title here. If you do not have the title due to a loan, upload a photo of the current registration."}):Object(j.jsx)("p",{children:"Upload a photo of the title here."}),Object(j.jsx)("p",{className:"inline",children:"This information will be kept private and only used for verification. It will not be shown in the auction listing."}),Object(j.jsx)(H.a,{uploadAction:this.uploadTitleAction,deleteAction:this.deleteTitleAction,uploadType:"photos",accept:y.s,one_file:!0,onUpdate:this.onUpdateTitle,photos:e.title_photo?e.title_photo:[],customHandler:Object(j.jsx)("button",{type:"button",className:"btn btn-outline-secondary",children:"true"===e.lienholder.toString()?"Upload a title/registration photo":"Upload a title photo"}),customInitializing:Object(j.jsx)("div",{className:"upload-drop-site",children:Object(j.jsx)("div",{className:"handler",children:Object(j.jsx)("button",{disabled:!0,type:"button",className:"btn btn-outline-secondary",children:"true"===e.lienholder.toString()?"Upload a title/registration photo":"Upload a title photo"})})}),customRender:z}),t.title_photo&&Object(j.jsx)("p",{className:"text-danger",style:{marginTop:"-24px",paddingBottom:"24px"},children:t.title_photo})]})]}),Object(j.jsxs)("div",{className:"buttons",children:[this.getSupportsInspections()&&Object(j.jsx)("button",{type:"button",className:"btn btn-outline-secondary btn-lg back ".concat(s?"disabled":""),onClick:this.onGoBack,disabled:s,children:"Back"}),Object(j.jsx)("button",{type:"submit",className:"btn btn-primary btn-lg submit ".concat(s?"disabled":""),onClick:this.onSubmit,disabled:s,children:"Save and continue"})]})]})]})]})}}var $=Object(a.b)(null,(e=>({actions:Object(o.b)({postPhoto:v.r,deletePhoto:v.f,putSubmissionDetails:v.v},e)})))(X);const ee={service_extensiveness:"",last_service:"",has_body_work:"",has_damage:"",has_rust:"",has_issues:"",has_flaws:"",vehicle_stock:"",flaws:"",body_work:"",damage:"",rust:"",issues:"",whats_included:"",anything_else:"",modifications:""},te=["service_extensiveness","last_service","has_body_work","has_damage","has_rust","has_issues","has_flaws","vehicle_stock","flaws","body_work","damage","rust","issues","whats_included","anything_else","modifications"],se=[{id:"bw-yes",value:"true",label:"Yes"},{id:"bw-no",value:"false",label:"No"}],ie=[{id:"dm-yes",value:"true",label:"Yes"},{id:"dm-no",value:"false",label:"No"}],ne=[{id:"ru-yes",value:"true",label:"Yes"},{id:"ru-no",value:"false",label:"No"}],oe=[{id:"is-yes",value:"true",label:"Yes"},{id:"is-no",value:"false",label:"No"}],ae=[{id:"stock-yes",value:"stock",label:"Completely stock"},{id:"stock-no",value:"modified",label:"Modified"}],re=[{id:"flaws-yes",value:"true",label:"Yes"},{id:"flaws-no",value:"false",label:"No"}];class le extends i.Component{constructor(e){super(e),this.resetFields=()=>{let e=Object.assign({...this.props.submission.data.details},{...this.props.submission.data.condition});return{submitting:!1,hasChanges:!1,form:Object.assign({...ee},e),errors:{}}},this.onBeforeUnload=e=>{this.state.hasChanges?(e.preventDefault(),e.returnValue=""):delete e.returnValue},this.handleInputChange=async e=>{const{target:t}=e,s="checkbox"===t.type?t.checked:t.value,{name:i}=t;let n=this.state.form;n[i]=s,await this.setState({form:n,hasChanges:!0})},this.processForm=()=>{let e={...this.state.form},t={};for(let s=0;s<te.length;s++)t[te[s]]=e[te[s]];return t.has_body_work=Object(w.i)(t.has_body_work),t.has_damage=Object(w.i)(t.has_damage),t.has_rust=Object(w.i)(t.has_rust),t.has_issues=Object(w.i)(t.has_issues),t.has_flaws=Object(w.i)(t.has_flaws),t},this.processErrors=e=>{this.mounted&&this.setState({submitting:!1,errors:this.onErrors(e)},(()=>{const e=document.getElementsByClassName("text-danger");e[0]&&e[0].scrollIntoView({behavior:"auto",block:"center",inline:"nearest"})}))},this.onSubmit=e=>{e&&e.preventDefault();let t=this.processForm();this.setState({errors:{},submitting:!0}),this.props.actions.putSubmissionCondition(this.props.submission.submission_id,t).then((e=>{this.props.onNextPage(e)}),(e=>{this.processErrors(e)}))},this.onErrors=e=>{let t={};if(e.error_code===P.v){const s=e.error_body;for(let[e,i]of Object.entries(s))i.indexOf("required")>=0?t[e]=q.b:t[e]=i[0]?i[0]:q.a;return t}return t},this.onGoBack=e=>{e&&e.preventDefault();let t=this.processForm();this.setState({errors:{},submitting:!0}),this.props.actions.putSubmissionCondition(this.props.submission.submission_id,t,!0).then((e=>{this.props.onPrevPage({page:1,status:{...this.props.submission.status}})}),(e=>{this.processErrors(e)}))},this.onJumpTo=(e,t)=>{e&&e.preventDefault();let s=this.processForm();this.setState({errors:{},submitting:!0}),this.props.actions.putSubmissionCondition(this.props.submission.submission_id,s,t<2).then((e=>{this.props.onPrevPage({page:t,status:{...this.props.submission.status}})}),(e=>{this.processErrors(e)}))},this.state=this.resetFields(),this.mounted=!1}componentDidMount(){this.mounted=!0,window.addEventListener("beforeunload",this.onBeforeUnload),this.props.trackView("condition")}componentWillUnmount(){this.mounted=!1,window.removeEventListener("beforeunload",this.onBeforeUnload)}componentDidUpdate(e){e.submission.submission_id!==this.props.submission.submission_id&&this.setState(this.resetFields())}render(){const{form:e,errors:t,submitting:s,hasChanges:i}=this.state;return Object(j.jsxs)(n.a.Fragment,{children:[Object(j.jsx)(V.a,{when:i,message:"Are you sure you want to leave? Your unsaved changes will be lost."}),Object(j.jsx)(Qe,{current_page:this.props.current_page,furthest_page:this.props.furthest_page,onJumpTo:this.onJumpTo}),Object(j.jsxs)("div",{className:"col",children:[Object(j.jsx)("h1",{children:"Condition"}),Object(j.jsxs)(B.e,{onSubmit:this.onSubmit,children:[Object(j.jsxs)("div",{className:"form-block",children:[Object(j.jsx)("h2",{children:"Service History"}),Object(j.jsx)(B.k,{label:"How extensive are the service records?",name:"service_extensiveness",value:e.service_extensiveness,onChange:this.handleInputChange,error:t.service_extensiveness}),Object(j.jsx)(B.k,{label:"When was the vehicle recently serviced and what was done? Please include details from the past few services if applicable.",name:"last_service",value:e.last_service,onChange:this.handleInputChange,error:t.last_service})]}),Object(j.jsxs)("div",{className:"form-block",children:[Object(j.jsx)("h2",{children:"Vehicle Condition"}),Object(j.jsx)(B.c,{label:"Has the car been modified?",name:"vehicle_stock",value:e.vehicle_stock,onChange:this.handleInputChange,options:ae,error:t.vehicle_stock,conditionalFields:e.vehicle_stock+""==="modified"?Object(j.jsx)(B.k,{label:"List any modifications, including modification or removal of the catalytic converters.",name:"modifications",value:e.modifications,onChange:this.handleInputChange,error:t.modifications}):null}),Object(j.jsx)(B.c,{label:"Are there any significant mechanical or cosmetic flaws that we should know about?",name:"has_flaws",value:e.has_flaws,onChange:this.handleInputChange,options:re,error:t.has_flaws,conditionalFields:e.has_flaws+""==="true"?Object(j.jsx)(B.k,{label:"Please give details.",name:"flaws",value:e.flaws,onChange:this.handleInputChange,error:t.flaws}):null}),Object(j.jsx)(B.c,{label:"Has the vehicle had any paint or body work done?",name:"has_body_work",value:e.has_body_work,onChange:this.handleInputChange,options:se,error:t.has_body_work,conditionalFields:e.has_body_work+""==="true"?Object(j.jsx)(B.k,{label:"Please explain what has been done.",name:"body_work",value:e.body_work,onChange:this.handleInputChange,error:t.body_work}):null}),Object(j.jsx)(B.c,{label:"Are there any dents, dings, or scratches?",name:"has_damage",value:e.has_damage,onChange:this.handleInputChange,options:ie,error:t.has_damage,conditionalFields:e.has_damage+""==="true"?Object(j.jsx)(B.k,{label:"Please describe in detail, including where they\u2019re located on the vehicle.",name:"damage",value:e.damage,onChange:this.handleInputChange,error:t.damage}):null}),Object(j.jsx)(B.c,{label:"Is there any rust on the vehicle?",name:"has_rust",value:e.has_rust,onChange:this.handleInputChange,options:ne,error:t.has_rust,conditionalFields:e.has_rust+""==="true"?Object(j.jsx)(B.k,{label:"Where is the rust located on the vehicle?",name:"rust",value:e.rust,onChange:this.handleInputChange,error:t.rust}):null}),Object(j.jsx)(B.c,{label:"Any additional issues or problems?",name:"has_issues",value:e.has_issues,onChange:this.handleInputChange,options:oe,error:t.has_issues,conditionalFields:e.has_issues+""==="true"?Object(j.jsx)(B.k,{label:"Please describe all known issues and problems.",name:"issues",value:e.issues,onChange:this.handleInputChange,error:t.issues}):null}),Object(j.jsx)(B.k,{label:"What\u2019s included with the car? (How many keys, owner\u2019s manuals, the window sticker, spare parts, extra wheels/tires, etc.)",name:"whats_included",value:e.whats_included,onChange:this.handleInputChange,error:t.whats_included}),Object(j.jsx)(B.k,{label:"Anything else we should know?",name:"anything_else",value:e.anything_else,onChange:this.handleInputChange,error:t.anything_else})]})," ",Object(j.jsxs)("div",{className:"buttons",children:[Object(j.jsx)("button",{type:"button",className:"btn btn-outline-secondary btn-lg back ".concat(s?"disabled":""),onClick:this.onGoBack,disabled:s,children:"Back"}),Object(j.jsx)("button",{type:"submit",className:"btn btn-primary btn-lg submit ".concat(s?"disabled":""),onClick:this.onSubmit,disabled:s,children:"Save and continue"})]})]})]})]})}}var ce=Object(a.b)(null,(e=>({actions:Object(o.b)({putSubmissionCondition:v.u},e)})))(le),de=s(12),he=s(723),pe=s(724);class ue extends i.PureComponent{render(){return Object(j.jsxs)("svg",{className:"icon-photo",width:"72",height:"72",viewBox:"0 0 72 72",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":"v-".concat(this.props.iconTitle),children:[Object(j.jsx)("circle",{cx:"36",cy:"36",r:"36",fill:"#4AD493"}),Object(j.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M51 47.2552C51 48.7712 49.779 50.0003 48.2727 50.0003H23.7273C22.221 50.0003 21 48.7712 21 47.2552V32.1571C21 30.641 22.221 29.412 23.7273 29.412H29.1818L31.9091 25.2944H40.0909L42.8182 29.412H48.2727C49.779 29.412 51 30.641 51 32.1571V47.2552Z",stroke:"#262626",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(j.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M36.0002 44.7062C38.9241 44.7062 41.2943 42.336 41.2943 39.4121C41.2943 36.4882 38.9241 34.118 36.0002 34.118C33.0763 34.118 30.7061 36.4882 30.7061 39.4121C30.7061 42.336 33.0763 44.7062 36.0002 44.7062Z",stroke:"#262626",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(j.jsx)("path",{d:"M35.9991 14.7061V18.2355",stroke:"#292929",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(j.jsx)("path",{d:"M21.8812 20.8827L24.2735 23.275",stroke:"#292929",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),Object(j.jsx)("path",{d:"M47.4692 23.275L49.8615 20.8827",stroke:"#292929",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}}ue.defaultProps={iconTitle:"Photos"};var be=ue;const me={videos:[],photos:[]},je=["videos"],ge=e=>{let{photos:t,onDelete:s,onCancel:i,onRemoveErrored:o,isMobile:a}=e;return Object(j.jsxs)(n.a.Fragment,{children:[a&&Object(j.jsx)(he.a,{start_on:!0}),Object(j.jsx)("ul",{className:"upload-picks",children:t.map((e=>Object(j.jsx)(J.a,{...e,canDelete:!0,onDelete:s,onCancel:i,onRemoveErrored:o},e.id)))})]})};class xe extends i.Component{constructor(e){super(e),this.resetFields=()=>{let e={...me};return e.videos=this.props.submission.data.media.videos?this.props.submission.data.media.videos.slice():[],e.photos=this.props.submission.data.media.photos.map((e=>({id:e.id,status:"uploaded",resp:{...e}}))),{submitting:!1,hasChanges:!1,form:e,errors:{}}},this.onBeforeUnload=e=>{this.state.hasChanges||this.state.form.photos.filter((e=>"uploading"===e.status)).length>0?(e.preventDefault(),e.returnValue=""):delete e.returnValue},this.handleInputChange=async e=>{const{target:t}=e,s="checkbox"===t.type?t.checked:t.value,{name:i}=t;let n=this.state.form;n[i]=s,await this.setState({form:n,hasChanges:!0})},this.processForm=()=>{let e={...this.state.form},t={};for(let s=0;s<je.length;s++)t[je[s]]=e[je[s]];return t},this.processErrors=e=>{this.mounted&&this.setState({submitting:!1,errors:this.onErrors(e)},(()=>{const e=document.getElementsByClassName("text-danger");e[0]&&e[0].scrollIntoView({behavior:"auto",block:"center",inline:"nearest"})}))},this.onSubmit=e=>{if(e&&e.preventDefault(),this.state.form.photos.filter((e=>"uploading"===e.status)).length>0)return alert("Please wait until your photos have finished uploading before you submit your information."),!1;let t=this.processForm();this.setState({errors:{},submitting:!0}),this.props.actions.putSubmissionMedia(this.props.submission.submission_id,t).then((e=>{this.props.onNextPage(e)}),(e=>{this.processErrors(e)}))},this.onErrors=e=>{let t={};if(e.error_code===P.v){const s=e.error_body;for(let[e,i]of Object.entries(s))"photos"===e?t[e]="Please upload between ".concat(y.F," to ").concat(y.x," photos of your car"):i.indexOf("required")>=0?t[e]=q.b:t[e]=i[0]?i[0]:q.a;return t}return t},this.onUploadPhoto=e=>{const t=this.props.submission.submission_id;return this.props.actions.postPhoto({key:e,submission_id:t})},this.onUpdatePhotos=e=>{let t=this.state.form;t.photos=e,this.setState({form:t})},this.onDeletePhoto=e=>this.props.actions.deletePhoto({photo_id:e}).then((t=>{const s=this.state.form.photos.filter((t=>!t.resp||t.resp.id!==e));let i=this.state.form;i.photos=s,this.setState({form:i})}),(e=>{})),this.onGoBack=e=>{if(this.state.form.photos.filter((e=>"uploading"===e.status)).length>0)return alert("Please wait until your photos have finished uploading before leaving this section."),!1;let t=this.processForm();this.setState({errors:{},submitting:!0}),this.props.actions.putSubmissionMedia(this.props.submission.submission_id,t,!0).then((e=>{this.props.onPrevPage({page:2,status:{...this.props.submission.status}})}),(e=>{this.processErrors(e)}))},this.onJumpTo=(e,t)=>{if(e&&e.preventDefault(),this.state.form.photos.filter((e=>"uploading"===e.status)).length>0)return alert("Please wait until your photos have finished uploading before leaving this section."),!1;let s=this.processForm();this.setState({errors:{},submitting:!0}),this.props.actions.putSubmissionMedia(this.props.submission.submission_id,s,t<3).then((e=>{this.props.onPrevPage({page:t,status:{...this.props.submission.status}})}),(e=>{this.processErrors(e)}))},this.state=this.resetFields(),this.mounted=!1}componentDidMount(){this.mounted=!0,window.addEventListener("beforeunload",this.onBeforeUnload),this.props.trackView("media")}componentWillUnmount(){this.mounted=!1,window.removeEventListener("beforeunload",this.onBeforeUnload)}componentDidUpdate(e){e.submission.submission_id!==this.props.submission.submission_id&&this.setState(this.resetFields())}render(){const{form:e,errors:t,submitting:s,hasChanges:i}=this.state;return Object(j.jsxs)(n.a.Fragment,{children:[Object(j.jsx)(V.a,{when:i,message:"Are you sure you want to leave? Your unsaved changes will be lost."}),Object(j.jsx)(Qe,{current_page:this.props.current_page,furthest_page:this.props.furthest_page,onJumpTo:this.onJumpTo}),Object(j.jsxs)("div",{className:"col",children:[Object(j.jsx)("h1",{children:"Media"}),Object(j.jsxs)("div",{className:"guide-tip",children:[Object(j.jsx)(be,{}),Object(j.jsx)("h2",{children:"Want help taking excellent photos?"}),Object(j.jsxs)("p",{children:[Object(j.jsx)(de.b,{to:C.y.path,title:"Photography guide",children:"Visit our photography page"})," to get tips and tricks, download our detailed photo guide, or even hire a professional photographer to come shoot your car."]})]}),Object(j.jsxs)(B.e,{onSubmit:this.onSubmit,children:[Object(j.jsxs)("div",{className:"form-block photos",children:[Object(j.jsx)("h2",{children:"Photos and Documents"}),Object(j.jsxs)("p",{className:"callout",children:["Please follow our ",Object(j.jsx)(de.b,{to:C.z.path,title:"Photography guide",children:"photo guide"})," and upload at least 50 clear, high-quality photos of your car. Good photos are very important to ensure you get top dollar for your car."]}),Object(j.jsx)("p",{className:"callout",children:"All photos should be taken in landscape orientation, ideally with a 3:2 aspect ratio, and a minimum resolution of 2400x1600 pixels. You should include photos of the car\u2019s exterior, interior, mechanicals, and service records or other associated paperwork."}),Object(j.jsx)(H.a,{uploadAction:this.onUploadPhoto,deleteAction:this.onDeletePhoto,uploadType:"photos",accept:y.s,minimum:y.F,limit:y.x,onUpdate:this.onUpdatePhotos,photos:e.photos?e.photos:[],addToFront:!0,groupID:this.props.submission.submission_id,customHandler:Object(j.jsxs)(n.a.Fragment,{children:[Object(j.jsx)(pe.a,{}),Object(j.jsx)("p",{"data-abbr":"Tap to select images",children:Object(j.jsx)("span",{children:"Click to select images, or drag and drop here"})})]}),customInitializing:Object(j.jsx)("div",{className:"upload-drop-site",children:Object(j.jsx)("p",{className:"mb-0",children:"Initializing"})}),customRender:ge}),t.photos&&Object(j.jsx)("p",{className:"text-danger",children:t.photos})]})," ",Object(j.jsxs)("div",{className:"form-block",children:[Object(j.jsx)("h2",{children:"Videos"}),Object(j.jsx)(B.f,{name:"videos",onChange:this.handleInputChange,values:e.videos,label:"We require a cold start video and recommend walk-around and driving clips. Please upload them to YouTube or Vimeo and add the links below.",hideAdditionalLabels:!0,hint:"https://www.youtube.com/",error:t.videos})]})," ",Object(j.jsxs)("div",{className:"buttons",children:[Object(j.jsx)("button",{type:"button",className:"btn btn-outline-secondary btn-lg back ".concat(s?"disabled":""),onClick:this.onGoBack,disabled:s,children:"Back"}),Object(j.jsx)("button",{type:"submit",className:"btn btn-primary btn-lg submit ".concat(s?"disabled":""),onClick:this.onSubmit,disabled:s,children:"Save and continue"})]})]})]})]})}}var Oe=Object(a.b)(null,(e=>({actions:Object(o.b)({putSubmissionMedia:v.x,postPhoto:v.r,deletePhoto:v.f},e)})))(xe);const fe={date_notes:""},ve=["date_notes"];class ye extends i.Component{constructor(e){super(e),this.resetFields=()=>{let e=this.props.submission.data.scheduling?{...this.props.submission.data.scheduling}:{};return{submitting:!1,hasChanges:!1,form:Object.assign({...fe},e),errors:{}}},this.onBeforeUnload=e=>{this.state.hasChanges?(e.preventDefault(),e.returnValue=""):delete e.returnValue},this.handleInputChange=async e=>{const{target:t}=e,s="checkbox"===t.type?t.checked:t.value,{name:i}=t;let n=this.state.form;n[i]=s,await this.setState({form:n,hasChanges:!0})},this.processForm=()=>{let e={...this.state.form},t={};for(let s=0;s<ve.length;s++)t[ve[s]]=e[ve[s]];return t},this.processErrors=e=>{this.mounted&&this.setState({submitting:!1,errors:this.onErrors(e)},(()=>{const e=document.getElementsByClassName("text-danger");e[0]&&e[0].scrollIntoView({behavior:"auto",block:"center",inline:"nearest"})}))},this.onSubmit=e=>{e&&e.preventDefault();let t=this.processForm();this.setState({errors:{},submitting:!0}),this.props.actions.putSubmissionSchedule(this.props.submission.submission_id,t).then((e=>{this.props.onNextPage(e)}),(e=>{this.processErrors(e)}))},this.onErrors=e=>{let t={};if(e.error_code===P.v){const s=e.error_body;for(let[e,i]of Object.entries(s))i.indexOf("required")>=0?t[e]=q.b:t[e]=i[0]?i[0]:q.a;return t}return t},this.onGoBack=e=>{let t=this.processForm();this.setState({errors:{},submitting:!0}),this.props.actions.putSubmissionSchedule(this.props.submission.submission_id,t,!0).then((e=>{this.props.onPrevPage({page:3,status:{...this.props.submission.status}})}),(e=>{this.processErrors(e)}))},this.onJumpTo=(e,t)=>{e&&e.preventDefault();let s=this.processForm();this.setState({errors:{},submitting:!0}),this.props.actions.putSubmissionSchedule(this.props.submission.submission_id,s,t<4).then((e=>{this.props.onPrevPage({page:t,status:{...this.props.submission.status}})}),(e=>{this.processErrors(e)}))},this.state=this.resetFields(),this.mounted=!1}componentDidMount(){this.mounted=!0,window.addEventListener("beforeunload",this.onBeforeUnload),this.props.trackView("scheduling")}componentWillUnmount(){this.mounted=!1,window.removeEventListener("beforeunload",this.onBeforeUnload)}componentDidUpdate(e){e.submission.submission_id!==this.props.submission.submission_id&&this.setState(this.resetFields())}render(){const{form:e,errors:t,submitting:s,hasChanges:i}=this.state;return Object(j.jsxs)(n.a.Fragment,{children:[Object(j.jsx)(V.a,{when:i,message:"Are you sure you want to leave? Your unsaved changes will be lost."}),Object(j.jsx)(Qe,{current_page:this.props.current_page,furthest_page:this.props.furthest_page,onJumpTo:this.onJumpTo}),Object(j.jsxs)("div",{className:"col",children:[Object(j.jsx)("h1",{children:"Scheduling"}),Object(j.jsxs)(B.e,{onSubmit:this.onSubmit,children:[Object(j.jsxs)("div",{className:"form-block start-date",children:[Object(j.jsx)("h2",{children:"Auction Start Date"}),Object(j.jsx)("p",{style:{marginBottom:"21px"},children:"We schedule auctions to launch and end Monday through Friday, between 10am and 1pm Pacific Time. We always strive to schedule your auction to launch as soon as possible, while considering your scheduling preferences and any similar vehicles already live or on the schedule."}),Object(j.jsx)(B.k,{label:"With that said, do you have any scheduling preferences for your auction?",name:"date_notes",value:e.date_notes,onChange:this.handleInputChange,error:t.date_notes})]})," ",Object(j.jsxs)("div",{className:"buttons",children:[Object(j.jsx)("button",{type:"button",className:"btn btn-outline-secondary btn-lg back ".concat(s?"disabled":""),onClick:this.onGoBack,disabled:s,children:"Back"}),Object(j.jsx)("button",{type:"submit",className:"btn btn-primary btn-lg submit ".concat(s?"disabled":""),onClick:this.onSubmit,disabled:s,children:"Save and continue"})]})]})]})]})}}var we=Object(a.b)(null,(e=>({actions:Object(o.b)({putSubmissionSchedule:v.y},e)})))(ye);const _e={terms_agreement:"",pay_difference_agreement:""},ke=["terms_agreement","pay_difference_agreement"];class Ce extends i.Component{constructor(e){super(e),this.resetFields=()=>({submitting:!1,hasChanges:!1,form:Object.assign({..._e},{}),errors:{}}),this.handleInputChange=async e=>{const{target:t}=e,s="checkbox"===t.type?t.checked:t.value,{name:i}=t;let n=this.state.form;n[i]=s,await this.setState({form:n,hasChanges:!0})},this.processForm=()=>{let e={...this.state.form},t={};for(let s=0;s<ke.length;s++)t[ke[s]]=e[ke[s]];return t},this.processErrors=e=>{this.mounted&&this.setState({submitting:!1,errors:this.onErrors(e)},(()=>{const e=document.getElementsByClassName("text-danger");e[0]&&e[0].scrollIntoView({behavior:"auto",block:"center",inline:"nearest"})}))},this.onErrors=e=>{let t={};if(e.error_code===P.v){const s=e.error_body;if(s)for(let[e,i]of Object.entries(s))i.indexOf("required")>=0?t[e]=q.b:t[e]=i[0]?i[0]:q.a;else t.general="There was an error completing the submission. Please try again.";return t}return t},this.onSubmit=e=>{e&&e.preventDefault();let t={...this.state.form};const{submission:s}=this.props,{has_reserve:i}=s;let n={};if(t.terms_agreement||(n.terms_agreement=q.b),!t.pay_difference_agreement&&i&&(n.pay_difference_agreement=q.b),Object.getOwnPropertyNames(n).length<1){this.setState({errors:{},submitting:!0});let e={terms_agreement:Object(w.i)(t.terms_agreement)};return i&&(e.pay_difference_agreement=Object(w.i)(t.pay_difference_agreement)),this.props.actions.postSubmissionsPayment(this.props.submission.submission_id,e).then((e=>{u.a.addEvent({event:"listing",category:"listing",action:"paid",label:"listing fee",listing_fee:this.props.submission.listing_fee}),this.props.onNextPage(e)}),(e=>{this.processErrors(e)}))}this.setState({errors:n})},this.onGoBack=e=>{this.props.onPrevPage({page:4,status:{...this.props.submission.status}})},this.onJumpTo=(e,t)=>{e&&e.preventDefault(),this.props.onPrevPage({page:t,status:{...this.props.submission.status}})},this.state=this.resetFields(),this.mounted=!1}componentDidMount(){this.mounted=!0,this.props.trackView("review")}componentWillUnmount(){this.mounted=!1}componentDidUpdate(e){e.submission.submission_id!==this.props.submission.submission_id&&this.setState(this.resetFields())}render(){const{form:e,errors:t,submitting:s}=this.state,{submission:i}=this.props,{has_reserve:o,reserve:a}=i,r=Object(j.jsxs)(n.a.Fragment,{children:["I accept the ",Object(j.jsx)("a",{href:C.U.path,target:"_blank",rel:"noopener noreferrer",children:"Terms of Use"})," and ",Object(j.jsx)("a",{href:C.B.path,target:"_blank",rel:"noopener noreferrer",children:"Privacy Policy"}),"."]});return Object(j.jsxs)(n.a.Fragment,{children:[Object(j.jsx)(Qe,{current_page:this.props.current_page,furthest_page:this.props.furthest_page,onJumpTo:this.onJumpTo}),Object(j.jsxs)("div",{className:"col",children:[Object(j.jsx)("h1",{children:"Review"}),Object(j.jsxs)(B.e,{onSubmit:this.onSubmit,children:[Object(j.jsxs)("div",{className:"form-block review",children:[Object(j.jsx)("h2",{children:"Complete Submission"}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("p",{style:{marginBottom:"21px"},children:"Once you submit, our auction team will get to work reviewing the photos and information you\u2019ve provided and will reach out with any additional questions. If you\u2019d like to make any changes to the information you\u2019ve provided, please use the \u201cBack\u201d button to do so now."}),o?Object(j.jsxs)("p",{className:"mb-0",children:["As a reminder, your car must not be available for sale elsewhere. By moving forward, you are committing to auctioning your car on Cars & Bids ",Object(j.jsxs)("strong",{children:["with a reserve of ",Object(w.l)(a)]}),"."]}):Object(j.jsxs)("p",{className:"mb-0",children:["As a reminder, your car must not be available for sale elsewhere. By moving forward, you are committing to auctioning your car on Cars & Bids ",Object(j.jsx)("strong",{children:"with no reserve"}),"."]})]}),Object(j.jsxs)("div",{className:"terms",children:[Object(j.jsx)(B.a,{label:r,name:"terms_agreement",value:e.terms_agreement,onChange:this.handleInputChange,error:t.terms_agreement}),o&&Object(j.jsx)(B.a,{label:"I agree that if the highest bid for my car is below the reserve, Cars & Bids may choose to pay me the difference between the highest bid and the reserve price, and mark the car as sold below the reserve price. In this case, I will complete and sign any required tax documents (if applicable); once the vehicle transaction is complete, Cars & Bids will then pay me the difference between the highest bid and the reserve price.",name:"pay_difference_agreement",value:e.pay_difference_agreement,onChange:this.handleInputChange,error:t.pay_difference_agreement})]})]})," ",t.general&&Object(j.jsx)("p",{className:"general-error text-danger",role:"alert",children:t.general}),Object(j.jsxs)("div",{className:"buttons",style:{marginBottom:"30px"},children:[Object(j.jsx)("button",{type:"button",className:"btn btn-outline-secondary btn-lg back ".concat(s?"disabled":""),onClick:this.onGoBack,disabled:s,children:"Back"}),Object(j.jsx)("button",{type:"submit",className:"btn btn-primary btn-lg submit ".concat(s?"disabled":""),onClick:this.onSubmit,disabled:s,children:"Submit"})]}),Object(j.jsx)("p",{className:"below-buttons mb-0",children:"We expect and appreciate quick responses to any requests for additional information regarding your listing. This allows us to get your listing ready and auction live as soon as possible."})]})]})]})}}var Ne=Object(a.b)(null,(e=>({actions:Object(o.b)({postSubmissionsPayment:v.t},e)})))(Ce);var Se=e=>{let{submission:t,openConversation:s,openUploader:i,current_page:o}=e;return Object(j.jsxs)(n.a.Fragment,{children:[Object(j.jsx)(Qe,{current_page:o}),Object(j.jsxs)("div",{className:"col bottom-buffer",children:[Object(j.jsx)("h1",{children:"Thank you for completing your submission!"}),Object(j.jsx)("p",{children:"Our auction team will start by reviewing all of the photos and information you provided us, and will reach out with any questions or requests. Once we have all of the information, photos, and videos needed to best showcase your special car, you\u2019ll be assigned a dedicated Auction Specialist who will prepare your custom auction listing."}),Object(j.jsx)("p",{children:"Your Auction Specialist will reach out with any additional questions, and you can expect a final draft for your approval usually within a week. Once you approve the draft, we\u2019ll schedule your auction!"}),Object(j.jsx)("div",{className:"submitted-bullets",children:Object(j.jsxs)("ul",{children:[Object(j.jsxs)("li",{children:["Use the ",Object(j.jsx)("button",{type:"button",onClick:i,className:"btn rb btn-link",children:"Upload additional photos"})," button to add photos to your listing. Have questions about how to take the best photos? You can check out our ",Object(j.jsx)("a",{href:"https://crsnbds.com/photoguide",title:"Photo Guide",target:"_blank",rel:"noopener noreferrer",children:"photo guide"})," and ",Object(j.jsx)("a",{href:"https://crsnbds.com/video",title:"How-to Video",target:"_blank",rel:"noopener noreferrer",children:"how-to video"})," for guidance or ",Object(j.jsx)("button",{type:"button",onClick:s,className:"btn rb btn-link",children:"reach out to us via chat"}),"!"]}),Object(j.jsxs)("li",{children:["If you have PDF documents to upload, such as window stickers or maintenance records, please email them to us at ",Object(j.jsx)("a",{href:"mailto:specialists@carsandbids.com",title:"Email the specialists",children:"specialists@carsandbids.com"}),"."]}),Object(j.jsx)("li",{children:"Please verify that any other ads for your vehicle have been removed."}),Object(j.jsxs)("li",{children:["If you haven\u2019t already done so, record interior and exterior walkaround videos and just send us the YouTube or Vimeo links via our ",Object(j.jsx)("button",{type:"button",onClick:s,className:"btn rb btn-link",children:"built-in chat"}),"!"]})]})}),Object(j.jsx)("p",{children:"As a reminder, our auctions start and end Monday through Friday, generally between 10am and 1pm Pacific Time. We always strive to schedule your auction for the earliest and best possible launch date, while considering your scheduling preferences and any similar vehicles already live or on the calendar."}),Object(j.jsx)("p",{className:"callout",children:"Please let us know if you have any questions, we\u2019ll be in touch soon!"}),Object(j.jsx)(et,{submission:t,useDoneButton:!0}),Object(j.jsx)(de.b,{id:"read-only-link",className:"submission-read-only-link",to:Object(C.jb)(t.submission_id),children:"View the information you submitted"})]})]})};class Ae extends i.Component{constructor(){super(...arguments),this.getHeading=e=>{let t=Object(j.jsx)("h1",{children:"Your listing is ready for review"});return e&&(t=Object(j.jsx)("h1",{children:"Thanks for your review!"})),t},this.getBlurb=e=>{let t="A draft of your auction listing is ready! Please review it and let us know if you have any suggestions for changes \u2014 or go ahead and approve it so we can schedule your auction.";return e&&(t="We\u2019ll have a look at your suggested changes, and we\u2019ll consider revising our listing to incorporate them. Once we\u2019re ready, we\u2019ll let you know so you can review your listing before it goes live."),t}}render(){const e=!!this.props.submission.listing.version.denied_at;return Object(j.jsxs)(n.a.Fragment,{children:[Object(j.jsx)(Qe,{current_page:this.props.current_page}),Object(j.jsxs)("div",{className:"col",children:[this.getHeading(e),Object(j.jsx)("p",{className:"callout",children:this.getBlurb(e)}),!e&&Object(j.jsxs)(de.b,{to:Object(C.gb)(this.props.submission.listing.id),className:"btn btn-link review",children:["Review \u201c",this.props.submission.title,"\u201d"]}),Object(j.jsx)(et,{submission:this.props.submission,useDoneButton:!0})]})]})}}var Te=Ae;var Ie=e=>{let{submission:t,openConversation:s,current_page:i}=e;return Object(j.jsxs)(n.a.Fragment,{children:[Object(j.jsx)(Qe,{current_page:i}),Object(j.jsxs)("div",{className:"col",children:[Object(j.jsx)("h1",{children:"Thanks! We\u2019re scheduling your auction..."}),Object(j.jsx)("p",{children:"While we schedule your auction, here are some tips to ensure you get the best result possible:"}),Object(j.jsxs)("p",{children:[Object(j.jsx)("strong",{children:"Respond to comments quickly and frequently."})," Bidders may not have the opportunity to see your car in person, so by responding in a quick, friendly, and informative manner, you\u2019ll help them truly understand your car and why it\u2019s special \u2013 and give them the confidence to keep bidding!"]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("strong",{children:"Be open and honest."})," Bidders may have questions about known flaws, pictured damage, or vehicle history. Answering these questions honestly and directly will give bidders confidence that your car is exactly as described (or better)."]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("strong",{children:"Check your email."})," Bidders can contact you directly with private questions, to arrange pre-purchase inspections, or even an in-person test drive. Be sure to respond promptly, and make yourself reasonably available. If you\u2019re uncomfortable meeting a bidder at your home, we recommend meeting with the car in a public place."]}),Object(j.jsxs)("p",{className:"callout",children:[Object(j.jsx)("strong",{children:"Let us know how we can help."})," ",Object(j.jsx)("button",{type:"button",style:{fontSize:"inherit"},onClick:s,className:"btn rb btn-link",children:"Use our chat"})," and we will be happy to answer questions and suggest best practices. After running thousands of auctions, we\u2019ve seen it all and are happy to lend a hand."]}),Object(j.jsx)(et,{submission:t,useDoneButton:!0})]})]})};const De=e=>{const t=Object(w.h)(e);return t.format("z")&&0!==t.format("z").indexOf("GMT")?t.format("dddd MMMM D, YYYY [at] h:mm A z"):t.format("dddd MMMM D, YYYY [at] h:mm A")};var Ee=e=>{let{submission:t,current_page:s}=e;return Object(j.jsxs)(n.a.Fragment,{children:[Object(j.jsx)(Qe,{current_page:s}),Object(j.jsxs)("div",{className:"col",children:[Object(j.jsx)("h1",{children:"Your auction is live!"}),Object(j.jsx)(de.b,{to:Object(C.db)(t.auction.id),className:"btn btn-link review",children:t.title}),Object(j.jsx)("div",{className:"time-notice",children:Object(j.jsxs)("p",{children:["Your auction is scheduled to close:",Object(j.jsx)("br",{}),Object(j.jsx)("strong",{children:De(t.auction.auction_end)})]})}),Object(j.jsxs)("p",{className:"callout",children:[Object(j.jsx)("strong",{children:"Tip:"})," You can add photos to your auction in real-time by attaching them to your comments (use the photo icon ",Object(j.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMaSURBVHgB7VlLdtowFH1Q5qUraLqDdgWEFbQZdoS7goQFADYsIMmwozgryOkK4h3US3BnndXDToDeB0+NYywhyx8Y+J6jg4Rk+1496foJiDp06NDhlOjZDvR9f4iPC5QhNY8Yz0ttBh4VwMT7/f4CVY/aIa8QbjabAM9PTIOMAnDxBcg/037mT4EEIj6ZojEwXd3r9XwS8tvtNkK5R9UqtFWA53ooE362RH+qHavrkKXzR5rhfD7/Ri0iCIJniLhENUUUPuii0Dfc46Oq4AaP1DIwefdSVeZRCOMSskHOnazd4xjW63UKEaqpNQ9nATp3Wi6XVu5RF/rkAHGnn6je0OHseOxcEpnG4SQg706Y8SuUMepqryj3aByllxDPrFgcI1wsFll3iuAe78U9PIwN6toTOrhEwOhOtu5RF1wE/J/RwWDwNt/J7pFpavcBRxLlkirCRUBCIgJkb/Kd/BbNNOOiGygT4M0O16q0V1z2QIp1/gii17zWQeBBltJQfSdDw6L1X5Bf+bgH4U0fkAOcXAhu49M+EoydbaI8ZchzEnZAqIC8Eui7RsL1PZDmbFMh5YRPMsgkd80r8hgX8Dh6mQgnEVXexAntrZL3ATsTz2aiWTa8vJ4oQx7260vfWF6KvOH91WqVzGYz69yrjlyICUeGfibPmeXOfjlqirz0JyKCozNEfwgRbBC/yAJOS8gWGvJewbiYlyTJnmAREDSxeUajAkDi4Rh5hbwI2ieJx59BDYHtFR9fuA7ysYm8goiYUgk0IkDIe1xn8ihj22shgtNx69Nf7QJA/pZy5MsmdCyCDOfgLGoVID6u0ovEhbwCohDbjKtNgJD3pclvYmfyZVCLAA35hFpAZQGnJM+oJODU5BnOAs6BPMMkQHvyQq5yTWdAnmESkFDByQvkJ7DHO2lyWn3VBHmbk91uHBmAk9cdn7KkGaIeZ8gzprZ+XQIHJzvT77LGdJpPXrjRZ9rn8R7a+SG3mZ//mkDhyS6LN6bOKIr+jkajH6i+U1llS+CT3XeUr1iev00Dy/7F1IYI7cmuQ4cOHc4P/wA8j8tHtJZFVQAAAABJRU5ErkJggg==",width:"24",height:"24",alt:"upload indicator"})," to the left of comment input box).",Object(j.jsx)("br",{}),Object(j.jsx)("br",{}),"Otherwise if you have a large amount of photos you\u2019d like added to your gallery, you can upload them using the button below. We\u2019ll get them added to your listing as quickly as possible."]}),Object(j.jsx)(et,{submission:t,useDoneButton:!0})]})]})},Be=s(17),Pe=s.n(Be);var Ue=e=>{let{submission:t,current_page:s}=e;return Object(j.jsxs)(n.a.Fragment,{children:[Object(j.jsx)(Qe,{current_page:s}),Object(j.jsxs)("div",{className:"col",children:[Object(j.jsx)("h1",{children:"Your auction is scheduled!"}),Object(j.jsxs)(de.b,{to:Object(C.gb)(t.listing&&t.listing.id),className:"btn btn-link review",children:["Preview \u201c",t.title,"\u201d"]}),Object(j.jsx)("div",{className:"time-notice",children:Object(j.jsxs)("p",{children:["Your auction will go live on:",Object(j.jsx)("br",{}),Object(j.jsx)("strong",{children:Pe()(t.auction.period_start).format("dddd MMMM D, YYYY")})]})}),Object(j.jsx)("div",{className:"time-notice",children:Object(j.jsxs)("p",{children:["Your auction is scheduled to close on:",Object(j.jsx)("br",{}),Object(j.jsx)("strong",{children:Pe()(t.auction.period_end).format("dddd MMMM D, YYYY")})]})}),Object(j.jsxs)("p",{className:"callout",children:["Before your auction goes live, we recommend you review our ",Object(j.jsx)(de.b,{to:Object(C.lb)("section","sellers"),children:"Seller\u2019s FAQ"})," \u2014 and please don\u2019t hesitate to contact us if you have any questions. Good luck with your sale!"]}),Object(j.jsx)(et,{submission:t,useDoneButton:!0})]})]})};const Fe=e=>{let{auction:t}=e;return t.status===y.b.STATUS_SOLD?Object(j.jsxs)(n.a.Fragment,{children:["Congratulations! ",Object(j.jsx)("span",{role:"img","aria-label":"Congrats",children:"\ud83c\udf89"})]}):t.status===y.b.STATUS_RESERVE_NOT_MET||t.status===y.b.STATUS_SOLD_AFTER?"Your reserve was not met.":t.status===y.b.STATUS_NO_BIDS?"Your car did not sell.":t.status===y.b.STATUS_CANCELED?"This auction has been canceled.":"This auction has ended."},Re=(e,t)=>{let{auction:s,title:i}=e;return s.status===y.b.STATUS_SOLD?s.pay_difference?Object(j.jsxs)(n.a.Fragment,{children:[Object(j.jsxs)("div",{className:"conclusion",children:[Object(j.jsxs)("p",{children:["Your ",Object(j.jsx)(de.b,{to:Object(C.db)(s.id,i),children:i})," sold and we're meeting your reserve of ",Object(j.jsx)("strong",{children:Object(w.l)(s.reserve)}),"."]}),Object(j.jsxs)("p",{children:["The winning bid was ",Object(j.jsx)("strong",{children:Object(w.l)(s.highest_bid)})," \u2014 and we\u2019ll pay you an additional ",Object(j.jsx)("strong",{children:Object(w.l)(s.difference)})," to meet your reserve."]}),Object(j.jsxs)("p",{children:["You'll complete the sale directly with the buyer for ",Object(j.jsx)("strong",{children:Object(w.l)(s.highest_bid)}),". After we verify that the sale is complete, we\u2019ll send an email via DocuSign so you can give us your preferred payment information and we'll pay you the additional amount needed to meet your reserve."]})]}),Object(j.jsxs)("p",{className:"checklist-intro",children:["This checklist will help you in completing the sale with the buyer. If you have any questions or concerns throughout this process, we\u2019re here to help \u2013 ",Object(j.jsx)("button",{type:"button",onClick:t,className:"btn rb btn-link",children:"just reach out via chat!"})]})]}):Object(j.jsxs)(n.a.Fragment,{children:[Object(j.jsxs)("div",{className:"conclusion",children:["Your ",Object(j.jsx)(de.b,{to:Object(C.db)(s.id,i),children:i})," sold for ",Object(j.jsx)("strong",{children:Object(w.l)(s.highest_bid)})]}),Object(j.jsxs)("p",{className:"checklist-intro",children:["This checklist will help you in completing the sale with the buyer. If you have any questions or concerns throughout this process, we\u2019re here to help \u2013 ",Object(j.jsx)("button",{type:"button",onClick:t,className:"btn rb btn-link",children:"just reach out via chat!"})]})]}):s.status===y.b.STATUS_RESERVE_NOT_MET||s.status===y.b.STATUS_SOLD_AFTER?Object(j.jsxs)(n.a.Fragment,{children:[Object(j.jsx)(de.b,{to:Object(C.db)(s.id,i),className:"btn btn-link review",children:i}),Object(j.jsxs)("p",{className:"callout ended",children:["Unfortunately, bidding did not meet your reserve of ",Object(j.jsx)("strong",{children:Object(w.l)(s.reserve)}),", and your car did not sell. Thank you for your business, and we wish you better luck in the future!"]})]}):s.status===y.b.STATUS_NO_BIDS?Object(j.jsxs)(n.a.Fragment,{children:[Object(j.jsx)(de.b,{to:Object(C.db)(s.id,i),className:"btn btn-link review",children:i}),Object(j.jsx)("p",{className:"callout ended",children:"Unfortunately, your auction ended without any bids. Thank you for your business, and we wish you better luck in the future!"})]}):s.status===y.b.STATUS_CANCELED?Object(j.jsx)(de.b,{to:Object(C.db)(s.id,i),className:"btn btn-link review",children:i}):null};class Me extends i.Component{constructor(e){super(e),this.onToggleChecklistItem=(e,t)=>{const{checklist:s}=this.state;s[e].complete=t,this.setState({checklist:s}),s[e].id&&this.props.toggleChecklistItem(s[e].id,t)},this.state={checklist:Object(w.d)(e.submission.auction.checklist)}}render(){const{submission:e,openConversation:t}=this.props,{auction:s}=e;if(s.status===y.b.STATUS_SOLD){const{contact:e}=s,{checklist:i}=this.state,o=1!==s.seller_type;return Object(j.jsxs)(n.a.Fragment,{children:[Object(j.jsxs)("ul",{className:"pac",children:[Object(j.jsxs)("li",{className:"checklist-item ".concat(i.contact.complete?"completed":""),children:[Object(j.jsx)(B.b,{label:"Contact the Buyer",fieldname:"contact",isEnabled:i.contact.complete,onClick:this.onToggleChecklistItem}),Object(j.jsxs)("div",{className:"checklist-content",children:[e?Object(j.jsxs)("p",{className:"checklist-contact",children:[e.name,Object(j.jsx)("br",{}),Object(j.jsx)("a",{href:"tel:".concat(e.phone_number),children:e.phone_number}),Object(j.jsx)("br",{}),Object(j.jsx)("a",{href:"mailto:".concat(e.email),children:e.email})]}):Object(j.jsx)("p",{className:"checklist-contact",children:"The buyer\u2019s contact information will be displayed here shortly. Please check back soon."}),Object(j.jsxs)("p",{children:["Please be patient \u2013 some buyers might not be able to respond immediately. If you haven\u2019t heard from the buyer within 24 hours of the auction ending, ",Object(j.jsx)("button",{type:"button",onClick:t,className:"btn rb btn-link",children:"contact us via chat"}),"."]}),Object(j.jsx)("p",{children:"Maintain a positive attitude, and be as flexible and reasonable as possible. Communicating with the buyer in a clear, friendly, and productive manner will further help ensure a smooth transaction."})]})]}),!o&&Object(j.jsxs)("li",{className:"checklist-item ".concat(i.poo.complete?"completed":""),children:[Object(j.jsx)(B.b,{label:"Proof of Ownership",fieldname:"poo",isEnabled:i.poo.complete,onClick:this.onToggleChecklistItem}),Object(j.jsxs)("div",{className:"checklist-content",children:[Object(j.jsxs)("p",{children:[e?Object(j.jsx)("a",{href:"mailto:".concat(e.email),children:"Email the buyer"}):"Email the buyer"," a copy of the title (or registration if you do not have a title) and a photo of your Driver\u2019s License."]}),Object(j.jsx)("p",{children:"If there is a loan on the vehicle, discuss how the loan will be paid off, and how the title will be released to the buyer."})]})]}),Object(j.jsxs)("li",{className:"checklist-item ".concat(i.bos.complete?"completed":""),children:[Object(j.jsx)(B.b,{label:"Bill of Sale",fieldname:"bos",isEnabled:i.bos.complete,onClick:this.onToggleChecklistItem}),Object(j.jsxs)("div",{className:"checklist-content",children:[Object(j.jsx)("p",{children:"Send the buyer a Bill of Sale, including the terms of the transaction."}),Object(j.jsxs)("p",{children:["Bill of Sale templates are available through ",Object(j.jsx)("a",{href:"https://crsnbds.com/eform",rel:"noopener noreferrer",target:"_blank",children:"eForms"}),"."]})]})]}),Object(j.jsxs)("li",{className:"checklist-item ".concat(i.payment.complete?"completed":""),children:[Object(j.jsx)(B.b,{label:"Payment",fieldname:"payment",isEnabled:i.payment.complete,onClick:this.onToggleChecklistItem}),Object(j.jsxs)("div",{className:"checklist-content",children:[Object(j.jsx)("p",{children:Object(j.jsx)("strong",{children:"Buyers are expected to pay for the vehicle in full within one (1) week of the auction ending."})}),Object(j.jsx)("p",{children:"We recommend accepting a cashier\u2019s check or wire transfer to complete payment, though you and the buyer are free to arrange a different payment method if you prefer."}),Object(j.jsx)("p",{children:"If you wish to hold the vehicle until funds clear, we recommend setting that expectation with the buyer as early as possible, in order to avoid any confusion or surprises."})]})]}),Object(j.jsxs)("li",{className:"checklist-item ".concat(i.pickup.complete?"completed":""),children:[Object(j.jsx)(B.b,{label:"Pick Up",fieldname:"pickup",isEnabled:i.pickup.complete,onClick:this.onToggleChecklistItem}),Object(j.jsxs)("div",{className:"checklist-content",children:[Object(j.jsx)("p",{children:"Transportation arrangements and costs are the responsibility of the buyer."}),Object(j.jsx)("p",{children:"Please remain flexible and accommodating to facilitate pickup. This may mean meeting the buyer or transporter at a convenient location and suitable time."})]}),i.pickup.complete&&Object(j.jsxs)(n.a.Fragment,{children:[Object(j.jsx)("p",{style:{marginTop:"42px"},children:Object(j.jsxs)("strong",{children:[Object(j.jsx)("span",{role:"img","aria-label":"Congrats",children:"\ud83c\udf89"})," Congratulations on completing your sale on Cars & Bids!"]})}),Object(j.jsx)("p",{children:"We hope you\u2019ve enjoyed your Cars & Bids experience, and thank you for being part of our community! We look forward to working with you again in the near future!"})]})]})]}),Object(j.jsxs)("p",{className:"checklist-faq",children:["If you have any other questions about selling on Cars & Bids, please review our ",Object(j.jsx)(de.b,{to:C.Y.path,title:"FAQ",children:"FAQ page"}),"."]})]})}return null}}var Le=e=>{let{submission:t,openConversation:s,toggleChecklistItem:i,current_page:o}=e;return Object(j.jsxs)(n.a.Fragment,{children:[Object(j.jsx)(Qe,{current_page:o}),Object(j.jsxs)("div",{className:"col",children:[Object(j.jsx)("h1",{children:Fe(t)}),Re(t,s),Object(j.jsx)(Me,{submission:t,openConversation:s,toggleChecklistItem:i})]})]})};var Ye=e=>{let{submission:t,current_page:s,furthest_page:i,openConversation:o}=e;const{data:a={}}=t,{condition:r={},details:l={},media:c={},scheduling:d={}}=a;return Object(j.jsxs)(n.a.Fragment,{children:[Object(j.jsx)(Qe,{read_only:!0,current_page:s,furthest_page:i}),Object(j.jsxs)("div",{className:"col submission-read-only",children:[Object(j.jsx)("h1",{className:"read-only-heading full-submission",children:"Your submission"}),Object(j.jsxs)("p",{className:"read-only-info",children:["Thank you for completing your submission! It can no longer be edited, but you can ",Object(j.jsx)("button",{type:"button",onClick:o,className:"btn rb btn-link",children:"chat with us"})," if you have any questions."]}),Object(j.jsxs)("div",{className:"read-only-content",children:[Object(j.jsx)("h2",{children:"Your Info"}),Object(j.jsxs)("dl",{children:[Object(j.jsx)("dt",{children:"Dealer or private party?"}),Object(j.jsx)("dd",{children:l.owner_is_dealer?"Dealership":"Private party"}),l.owner_is_dealer&&Object(j.jsxs)(n.a.Fragment,{children:[Object(j.jsx)("dt",{children:"Dealership name"}),Object(j.jsx)("dd",{children:l.dealership_name}),Object(j.jsx)("dt",{children:"Are there any additional fees the buyer will have to pay?"}),Object(j.jsx)("dd",{children:l.dealership_fees?l.dealership_fees:"No"}),Object(j.jsx)("dt",{children:"Dealership website"}),Object(j.jsx)("dd",{children:l.dealership_website}),l.dealership_monthly_sales&&Object(j.jsx)("dt",{children:"How many vehicles does your dealership retail each month?"}),l.dealership_monthly_sales&&Object(j.jsx)("dd",{children:y.m[l.dealership_monthly_sales]})]}),Object(j.jsx)("dt",{children:"Full name"}),Object(j.jsx)("dd",{children:t.name}),Object(j.jsx)("dt",{children:"Contact phone number"}),Object(j.jsx)("dd",{children:t.phone_number})]}),Object(j.jsx)("h2",{children:"Car Details"}),Object(j.jsxs)("dl",{children:[Object(j.jsx)("dt",{children:"VIN"}),Object(j.jsx)("dd",{children:l.vin}),Object(j.jsx)("dt",{children:"Year"}),Object(j.jsx)("dd",{children:t.year}),Object(j.jsx)("dt",{children:"Make"}),Object(j.jsx)("dd",{children:t.make}),Object(j.jsx)("dt",{children:"Model"}),Object(j.jsx)("dd",{children:t.model}),Object(j.jsx)("dt",{children:"Current mileage (mi)"}),Object(j.jsx)("dd",{children:l.mileage}),Object(j.jsx)("dt",{children:"What kind of transmission is in the car?"}),Object(j.jsx)("dd",{children:l.transmission}),Object(j.jsx)("dt",{children:"Has the car been modified?"}),Object(j.jsx)("dd",{children:"stock"===r.vehicle_stock?"Completely stock":"Modified"}),"stock"!==r.vehicle_stock&&Object(j.jsxs)(n.a.Fragment,{children:[Object(j.jsx)("dt",{children:"List any modifications, including modification or removal of the catalytic converters."}),Object(j.jsx)("dd",{children:Object(j.jsx)(O.a,{className:"mkdn",unwrapDisallowed:!0,skipHtml:!0,allowedElements:y.u,children:r.modifications})})]}),Object(j.jsx)("dt",{children:"Are there any significant mechanical or cosmetic flaws that we should know about?"}),Object(j.jsx)("dd",{children:r.has_flaws?"Yes":"No"}),r.has_flaws&&Object(j.jsxs)(n.a.Fragment,{children:[Object(j.jsx)("dt",{children:"Please give details."}),Object(j.jsx)("dd",{children:Object(j.jsx)(O.a,{className:"mkdn",unwrapDisallowed:!0,skipHtml:!0,allowedElements:y.u,children:r.flaws})})]}),Object(j.jsx)("dt",{children:"Where is the car located?"}),Object(j.jsxs)("dd",{children:[l.zip_code?l.zip_code:l.city_and_province,", ","US"===l.country?"United States":"Canada"]}),Object(j.jsx)("dt",{children:"Is this car for sale elsewhere?"}),Object(j.jsx)("dd",{children:l.listed_elsewhere?"Yes":"No"}),l.listed_elsewhere&&Object(j.jsxs)(n.a.Fragment,{children:[Object(j.jsx)("dt",{children:"Please link to all existing listings"}),Object(j.jsx)("dd",{children:Object(j.jsx)("ul",{className:"mb-0",children:l.current_listings.map(((e,t)=>Object(j.jsx)("li",{children:e},t)))})})]}),Object(j.jsx)("dt",{children:"Noteworthy options/features"}),Object(j.jsx)("dd",{children:Object(j.jsx)(O.a,{className:"mkdn",unwrapDisallowed:!0,skipHtml:!0,allowedElements:y.u,children:l.noteworthy})}),Object(j.jsx)("dt",{children:"Additional options and equipment list"}),Object(j.jsx)("dd",{children:Object(j.jsx)(O.a,{className:"mkdn",unwrapDisallowed:!0,skipHtml:!0,allowedElements:y.u,children:l.additional_options})}),Object(j.jsx)("dt",{children:"Exterior Color"}),Object(j.jsx)("dd",{children:l.exterior_color}),Object(j.jsx)("dt",{children:"Interior Color"}),Object(j.jsx)("dd",{children:l.interior_color}),Object(j.jsx)("dt",{children:"What engine is in the vehicle?"}),Object(j.jsx)("dd",{children:l.engine}),Object(j.jsx)("dt",{children:"What is your ownership history? (how long owned, how many miles, etc.)"}),Object(j.jsx)("dd",{children:Object(j.jsx)(O.a,{className:"mkdn",unwrapDisallowed:!0,skipHtml:!0,allowedElements:y.u,children:l.ownership_history})})]}),Object(j.jsx)("h2",{children:"Title Info"}),Object(j.jsxs)("dl",{children:[Object(j.jsx)("dt",{children:"Where is the car titled?"}),Object(j.jsxs)("dd",{children:[l.title_state?f.filter((e=>e.abbr===l.title_state.toUpperCase()))[0].name:l.title_province,", ",l.title_country]}),Object(j.jsx)("dt",{children:l.owner_is_dealer?"Do you have the title in hand?":"Is the vehicle titled in your name?"}),Object(j.jsx)("dd",{children:l.owner_has_title?"Yes":"No"}),!l.owner_has_title&&l.title_owner&&Object(j.jsxs)(n.a.Fragment,{children:[Object(j.jsx)("dt",{children:"Title Owner"}),Object(j.jsx)("dd",{children:Object(j.jsx)(O.a,{className:"mkdn",unwrapDisallowed:!0,skipHtml:!0,allowedElements:y.u,children:l.title_owner})})]}),Object(j.jsx)("dt",{children:"What is the title\u2019s status?"}),Object(j.jsx)("dd",{className:"cap",children:l.title_status}),Object(j.jsx)("dt",{children:"Is there a loan on the vehicle?"}),Object(j.jsx)("dd",{children:l.lienholder?"Yes":"No"})]}),Object(j.jsx)("h2",{children:"Reserve Price"}),Object(j.jsxs)("dl",{children:[Object(j.jsx)("dt",{children:"Do you want to set a minimum price required for your vehicle to sell?"}),Object(j.jsx)("dd",{children:l.has_reserve?"Yes \u2014 ".concat(Object(w.l)(l.reserve)):"No"})]}),Object(j.jsx)("h2",{children:"Referral"}),Object(j.jsxs)("dl",{children:[Object(j.jsx)("dt",{children:"How did you hear about us? If a user referred you please leave their username."}),Object(j.jsx)("dd",{children:l.referral})]}),Object(j.jsx)("h2",{children:"Service History"}),Object(j.jsxs)("dl",{children:[Object(j.jsx)("dt",{children:"How extensive are the service records?"}),Object(j.jsx)("dd",{children:Object(j.jsx)(O.a,{className:"mkdn",unwrapDisallowed:!0,skipHtml:!0,allowedElements:y.u,children:r.service_extensiveness})}),Object(j.jsx)("dt",{children:"When was the vehicle recently serviced and what was done? Please include details from the past few services if applicable."}),Object(j.jsx)("dd",{children:Object(j.jsx)(O.a,{className:"mkdn",unwrapDisallowed:!0,skipHtml:!0,allowedElements:y.u,children:r.last_service})})]}),Object(j.jsx)("h2",{children:"Vehicle Condition"}),Object(j.jsxs)("dl",{children:[Object(j.jsx)("dt",{children:"Has the vehicle had any paint or body work done?"}),Object(j.jsx)("dd",{children:r.has_body_work?"Yes":"No"}),r.has_body_work&&Object(j.jsxs)(n.a.Fragment,{children:[Object(j.jsx)("dt",{children:"Please explain what has been done."}),Object(j.jsx)("dd",{children:Object(j.jsx)(O.a,{className:"mkdn",unwrapDisallowed:!0,skipHtml:!0,allowedElements:y.u,children:r.body_work})})]}),Object(j.jsx)("dt",{children:"Are there any dents, dings, or scratches?"}),Object(j.jsx)("dd",{children:r.has_damage?"Yes":"No"}),r.has_damage&&Object(j.jsxs)(n.a.Fragment,{children:[Object(j.jsx)("dt",{children:"Please describe in detail, including where they\u2019re located on the vehicle."}),Object(j.jsx)("dd",{children:Object(j.jsx)(O.a,{className:"mkdn",unwrapDisallowed:!0,skipHtml:!0,allowedElements:y.u,children:r.damage})})]}),Object(j.jsx)("dt",{children:"Is there any rust on the vehicle?"}),Object(j.jsx)("dd",{children:r.has_rust?"Yes":"No"}),r.has_rust&&Object(j.jsxs)(n.a.Fragment,{children:[Object(j.jsx)("dt",{children:"Where is the rust located on the vehicle?"}),Object(j.jsx)("dd",{children:Object(j.jsx)(O.a,{className:"mkdn",unwrapDisallowed:!0,skipHtml:!0,allowedElements:y.u,children:r.rust})})]}),Object(j.jsx)("dt",{children:"Any additional issues or problems?"}),Object(j.jsx)("dd",{children:r.has_issues?"Yes":"No"}),r.has_issues&&Object(j.jsxs)(n.a.Fragment,{children:[Object(j.jsx)("dt",{children:"Please describe all known issues and problems."}),Object(j.jsx)("dd",{children:Object(j.jsx)(O.a,{className:"mkdn",unwrapDisallowed:!0,skipHtml:!0,allowedElements:y.u,children:r.issues})})]}),Object(j.jsx)("dt",{children:"What\u2019s included with the car? (How many keys, owner\u2019s manuals, the window sticker, spare parts, extra wheels/tires, etc.)"}),Object(j.jsx)("dd",{children:Object(j.jsx)(O.a,{className:"mkdn",unwrapDisallowed:!0,skipHtml:!0,allowedElements:y.u,children:r.whats_included})}),Object(j.jsx)("dt",{children:"Anything else we should know?"}),Object(j.jsx)("dd",{children:Object(j.jsx)(O.a,{className:"mkdn",unwrapDisallowed:!0,skipHtml:!0,allowedElements:y.u,children:r.anything_else})})]}),Object(j.jsx)("h2",{children:"Videos"}),Object(j.jsxs)("dl",{children:[Object(j.jsx)("dt",{children:"We require a cold start video and recommended walk-around and driving clips. Please upload them to YouTube or Vimeo."}),Object(j.jsx)("dd",{children:Object(j.jsx)("ul",{className:"mb-0",children:(c.videos||[]).map(((e,t)=>Object(j.jsx)("li",{children:e},t)))})})]}),Object(j.jsx)("h2",{children:"Auction Start Date"}),Object(j.jsxs)("dl",{children:[Object(j.jsx)("dt",{children:"We schedule auctions to launch and end Monday through Friday, between 10am and 1pm Pacific Time. We always strive to schedule your auction to launch as soon as possible, while considering your scheduling preferences and any similar vehicles already live or on the schedule. With that said, do you have any scheduling preferences for your auction?"}),Object(j.jsx)("dd",{children:Object(j.jsx)(O.a,{className:"mkdn",unwrapDisallowed:!0,skipHtml:!0,allowedElements:y.u,children:d.date_notes})})]})]})]})]})};var We=e=>{let{current_page:t,furthest_page:s}=e;return Object(j.jsxs)(n.a.Fragment,{children:[Object(j.jsx)(Qe,{current_page:t,furthest_page:s}),Object(j.jsx)("div",{className:"col",children:Object(j.jsx)("h1",{children:"Oops, how'd you get here?"})})]})},Ve=s(684),He=s(690),Je=s(691),qe=s(10);const ze=[qe.q,qe.n,qe.k,qe.r,qe.o,qe.l],Ze=[qe.k,qe.r,qe.o,qe.l];class Ke extends i.Component{constructor(){super(...arguments),this.getSubmission=()=>{const e=this.props.submission.details;return e||!1},this.getSupportsInspections=()=>{const e=this.getSubmission();return!!e&&!0===e.is_inspection_eligible},this.getBreadcrumbs=()=>{const e=this.getSubmission();if(e){const{current_page:t,furthest_page:s,onJumpTo:i}=this.props,o={page:t,status:e.status,furthest_page:s},a=(e=>{const t=e?9:8,s=e?3:2,i=[{label:"Application",isCurrent:e=>{let{page:t,status:s}=e;return qe.M(s.id)||qe.F(s.id)||-1===t},isChecked:e=>{let{status:t}=e;return Ze.indexOf(t.id)<0&&ze.indexOf(t.id)<0},isLinkable:e=>{let{page:t,status:s}=e;return"undefined"!==typeof t&&Ze.indexOf(s.id)<0&&-1!==t&&qe.O(s.id)},page:-1,stage:"(Step 1 of ".concat(t,")")}];return e&&i.push({label:"Inspection",isCurrent:e=>{let{page:t,status:s}=e;return 0===t&&qe.O(s.id)},isChecked:e=>{let{page:t,status:s,furthest_page:i}=e;return(i>0||ze.indexOf(s.id)>=0)&&ze.indexOf(s.id)<0},isLinkable:e=>{let{page:t,status:s,furthest_page:i}=e;return"undefined"!==typeof t&&Ze.indexOf(s.id)<0&&0!==t&&0<=i},page:0,stage:"(Step 2 of ".concat(t,")")}),i.concat([{label:"Details",isCurrent:e=>{let{page:t,status:s}=e;return 1===t&&qe.O(s.id)},isChecked:e=>{let{page:t,status:s,furthest_page:i}=e;return(i>1||ze.indexOf(s.id)>=0)&&ze.indexOf(s.id)<0},isLinkable:e=>{let{page:t,status:s,furthest_page:i}=e;return"undefined"!==typeof t&&Ze.indexOf(s.id)<0&&1!==t&&(1<=i||0===i)},page:1,stage:"(Step ".concat(s," of ").concat(t,")")},{label:"Condition",isCurrent:e=>{let{page:t,status:s}=e;return 2===t&&qe.O(s.id)},isChecked:e=>{let{page:t,status:s,furthest_page:i}=e;return(i>2||ze.indexOf(s.id)>=0)&&ze.indexOf(s.id)<0},isLinkable:e=>{let{page:t,status:s,furthest_page:i}=e;return"undefined"!==typeof t&&Ze.indexOf(s.id)<0&&2!==t&&2<=i},page:2,stage:"(Step ".concat(s+1," of ").concat(t,")")},{label:"Media",isCurrent:e=>{let{page:t,status:s}=e;return 3===t&&qe.O(s.id)},isChecked:e=>{let{page:t,status:s,furthest_page:i}=e;return(i>3||ze.indexOf(s.id)>=0)&&ze.indexOf(s.id)<0},isLinkable:e=>{let{page:t,status:s,furthest_page:i}=e;return"undefined"!==typeof t&&Ze.indexOf(s.id)<0&&3!==t&&3<=i},page:3,stage:"(Step ".concat(s+2," of ").concat(t,")")},{label:"Scheduling",isCurrent:e=>{let{page:t,status:s}=e;return 4===t&&qe.O(s.id)},isChecked:e=>{let{page:t,status:s,furthest_page:i}=e;return(i>4||ze.indexOf(s.id)>=0)&&ze.indexOf(s.id)<0},isLinkable:e=>{let{page:t,status:s,furthest_page:i}=e;return"undefined"!==typeof t&&Ze.indexOf(s.id)<0&&4!==t&&4<=i},page:4,stage:"(Step ".concat(s+3," of ").concat(t,")")},{label:"Review",isCurrent:e=>{let{page:t,status:s}=e;return 5===t&&qe.O(s.id)},isChecked:e=>{let{page:t,status:s}=e;return(t>5||ze.indexOf(s.id)>=0)&&ze.indexOf(s.id)<0},isLinkable:e=>{let{page:t,status:s,furthest_page:i}=e;return"undefined"!==typeof t&&Ze.indexOf(s.id)<0&&5!==t&&5<=i},page:5,stage:"(Step ".concat(s+4," of ").concat(t,")")},{label:"Listing",isCurrent:e=>{let{status:t}=e;return qe.K(t.id)||qe.G(t.id)},isChecked:e=>{let{status:t}=e;return!1},isLinkable:e=>{let{status:t}=e;return!1},page:"listing",stage:"(Step ".concat(s+5," of ").concat(t,")")},{label:"Auction",isCurrent:e=>{let{status:t}=e;return qe.E(t.id)||qe.L(t.id)||qe.I(t.id)||qe.H(t.id)},isChecked:e=>{let{status:t}=e;return!1},isLinkable:e=>{let{status:t}=e;return!1},page:"auction",stage:"(Step ".concat(s+6," of ").concat(t,")")}])})(this.getSupportsInspections()||e.status.id===qe.u),r=a.filter((e=>e.isCurrent(o))),l=r.length>0?"".concat(r[0].label," ").concat(r[0].stage):null;return{crumbs:a.map(((e,t)=>{let s=e.isCurrent(o)?"current":"";return s+=e.isChecked(o)?" checked":"",Object(j.jsx)("li",{className:s,"data-stage":e.stage,children:e.isLinkable(o)?Object(j.jsx)("button",{className:"btn btn-link rb",onClick:t=>i(t,e.page),children:e.label}):Object(j.jsx)(n.a.Fragment,{children:e.label})},t)})),current:l}}return null}}render(){const e=this.getSubmission();if(!0===this.props.read_only)return e?Object(j.jsx)("div",{className:"sub_breadcrumbs read-only",children:Object(j.jsx)("p",{children:Object(j.jsxs)(de.b,{to:Object(C.ib)(e.submission_id),children:["Back to your ",e.title]})})}):null;const t=this.getBreadcrumbs();if(!t)return null;const{crumbs:s,current:i}=t,{isBelowLg:o}=this.context;return Object(j.jsxs)("div",{className:"sub_breadcrumbs",children:[Object(j.jsxs)("p",{children:[Object(j.jsx)(de.b,{to:C.w.path,children:"My listings"})," \u2014 ",e.title]}),o?Object(j.jsx)(n.a.Fragment,{children:ze.indexOf(e.status.id)>=0||qe.F(e.status.id)?Object(j.jsx)("p",{className:"sub_status",children:i}):Object(j.jsxs)(Ve.a,{className:"sub_breadcrumb_dropdown",children:[Object(j.jsx)(He.a,{caret:!0,children:i}),Object(j.jsx)(Je.a,{children:Object(j.jsx)("ol",{children:s})})]})}):Object(j.jsx)("ol",{children:s})]})}}Ke.defaultProps={onJumpTo:(e,t)=>{console.log(t)}},Ke.contextType=p.a;var Qe=Object(a.b)((e=>({submission:e.submission})),(e=>({actions:Object(o.b)({},e)})))(Ke);const Ge={photos:[]},Xe=e=>{let{photos:t,onDelete:s,onCancel:i,onRemoveErrored:o,isMobile:a}=e;return Object(j.jsxs)(n.a.Fragment,{children:[a&&Object(j.jsx)(he.a,{start_on:!0}),Object(j.jsx)("ul",{className:"upload-picks ".concat(0===t.length?"mb-0 mt-0":""),children:t.map((e=>Object(j.jsx)(J.a,{...e,onCancel:i,onRemoveErrored:o},e.id)))})]})};class $e extends i.Component{constructor(e){super(e),this.onBeforeUnload=e=>{this.areUploadsInProgress()?(e.preventDefault(),e.returnValue=""):delete e.returnValue},this.handleInputChange=async e=>{const{target:t}=e,s="checkbox"===t.type?t.checked:t.value,{name:i}=t;let n=this.state.form;n[i]=s,await this.setState({form:n})},this.areUploadsInProgress=()=>this.state.form.photos.filter((e=>"uploading"===e.status)).length>0,this.onUploadPhoto=e=>{const t=this.props.submission.submission_id;return this.props.actions.postPhoto({key:e,submission_id:t})},this.onUpdatePhotos=e=>{let t=this.state.form;t.photos=e,this.setState({form:t})},this.toggleUploader=e=>{e&&e.preventDefault(),this.setState({showUploader:!this.state.showUploader})};let t={...Ge};t.photos=e.submission.photos?e.submission.photos.map((e=>({id:e.id,status:"uploaded",resp:{...e}}))):[],this.state={form:t,showUploader:!1,errors:{}}}componentDidMount(){window.addEventListener("beforeunload",this.onBeforeUnload)}componentWillUnmount(){window.removeEventListener("beforeunload",this.onBeforeUnload)}render(){const{form:e,errors:t,showUploader:s}=this.state;return Object(j.jsxs)("div",{id:"submission-upload-more",className:"upload-additional ".concat(s?"enabled":""),children:[Object(j.jsx)(V.a,{when:this.areUploadsInProgress(),message:"Are you sure you want to leave? Your uploads will be lost."}),Object(j.jsx)("button",{id:"submission-upload-more-button",type:"button",className:"btn btn-lg btn-outline-secondary finished-details add-photos ".concat(s?"d-none":"d-inline-block"),onClick:this.toggleUploader,children:"Upload additional photos"}),Object(j.jsxs)("div",{className:"form-block photos ".concat(s?"d-block":"d-none"),children:[Object(j.jsx)("h2",{children:"Additional photos"}),Object(j.jsx)(H.a,{uploadAction:this.onUploadPhoto,uploadType:"photos",accept:y.s,minimum:y.F,limit:y.x,onUpdate:this.onUpdatePhotos,photos:e.photos?e.photos:[],addToFront:!0,groupID:this.props.submission.submission_id,customHandler:Object(j.jsxs)(n.a.Fragment,{children:[Object(j.jsx)(pe.a,{}),Object(j.jsx)("p",{"data-abbr":"Tap to select images",children:Object(j.jsx)("span",{children:"Add more photos"})})]}),customInitializing:Object(j.jsx)("div",{className:"upload-drop-site",children:Object(j.jsx)("p",{className:"mb-0",children:"Initializing"})}),customRender:Xe}),t.photos&&Object(j.jsx)("p",{className:"text-danger",children:t.photos})]}),this.props.useDoneButton&&s&&Object(j.jsx)("button",{type:"button",disabled:this.areUploadsInProgress(),className:"btn btn-lg btn-primary finished-details add-photos done d-inline-block",onClick:this.toggleUploader,children:"Done"})]})}}$e.defaultProps={useDoneButton:!1};var et=Object(a.b)(null,(e=>({actions:Object(o.b)({postPhoto:v.r},e)})))($e);const tt={pageSubmitted:g,pageDeclined:x,"page-1":k,page0:W,page1:$,page2:ce,page3:Oe,page4:we,page5:Ne,pagePaid:Se,pageListing:Te,pageApproved:Ie,pageLive:Ee,pageScheduled:Ue,pageAuctionEnded:Le,pageReadOnly:Ye,unknown:We};var st=s(22),it=s(44),nt=s(18);s(698);const ot=l.scroller,at="view",rt={loading:!1,error:!1,conversationOpened:!1,loading_messages:!0,ws_retries:0,current_page:!1,furthest_page:!1};class lt extends i.Component{constructor(){super(...arguments),this.state={...rt},this.toggleConvoRef=n.a.createRef(),this.retryTimer=0,this.mounted=!1,this.onBeforeUnload=e=>{this.state.conversationOpened&&this.clearBadge(),delete e.returnValue},this.isReadOnly=()=>{const e=this.getSubmission();return!!e&&(at===this.props.match.params.screen&&!qe.N(e.status.id)&&!qe.M(e.status.id)&&!qe.O(e.status.id)&&!qe.F(e.status.id))},this.fetchSubmissionDetails=()=>{this.props.actions.cleanSubmissionDetailsCache(),this.setState({loading:!0,loading_messages:!0,error:!1});const e=this.props.match.params.submission_id;this.props.actions.getSubmissionById(e).then((()=>{const t=this.getSubmission(),{status:s,page:i}=t;if(!s||qe.N(s.id))this.props.history.replace(C.S.path);else if(at!==this.props.match.params.screen||this.isReadOnly()){const e=0!==i||this.getSupportsInspections()?i:1;this.mounted&&this.setState({loading:!1,error:!1,current_page:e,furthest_page:e})}else this.props.history.replace(Object(C.ib)(e))}),(e=>{this.mounted&&this.setState({error:!0,loading:!1})}));const t=Object(w.o)();this.props.actions.wsRegisterMessages(e).then((()=>{const{unread_count:e}=this.getMessageData(),s=d.a.parse(this.props.location.search),{isMobile:i}=this.context;this.mounted&&this.setState({loading_messages:!1,conversationOpened:!i&&e>0||"true"===s.m}),!0===this.props.app.refresh&&this.props.actions.refreshed(),this.props.actions.wsMessagesSince(t)}))},this.refreshSubmissionDetails=()=>{const e=this.props.match.params.submission_id,t=this.getSubmission(),{status:s}=t;this.props.actions.getSubmissionById(e).then((()=>{const t=this.getSubmission(),{status:i}=t;!i||qe.N(i.id)?this.props.history.replace(C.S.path):at!==this.props.match.params.screen||this.isReadOnly()?this.mounted&&this.setState({loading:!1,error:!1,current_page:s&&s.id!==i.id?0!==t.page||this.getSupportsInspections()?t.page:1:this.state.current_page,furthest_page:s&&s.id!==i.id?0!==t.page||this.getSupportsInspections()?t.page:1:this.state.furthest_page}):this.props.history.replace(Object(C.ib)(e))}),(e=>{this.mounted&&this.setState({error:!0,loading:!1})}));const i=Object(w.o)();this.props.actions.wsRegisterMessages(e).then((()=>{!0===this.props.app.refresh&&this.props.actions.refreshed(),this.props.actions.wsMessagesSince(i)}))},this.clearBadge=()=>{const{unread_count:e}=this.getMessageData();if(e>0){const e=this.props.match.params.submission_id;this.props.actions.markSubmissionMessagesSeen(e)}},this.getSubmission=()=>{const e=this.props.submission.details;return e||!1},this.getPaymentIntent=()=>{const e=this.props.submission.intent;return e||!1},this.getSupportsInspections=()=>{const e=this.getSubmission();return!!e&&!0===e.is_inspection_eligible},this.getMessageData=()=>{let e=[],t=0;const s=this.props.match.params.submission_id,i=this.props.submission,n=!!i&&i.messages;return n&&n[s]&&(e=n[s].messages,t=n[s].new),{messages:e,unread_count:t}},this.openUploader=e=>{e&&e.preventDefault();const t=document.getElementById("submission-upload-more-button");t&&!t.classList.contains("d-none")&&t.click(),document.getElementById("submission-upload-more")&&ot.scrollTo("submission-upload-more",{delay:0,smooth:!0,offset:-120,duration:300})},this.openConversation=e=>{e&&e.preventDefault(),this.toggleConvoRef.current&&!this.state.conversationOpened&&this.toggleConvoRef.current.click()},this.onToggleConversation=()=>(this.state.conversationOpened&&this.clearBadge(),u.a.addEvent({event:"seller",category:"seller",action:"chat",label:this.state.conversationOpened?"window_closed":"window_opened",car_id:this.props.match.params.submission_id}),new Promise(((e,t)=>{this.mounted&&this.setState({conversationOpened:!this.state.conversationOpened},(()=>{e()}))}))),this.onToggleExpandConversation=e=>{u.a.addEvent({event:"seller",category:"seller",action:"chat",label:e?"window_expanded":"window_restored",car_id:this.props.match.params.submission_id})},this.onSendMessage=e=>{this.clearBadge();const t=this.props.match.params.submission_id;return this.props.actions.postSubmissionMessage({submission_id:t,message:e}).then((e=>{u.a.addEvent({event:"seller",category:"seller",action:"chat",label:"submitted",car_id:t})}),(e=>{}))},this.onNextPage=e=>{this.mounted&&this.setState({current_page:e.page,furthest_page:this.state.furthest_page<e.page?e.page:this.state.furthest_page},(()=>{window.scrollTo(0,0)}))},this.onPrevPage=e=>{this.mounted&&this.setState({current_page:e.page},(()=>{window.scrollTo(0,0)}))},this.trackView=e=>{u.a.addEvent({event:"gaevent",category:"submission",action:"view",label:e,car_id:this.props.match.params.submission_id})}}componentDidMount(){this.mounted=!0,this.fetchSubmissionDetails(),window.addEventListener("beforeunload",this.onBeforeUnload)}componentDidUpdate(e){const t=this.props.match.params.submission_id;if(e.match.params.submission_id!==t)this.setState(rt,(()=>{this.fetchSubmissionDetails()}));else if(e.app.refresh||!0!==this.props.app.refresh){(!!e.location.state&&e.location.state.rand)!==(!!this.props.location.state&&this.props.location.state.rand)&&this.fetchSubmissionDetails()}else this.refreshSubmissionDetails()}componentWillUnmount(){this.mounted=!1,clearTimeout(this.retryTimer),window.removeEventListener("beforeunload",this.onBeforeUnload),this.props.actions.wsDeregisterMessages(),this.state.conversationOpened&&this.clearBadge()}render(){const{error:e,loading:t,loading_messages:s,current_page:i,furthest_page:o}=this.state,a=this.getSubmission(),l=this.getPaymentIntent(),{messages:c,unread_count:d}=this.getMessageData(),{status:h}=a;let p=tt.unknown;return h&&(this.isReadOnly()?p=tt.pageReadOnly:(p=tt["page"+(qe.O(h.id)&&null!==i&&"undefined"!==typeof i?i:qe.P(h.id))],p||(p=tt.unknown))),Object(j.jsxs)(b.a,{className:"subflow subdetail",children:[e&&!a&&Object(j.jsxs)("div",{className:"row subbody",children:[Object(j.jsx)(r.a,{title:"Error loading submission",children:Object(j.jsx)("meta",{name:"page-loaded",content:"true"})}),Object(j.jsx)("div",{className:"alert alert-warning",role:"alert",children:"Oops, there was an error loading this submission"})]}),!t&&a&&a.submission_id===this.props.match.params.submission_id&&Object(j.jsxs)(n.a.Fragment,{children:[Object(j.jsx)(r.a,{title:a.title,children:Object(j.jsx)("meta",{name:"page-loaded",content:"true"})}),Object(j.jsxs)("div",{className:"row subbody",children:[Object(j.jsx)(p,{current_page:i,furthest_page:o,submission:a,trackView:this.trackView,intent:l,openConversation:this.openConversation,openUploader:this.openUploader,onNextPage:this.onNextPage,onPrevPage:this.onPrevPage,toggleChecklistItem:this.props.actions.setChecklistItem}),!s&&Object(j.jsx)(m.a,{messages:c,unread:d,onSend:this.onSendMessage,onToggle:this.onToggleConversation,onExpand:this.onToggleExpandConversation,isOpen:this.state.conversationOpened,autoFocus:!this.context.isMobile,toggleRef:this.toggleConvoRef})]})]})]})}}lt.contextType=p.a;t.default=Object(h.a)(Object(a.b)((e=>({app:e.app,submission:e.submission})),(e=>({actions:Object(o.b)({getSubmissionById:v.j,cleanSubmissionDetailsCache:v.d,markSubmissionMessagesSeen:v.p,postSubmissionMessage:v.s,setChecklistItem:st.setChecklistItem,wsRegisterMessages:nt.y,wsDeregisterMessages:nt.p,wsMessagesSince:nt.v,refreshed:it.e},e)})))(lt))},854:function(e,t,s){"use strict";s.r(t);var i=s(1),n=s.n(i),o=s(15),a=s(13),r=s(38),l=s(107),c=s(696),d=s(43),h=s(14),p=s(84),u=s(40),b=s(128),m=s.n(b),j=(s(700),s(701)),g=s(705),x=s(6),O=s(0);const f=[{id:"dealer-yes",value:"true",label:"Dealer"},{id:"dealer-no",value:"false",label:"Private party"}],v=[{id:"ds-default",value:"-1",label:"Select sales range"},{id:"ds-1",value:"1",label:"Less than 10"},{id:"ds-2",value:"2",label:"10-50"},{id:"ds-3",value:"3",label:"50-100"},{id:"ds-4",value:"4",label:"More than 100"}],y=e=>{let{photos:t,onDelete:s,onCancel:i,onRemoveErrored:o}=e;return Object(O.jsx)(n.a.Fragment,{children:t.filter((e=>"canceled"!==e.status)).length>0&&Object(O.jsx)("ul",{className:"upload-picks",children:t.map((e=>Object(O.jsx)(g.a,{...e,type:"license photo",canDelete:!0,onDelete:s,onCancel:i,onRemoveErrored:o},e.id)))})})};var w=e=>{let{fields:t,errors:s,initPhoneInput:i,onChange:o,uploadLicenseAction:a,deleteLicenseAction:r,onUpdateLicense:l}=e;return Object(O.jsxs)("div",{className:"form-block owner-info",children:[Object(O.jsx)("h2",{children:"Your Info"}),Object(O.jsx)(u.c,{label:"Dealer or private party?",name:"owner_is_dealer",value:t.owner_is_dealer,onChange:o,options:f,error:s.owner_is_dealer,conditionalFields:t.owner_is_dealer+""==="true"?Object(O.jsxs)(n.a.Fragment,{children:[Object(O.jsx)(u.g,{label:Object(O.jsx)(n.a.Fragment,{children:"Are there any additional fees the buyer will have to pay?"}),name:"dealership_fees",value:t.dealership_fees,onChange:o,error:s.dealership_fees}),Object(O.jsxs)("div",{className:"d-flex",children:[Object(O.jsx)(u.g,{label:"Dealership name",name:"dealership_name",value:t.dealership_name,onChange:o,error:s.dealership_name}),Object(O.jsx)(u.g,{label:"Dealership website",name:"dealership_website",value:t.dealership_website,onChange:o,error:s.dealership_website})]}),Object(O.jsx)(u.j,{label:"How many vehicles does your dealership retail each month?",name:"dealership_monthly_sales",value:t.dealership_monthly_sales,options:v,onChange:o,error:s.dealership_monthly_sales})]}):null}),Object(O.jsxs)("div",{className:"d-flex",children:[Object(O.jsx)(u.g,{label:"Full name",name:"name",value:t.name,onChange:o,error:s.name}),Object(O.jsxs)("fieldset",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"phone_number",children:"Contact phone number"}),Object(O.jsx)(m.a,{className:"form-control",name:"phone_number",id:"id-phone_number",onInit:i,options:{phone:!0,phoneRegionCode:"US",delimiter:"-"},onChange:o,value:t.phone_number}),s.phone_number&&Object(O.jsx)("p",{className:"text-danger",children:s.phone_number})]})]}),t.owner_is_dealer+""==="true"&&Object(O.jsxs)(n.a.Fragment,{children:[Object(O.jsx)("p",{children:"Please upload a photo of your dealer license."}),Object(O.jsx)("p",{className:"inline",children:"This information will be kept private and only used for verification. It will not be shown in the auction listing."}),Object(O.jsx)(j.a,{uploadAction:a,deleteAction:r,uploadType:"photos",accept:x.s,one_file:!0,onUpdate:l,photos:t.dealership_license?t.dealership_license:[],groupID:"dl",minimumDimension:500,customHandler:Object(O.jsx)("button",{type:"button",className:"btn btn-outline-secondary",children:"Upload a dealer license photo"}),customInitializing:Object(O.jsx)("div",{className:"upload-drop-site",children:Object(O.jsx)("div",{className:"handler",children:Object(O.jsx)("button",{disabled:!0,type:"button",className:"btn btn-outline-secondary",children:"Upload a dealer license photo"})})}),customRender:y}),s.dealership_license&&Object(O.jsx)("p",{className:"text-danger",style:{marginTop:"-24px",paddingBottom:"24px"},children:s.dealership_license})]})]})},_=s(12),k=s(4),C=s(8);const N=[{id:"listed-yes",value:"true",label:"Yes"},{id:"listed-no",value:"false",label:"No"}],S=e=>{let t=[];t.push({id:"y-default",value:"-1",label:e?"Choose year":"Choose"});for(let s=(new Date).getFullYear()+1;s>=1981;s--)t.push({id:"y-".concat(s),value:s,label:s});return t},A=[{id:"country-us",value:"US",label:"United States"},{id:"country-ca",value:"CA",label:"Canada"}],T=[{id:"stock-yes",value:"stock",label:"Completely stock"},{id:"stock-no",value:"modified",label:"Modified"}],I=x.N.slice(),D=[{id:"flaws-yes",value:"true",label:"Yes"},{id:"flaws-no",value:"false",label:"No"}];class E extends i.Component{render(){const{fields:e,errors:t,onChange:s,initMileageInput:i,vinData:o,onLookupVIN:a,isSMMobile:r,goToExistingSubmission:l}=this.props;return Object(O.jsxs)("div",{className:"form-block",children:[Object(O.jsx)("h2",{children:"Car Details"}),Object(O.jsxs)("div",{className:"d-flex vin-lookup",children:[Object(O.jsxs)("div",{className:"d-flex flex-row",children:[Object(O.jsx)(u.g,{label:"VIN",name:"vin",value:e.vin,onChange:s}),Object(O.jsxs)("button",{type:"button",disabled:""===e.vin.trim()||o.loading,className:"btn btn-primary btn-lg",onClick:a,children:["Lookup",o.info&&Object(O.jsx)("img",{alt:"check mark",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAASCAYAAABB7B6eAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADySURBVHgBrZHNDYIwFID7s4AhDMAFwpERHMENlE1wAnUCcQLjzZtu4B0uTkCYAHxtgJDSH1v6ktLSV76P14eR50iSZA/TGUYLo8DIYwzwcrbVEuQpJHAu8FKBAo76vs9XC3Twuq7LVYI4jjOM8UcFZ2vnHgzwlyR1HOGTIE3TLZS6Q/bwjQivqqqYbxA4fOq6jh2+w/rqE86ChmH4HF/gwywIgqhpmocPOK8AGvKebwDgIKvEBc4FlNIc5q9O4grnLPaAJkdDHyIhXxBCboqcET4JDJLW5c8XAoPECb4Q/CGxgksFGok1XCkQJOz+Ly5wFj9g9IVfrJqGoAAAAABJRU5ErkJggg==",className:"chk"})]})]}),t.vin?Object(O.jsx)("p",{className:"text-danger",children:t.vin}):Object(O.jsx)(n.a.Fragment,{children:o.info.existing_submission_id?Object(O.jsxs)("p",{className:"vin-already-submitted",children:["This VIN has already been submitted. ",Object(O.jsx)(_.b,{to:{pathname:Object(k.ib)(o.info.existing_submission_id),search:"utm_source=lookup&utm_campaign=sell&utm_content=submitted"},onClick:e=>{l(e,o.info.existing_submission_id)},children:"Manage your submission here"}),"."]}):Object(O.jsx)(n.a.Fragment,{children:!0===o.info.was_vin_corrected&&Object(O.jsxs)("p",{className:"vin-correction",children:["VINs do not contain the characters o, i, or q. We\u2019ve updated your VIN to ",o.info.vin,". Please verify it is correct."]})})})]}),Object(O.jsxs)("div",{className:"d-flex ymm",children:[Object(O.jsx)(u.j,{label:"Year",name:"year",value:e.year,options:S(r),onChange:s,error:t.year,className:"app-year ".concat(o.info&&o.info.year===e.year?"prefilled":"")}),Object(O.jsxs)("div",{className:"d-flex",children:[Object(O.jsx)(u.g,{label:"Make",name:"make",value:e.make,onChange:s,error:t.make,className:"".concat(o.info&&o.info.make===e.make?"prefilled":"")}),Object(O.jsx)(u.g,{label:"Model",name:"model",value:e.model,onChange:s,error:t.model,className:"".concat(o.info&&o.info.model===e.model?"prefilled":"")})]})]}),Object(O.jsxs)("div",{className:"d-flex tm",children:[Object(O.jsx)(u.j,{label:"Transmission",name:"transmission",value:e.transmission+"",options:I,onChange:s,error:t.transmission,className:"app-transmission ".concat(o.info&&o.info.transmission&&o.info.transmission.toLowerCase()===e.transmission.toLowerCase()?"prefilled":"")}),Object(O.jsxs)("fieldset",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"mileage",children:"Mileage (in miles)"}),Object(O.jsx)(m.a,{onInit:i,className:"form-control",name:"mileage",id:"id-mileage",options:{numeral:!0,numeralDecimalScale:0,numeralPositiveOnly:!0,numeralThousandsGroupStyle:"thousand"},onChange:s,value:e.mileage}),t.mileage&&Object(O.jsx)("p",{className:"text-danger",children:t.mileage})]})]}),Object(O.jsx)(u.k,{label:"Noteworthy options/features",name:"noteworthy",value:e.noteworthy?e.noteworthy:"",onChange:s,error:t.noteworthy}),Object(O.jsx)(u.c,{label:"Has the car been modified?",name:"vehicle_stock",value:e.vehicle_stock+"",onChange:s,options:T,error:t.vehicle_stock,conditionalFields:e.vehicle_stock+""==="modified"?Object(O.jsx)(u.k,{label:"List any modifications, including modification or removal of the catalytic converters.",name:"modifications",value:e.modifications?e.modifications:"",onChange:s,error:t.modifications}):null}),Object(O.jsx)(u.c,{label:"Are there any significant mechanical or cosmetic flaws that we should know about?",name:"has_flaws",value:e.has_flaws+"",onChange:s,options:D,error:t.has_flaws,conditionalFields:e.has_flaws+""==="true"?Object(O.jsx)(u.k,{label:"Please give details.",name:"flaws",value:e.flaws?e.flaws:"",onChange:s,error:t.flaws}):null}),Object(O.jsx)(u.c,{label:"Where is the car located?",name:"country",value:e.country+"",onChange:s,options:A,error:t.country,conditionalFields:e.country+""==="US"?Object(O.jsx)(u.g,{label:"Zip code",name:"zip_code",value:e.zip_code,onChange:s,onKeyPress:C.r,maxLength:"5",error:t.zip_code}):e.country+""==="CA"?Object(O.jsx)(u.g,{label:"City and Province",name:"city_and_province",value:e.city_and_province,onChange:s,error:t.city_and_province}):null}),Object(O.jsx)("div",{className:"sale-elsewhere",children:Object(O.jsx)(u.c,{label:"Is this car for sale elsewhere?",name:"listed_elsewhere",value:e.listed_elsewhere,onChange:s,options:N,error:t.listed_elsewhere,conditionalFields:e.listed_elsewhere+""==="true"?Object(O.jsxs)(n.a.Fragment,{children:[Object(O.jsx)("p",{className:"note text-danger",children:"If we accept your car, all other listings will need to be taken down before it can be listed on our site."}),Object(O.jsx)(u.f,{name:"current_listings",onChange:s,values:e.current_listings,label:"Please link to all existing listings",hideAdditionalLabels:!0,error:t.current_listings})]}):null})})]})}}var B=E,P=s(722);const U=[{id:"title-yes",value:"true",label:"Yes"},{id:"title-no",value:"false",label:"No"}],F=[{id:"title_country-us",value:"US",label:"United States"},{id:"title_country-ca",value:"CA",label:"Canada"}],R=[{id:"state-default",value:"-1",label:"Select state"}].concat(P.filter((e=>!1===e.isTerritory)).map((e=>({id:"state-".concat(e.abbr),value:e.abbr,label:e.name})))),M=[{id:"titlestatus-default",value:"-1",label:"Choose"},{id:"titlestatus-clean",value:"clean",label:"Clean"},{id:"titlestatus-salvage",value:"salvage",label:"Salvage"},{id:"titlestatus-rebuilt",value:"rebuilt",label:"Rebuilt"},{id:"titlestatus-nam",value:"not actual mileage",label:"Not actual mileage"},{id:"titlestatus-bb",value:"manufacturer buyback",label:"Manufacturer buyback"}];var L=e=>{let{fields:t,errors:s,onChange:i}=e;return Object(O.jsxs)("div",{className:"form-block",children:[Object(O.jsx)("h2",{children:"Title Info"}),Object(O.jsx)(u.c,{label:"Where is the car titled?",description:"Note: We require a US title or Canadian registration for the car to be considered.",name:"title_country",value:t.title_country,onChange:i,options:F,error:s.title_country,conditionalFields:t.title_country+""==="US"?Object(O.jsx)(u.j,{label:"State",name:"title_state",value:t.title_state,onChange:i,options:R,error:s.title_state}):t.title_country+""==="CA"?Object(O.jsx)(u.g,{label:"Province",name:"title_province",value:t.title_province,onChange:i,error:s.title_province}):null}),t.owner_is_dealer+""==="true"?Object(O.jsx)(u.c,{label:"Do you have the title in hand?",name:"owner_has_title",value:t.owner_has_title,onChange:i,options:U,error:s.owner_has_title}):Object(O.jsx)(u.c,{label:"Is the vehicle titled in your name?",name:"owner_has_title",value:t.owner_has_title,onChange:i,options:U,error:s.owner_has_title,conditionalFields:t.owner_has_title+""==="false"?Object(O.jsxs)(n.a.Fragment,{children:[Object(O.jsx)("p",{className:"inline",style:{marginTop:"-16px"},children:"If the vehicle is titled or registered in the name of another individual, a photo of the owner's ID will be requested for further verification."}),Object(O.jsx)(u.k,{label:"Whose name is on the title? What's your relationship with them?",name:"title_owner",value:t.title_owner,onChange:i,error:s.title_owner})]}):null}),Object(O.jsx)(u.j,{label:"What is the title\u2019s status?",name:"title_status",value:t.title_status,onChange:i,options:M,error:s.title_status})]})};const Y=[{id:"res-yes",value:"true",label:"Yes"},{id:"res-no",value:"false",label:"No"}];var W=e=>{let{fields:t,errors:s,onChange:i}=e;return Object(O.jsxs)("div",{className:"form-block",children:[Object(O.jsx)("h2",{children:"Reserve Price"}),Object(O.jsxs)("p",{className:"inline",children:["The reserve price is a secret, minimum price required for your vehicle to sell. Cars with reserve prices may garner less interest than those without reserves.",Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),"Please note that bidding often brings the end result well above the reserve price. For more information, see Doug DeMuro's video explanation of reserves at ",Object(O.jsx)("a",{href:"https://crsnbds.com/reserve",target:"_blank",rel:"noopener noreferrer",children:"https://crsnbds.com/reserve"})]}),Object(O.jsx)(u.c,{label:"Do you want to set a minimum price required for your vehicle to sell?",name:"has_reserve",value:t.has_reserve,onChange:i,options:Y,error:s.has_reserve,conditionalFields:t.has_reserve+""==="true"?Object(O.jsxs)("fieldset",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"reserve",children:"What reserve price would you like (USD)?"}),Object(O.jsx)(m.a,{className:"form-control",name:"reserve",id:"id-reserve",options:{numeral:!0,numeralDecimalScale:0,numeralPositiveOnly:!0,numeralThousandsGroupStyle:"thousand",prefix:"$"},onChange:i}),s.reserve&&Object(O.jsx)("p",{className:"text-danger",children:s.reserve})]}):null})]})},V=s(723),H=s(724);const J=e=>{let{photos:t,onDelete:s,onCancel:i,onRemoveErrored:o,isMobile:a}=e;return Object(O.jsxs)(n.a.Fragment,{children:[a&&Object(O.jsx)(V.a,{start_on:!0}),Object(O.jsx)("ul",{className:"upload-picks",children:t.map((e=>Object(O.jsx)(g.a,{...e,canDelete:!0,onDelete:s,onCancel:i,onRemoveErrored:o},e.id)))})]})};var q=e=>{let{fields:t,errors:s,limit:i,minimum:o,uploadAction:a,deleteAction:r,onUpdate:l}=e;return Object(O.jsxs)("div",{className:"form-block photos",children:[Object(O.jsx)("h2",{children:"Photos"}),Object(O.jsxs)("p",{children:["Please upload at least ",x.E," photos of the ",Object(O.jsx)("strong",{children:"exterior"})," and ",Object(O.jsx)("strong",{children:"interior"})," of the car."]}),Object(O.jsx)(j.a,{uploadAction:a,deleteAction:r,uploadType:"photos",accept:x.s,minimum:o,limit:i,onUpdate:l,addToFront:!0,photos:t.photos?t.photos:[],customHandler:Object(O.jsxs)(n.a.Fragment,{children:[Object(O.jsx)(H.a,{}),Object(O.jsx)("p",{"data-abbr":"Tap to select photos",children:Object(O.jsx)("span",{children:"Click to select photos, or drag and drop here"})})]}),customLimitReached:Object(O.jsx)("div",{className:"upload-drop-site",children:Object(O.jsx)("p",{className:"mb-0",children:"Upload limit reached"})}),customInitializing:Object(O.jsx)("div",{className:"upload-drop-site",children:Object(O.jsx)("p",{className:"mb-0",children:"Initializing"})}),customRender:J}),s.photos&&Object(O.jsx)("p",{className:"text-danger",children:s.photos}),Object(O.jsxs)("p",{className:"mb-0 mt-2",children:["To learn more about taking great car photos, ",Object(O.jsx)(_.b,{target:"_blank",to:k.z.path,title:k.z.title,children:"check out our photo guide"})]})]})};var z=e=>{let{fields:t,errors:s,onChange:i}=e;return Object(O.jsxs)("div",{className:"form-block",children:[Object(O.jsx)("h2",{children:"Referral"}),Object(O.jsx)(u.g,{label:"How did you hear about us? If a user referred you please leave their username.",name:"referral",value:t.referral,onChange:i,error:s.referral})]})},Z=s(240),K=s(20),Q=s(699);s(698);const G={vin:"",year:"",make:"",model:"",mileage:"",transmission:"",noteworthy:"",vehicle_stock:"",has_flaws:"",country:"",listed_elsewhere:"",modifications:"",zip_code:"",city_and_province:"",flaws:"",current_listings:[]},X={...G,owner_is_dealer:"",name:"",phone_number:"",title_country:"",owner_has_title:"",title_status:"",has_reserve:"",photos:[],referral:"",dealership_name:"",dealership_website:"",dealership_fees:"",dealership_license:[],dealership_monthly_sales:"",reserve:"",title_state:"",title_province:"",title_owner:""},$=["owner_is_dealer","dealership_fees","dealership_name","dealership_website","dealership_license","dealership_monthly_sales","name","phone_number","vin","year","make","model","mileage","transmission","noteworthy","vehicle_stock","modifications","has_flaws","flaws","country","zip_code","city_and_province","listed_elsewhere","current_listings","id"],ee=["title_country","title_state","title_province","owner_has_title","title_owner","title_status","has_reserve","reserve","lienholder","photos","referral"];class te extends i.Component{constructor(){super(...arguments),this.state={submitting:!1,hasChanges:!1,form:{...X},errors:{},rawPhoneNumber:"",phoneCleave:null,mileageCleave:null,step:1,started:!1,reset:!1,prefilling:!0,submission_id:!1,toast:"out",vinData:{info:!1,loading:!1}},this.mounted=!1,this.onBeforeUnload=e=>{this.state.hasChanges?(e.preventDefault(),e.returnValue=""):delete e.returnValue},this.initPhoneInput=e=>{this.setState({phoneCleave:e})},this.initMileageInput=e=>{this.setState({mileageCleave:e})},this.handleChange=async e=>{const{target:t}=e,s="checkbox"===t.type?t.checked:t.value,{name:i}=t;if(i){let e={...this.state.form};e[i]=s,"phone_number"===i?await this.setState({form:e,hasChanges:!0,rawPhoneNumber:t.rawValue}):"vin"===i?(e[i]=s.toUpperCase(),await this.setState({form:e,hasChanges:!0})):("year"!==i||""!==this.state.form.year||this.state.started||h.a.addEvent({event:"listing",category:"listing",action:"initiated",label:"car_listing"}),await this.setState({form:e,hasChanges:!0}))}},this.onUploadPhoto=e=>{const t=this.state.submission_id;return this.props.actions.postPhoto({key:e,submission_id:t})},this.onUpdatePhotos=e=>{let t=this.state.form;t.photos=e,this.setState({form:t,hasChanges:!0})},this.onDeletePhoto=e=>this.props.actions.deletePhoto({photo_id:e}),this.onUploadLicense=e=>this.props.actions.postPhoto({key:e}),this.onUpdateLicense=e=>{let t=this.state.form;t.dealership_license=e,this.setState({form:t,hasChanges:!0})},this.onDeleteLicense=e=>this.props.actions.deletePhoto({photo_id:e}),this.onSubmitStepOne=e=>{e&&e.preventDefault();let t={};if(this.state.form.dealership_license.filter((e=>"uploading"===e.status)).length>0)return alert("Please wait until your dealer license photo has finished uploading before you proceed."),!1;let s={...this.state.form};if(s.owner_is_dealer=Object(C.i)(s.owner_is_dealer),s.listed_elsewhere=Object(C.i)(s.listed_elsewhere),s.has_flaws=Object(C.i)(s.has_flaws),"-1"===s.transmission&&(s.transmission=""),"-1"===s.year&&(s.year=""),"-1"===s.dealership_monthly_sales&&(s.dealership_monthly_sales=""),s.owner_is_dealer)try{s.dealership_license=s.dealership_license.filter((e=>"uploaded"===e.status)).map((e=>e.resp.id))[0]}catch(e){s.dealership_license=""}else s.dealership_name="",s.dealership_license="",s.dealership_website="",s.dealership_fees="",s.dealership_monthly_sales="";s.listed_elsewhere||(s.current_listings=[]),s.has_flaws||(s.flaws=""),"stock"===s.vehicle_stock&&(s.modifications="");const i=Object(C.b)(this.state.rawPhoneNumber);if(i&&(t.phone_number=i),Object.getOwnPropertyNames(t).length<1){this.setState({errors:t,submitting:!0});let e={};for(let t=0;t<$.length;t++)e[$[t]]=s[$[t]];this.props.actions.startApplication(e).then((e=>{h.a.addEvent({event:"listing",category:"listing",action:"started",label:"car_submitted",car_id:e.id});let t={...this.state.form};e.photos&&e.photos.length>0&&(t.photos=e.photos.map((e=>({id:e.id,resp:e,status:"uploaded"})))),this.setState({submitting:!1,hasChanges:!1,step:2,submission_id:e.id,form:t},(()=>{window.scrollTo(0,0)}))}),(e=>{this.setState({submitting:!1,errors:this.onErrors(e)},(()=>{const e=document.getElementsByClassName("text-danger");e[0]&&e[0].scrollIntoView({behavior:"auto",block:"center",inline:"nearest"})}))}))}else this.setState({submitting:!0},(()=>{this.setState({submitting:!1,errors:t},(()=>{const e=document.getElementsByClassName("text-danger");e[0]&&e[0].scrollIntoView({behavior:"auto",block:"center",inline:"nearest"})}))}))},this.onSubmitStepTwo=e=>{e&&e.preventDefault();let t={};if(this.state.form.photos.filter((e=>"uploading"===e.status)).length>0)return alert("Please wait until your photos have finished uploading before you submit your listing."),!1;let s={...this.state.form};if(s.owner_is_dealer=Object(C.i)(s.owner_is_dealer),s.listed_elsewhere=Object(C.i)(s.listed_elsewhere),s.has_flaws=Object(C.i)(s.has_flaws),s.owner_has_title=Object(C.i)(s.owner_has_title),s.has_reserve=Object(C.i)(s.has_reserve),s.reserve=s.reserve?Object(C.f)(s.reserve):"",s.photos=s.photos.filter((e=>"uploaded"===e.status)).map((e=>e.resp.id)),"-1"===s.title_status&&(s.title_status=""),"-1"===s.title_state&&(s.title_state=""),Object.getOwnPropertyNames(t).length<1){this.setState({errors:t,submitting:!0});let e={};for(let t=0;t<ee.length;t++)e[ee[t]]=s[ee[t]];this.props.actions.submitApplication(this.state.submission_id,e).then((e=>{h.a.addEvent({event:"listing",category:"listing",action:"submitted",label:"car_submitted",car_id:e.id}),this.setState({submitting:!1,hasChanges:!1},(()=>{this.props.history.push({pathname:Object(k.ib)(e.id),state:{new_submission:!0}})}))}),(e=>{this.setState({submitting:!1,errors:this.onErrors(e)},(()=>{const e=document.getElementsByClassName("text-danger");e[0]&&e[0].scrollIntoView({behavior:"auto",block:"center",inline:"nearest"})}))}))}else this.setState({errors:t})},this.onErrors=e=>{let t={};if(e.error_code===K.v){const s=e.error_body;for(let[e,i]of Object.entries(s))i.indexOf("wrong data type")>=0&&"reserve"===e?t[e]="Please enter your reserve value in currency format, e.g. 4000.00":"photos"===e?i.indexOf("required")>=0?t[e]="Please upload at least ".concat(x.E," photos of your car"):t[e]="Please upload between ".concat(x.E," to ").concat(x.x," photos of your car"):i.indexOf("required")>=0?t[e]=Q.b:t[e]=i[0]?i[0]:Q.a}else e.error_code===K.A?t.general=Object(O.jsxs)(n.a.Fragment,{children:["You've already completed this application. Would you like to ",Object(O.jsx)("button",{className:"btn btn-link text-danger rb",onClick:this.onTotalReset,type:"button",children:"start a new one"}),"?"]}):e.error_code===K.a?(this.setState({hasChanges:!1}),t.general=Object(O.jsxs)(n.a.Fragment,{children:["You've already started an application. ",Object(O.jsx)("button",{className:"btn btn-link text-danger rb",onClick:this.onAlreadyStarted,type:"button",children:"Refresh this page to continue."})]})):e.error_code===K.x?t.photos="There was an issue saving the photos. Please refresh the page and try uploading them again.":t.general="Sorry an error occurred. Please try again.";return t},this.onStartNew=e=>{e&&e.preventDefault();let t=Object.assign({...this.state.form},{...G});this.setState({form:t,errors:{},hasChanges:!1,reset:!0,started:!1},(()=>{this.setState({reset:!1})})),h.a.addEvent({event:"listing",category:"listing",action:"startnew",label:"car_listing",car_id:t.id})},this.onTotalReset=e=>{e&&e.preventDefault();let t=Object.assign({...this.state.form},{...G});delete t.id,this.setState({form:t,errors:{},hasChanges:!1,reset:!0,started:!1,step:1},(()=>{window.scrollTo(0,0),this.setState({reset:!1})})),h.a.addEvent({event:"listing",category:"listing",action:"reset",label:"car_listing"})},this.onAlreadyStarted=e=>{e&&e.preventDefault(),h.a.addEvent({event:"listing",category:"listing",action:"reload",label:"car_listing"}),setTimeout((()=>{window.location.reload(),window.scrollTo(0,0)}),1)},this.onLookupVIN=e=>{if(e&&e.preventDefault(),!this.state.vinData.loading){h.a.addEvent({event:"listing",category:"listing",action:"vin_lookup",label:"car_listing"});const e={...this.state.errors};e.vin="",e.year="",e.make="",e.model="",e.transmission="";const t={...this.state.vinData};t.loading=!0,this.setState({vinData:t,errors:e}),this.props.actions.lookupVIN(this.state.form.vin.trim()).then((e=>{const t={...this.state.vinData};t.loading=!1,t.info=e;const s={...this.state.form};e.vin&&(s.vin=e.vin),e.year&&(""!==s.year||this.state.started||h.a.addEvent({event:"listing",category:"listing",action:"initiated",label:"car_listing"}),s.year=e.year),e.make&&(s.make=e.make),e.model&&(s.model=e.model),e.transmission&&(s.transmission="automatic"===e.transmission.toLowerCase()?"Automatic":"manual"===e.transmission.toLowerCase()?"Manual":s.transmission),this.setState({vinData:t,form:s})}),(e=>{const t={...this.state.errors};4===e.error_code?t.vin="Please enter a valid VIN":169===e.error_code?t.vin="This doesn\u2019t look like a valid 17 character US VIN. Double check the VIN you entered, or continue.":t.vin="We couldn\u2019t find that VIN. Double check the VIN you entered, or continue.";const s={...this.state.vinData};s.loading=!1,s.info=!1,this.setState({vinData:s,errors:t})}))}},this.goToExistingSubmission=(e,t)=>{e&&e.preventDefault(),this.setState({hasChanges:!1},(()=>{this.props.history.push({pathname:Object(k.ib)(t),search:"utm_source=lookup&utm_campaign=sell&utm_content=submitted"})}))}}componentDidMount(){this.mounted=!0,window.addEventListener("beforeunload",this.onBeforeUnload),this.props.actions.getPrefilledSubmission().then((e=>{e.owner_is_dealer&&(e.dealership_license=e.dealership_license?[{id:e.dealership_license.id,status:"uploaded",resp:{...e.dealership_license}}]:[]);const t=Object.assign({...this.state.form},e);this.mounted&&this.setState({form:t,submission_id:!!t.id&&t.id,started:!!t.id,rawPhoneNumber:e.phone_number?e.phone_number.replace(/-/g,""):"",prefilling:!1}),t.id&&(h.a.addEvent({event:"listing",category:"listing",action:"resuming",label:"car_listing",car_id:t.id}),setTimeout((()=>{this.mounted&&this.setState({toast:"in"}),setTimeout((()=>{this.mounted&&this.setState({toast:"out"})}),4e3)}),400))}))}componentWillUnmount(){this.mounted=!1,window.removeEventListener("beforeunload",this.onBeforeUnload)}render(){const{prefilling:e,hasChanges:t,submitting:s,form:i,errors:o,step:a,reset:c,started:d,toast:h,vinData:b}=this.state,m=!0===d&&1===a;return Object(O.jsxs)(p.a,{className:"subflow",children:[Object(O.jsx)(l.a,{title:"Submit your car",children:Object(O.jsx)("meta",{name:"page-loaded",content:"true"})}),Object(O.jsx)(r.a,{when:t,message:"Are you sure you want to leave? Your unsaved changes will be lost."}),Object(O.jsx)("div",{className:"row subbody",children:Object(O.jsxs)("div",{className:"col",children:[d&&Object(O.jsx)("div",{className:"toast-blurb ".concat(h),children:Object(O.jsx)("p",{children:"We've loaded the data from your earlier application."})}),Object(O.jsx)("h1",{children:"Tell us about your car"}),!e&&Object(O.jsxs)(n.a.Fragment,{children:[Object(O.jsxs)("p",{className:"callout",children:["Please give us some basics about yourself and the car you\u2019d like to sell. We\u2019ll also need details about the car\u2019s title status as well as ",x.E," photos that highlight the car\u2019s exterior and interior condition.",Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),"We\u2019ll respond to your application within a business day. Once accepted, we\u2019ll ask for more details and at least 50 high-res photos, then work with you to build a custom and professional listing and get the auction live."]}),Object(O.jsxs)("h6",{className:"app-step",children:["Application Step ",a," of 2 ",m&&Object(O.jsx)("button",{className:"btn btn-link rb",onClick:this.onStartNew,type:"button",children:"Start a new application"})]}),1===a?Object(O.jsxs)(u.e,{onSubmit:this.onSubmitStepOne,className:b.loading?"vin-lookup-loading":"",disabled:b.loading,children:[b.loading&&Object(O.jsx)("div",{className:"d-flex justify-content-center align-items-center vin-lookup-loader",children:Object(O.jsx)("div",{className:"spinner-border",role:"status",children:Object(O.jsx)("span",{className:"sr-only",children:"Loading..."})})}),Object(O.jsx)(w,{fields:i,errors:o,onChange:this.handleChange,initPhoneInput:this.initPhoneInput,uploadLicenseAction:this.onUploadLicense,deleteLicenseAction:this.onDeleteLicense,onUpdateLicense:this.onUpdateLicense}),!c&&Object(O.jsx)(B,{fields:i,errors:o,initMileageInput:this.initMileageInput,onChange:this.handleChange,vinData:b,onLookupVIN:this.onLookupVIN,isSMMobile:this.context.isSMMobile,goToExistingSubmission:this.goToExistingSubmission}),Object(O.jsx)("button",{type:"submit",className:"btn btn-primary btn-lg submit ".concat(s?"disabled":""),onClick:this.onSubmitStepOne,disabled:s,children:"Next"}),o.general&&Object(O.jsx)("p",{className:"text-danger e-general mt-2",children:o.general})]}):Object(O.jsxs)(u.e,{onSubmit:this.onSubmitStepTwo,children:[Object(O.jsx)(L,{fields:i,errors:o,onChange:this.handleChange}),Object(O.jsx)(W,{fields:i,errors:o,onChange:this.handleChange}),Object(O.jsx)(q,{fields:i,errors:o,minimum:x.E,limit:x.x,uploadAction:this.onUploadPhoto,deleteAction:this.onDeletePhoto,onUpdate:this.onUpdatePhotos}),Object(O.jsx)(z,{fields:i,errors:o,onChange:this.handleChange}),Object(O.jsx)("button",{type:"submit",className:"btn btn-primary btn-lg submit ".concat(s?"disabled":""),onClick:this.onSubmitStepTwo,disabled:s,children:"Submit"}),o.general&&Object(O.jsx)("p",{className:"text-danger e-general mt-2",children:o.general})]})]})]})})]})}}te.contextType=d.a;t.default=Object(c.a)(Object(a.b)(null,(e=>({actions:Object(o.b)({getPrefilledSubmission:Z.i,startApplication:Z.A,submitApplication:Z.C,postPhoto:Z.r,deletePhoto:Z.f,lookupVIN:Z.n},e)})))(te))},864:function(e,t,s){"use strict";s.r(t);var i=s(1),n=s(106),o=s(697),a=s(4),r=(s(827),s.p+"static/media/inspection-photos@2x.30c5553f.jpg"),l=s(0);class c extends i.Component{render(){return Object(l.jsxs)(o.a,{className:"cb-inspections",children:[Object(l.jsx)(n.a,{titleTag:"Pre-Purchase Inspections through Cars & Bids",titleShare:"Pre-Purchase Inspections through Cars & Bids",description:"Get the most for your car by having it inspected through Cars & Bids!",url:"".concat("https://carsandbids.com").concat(a.p.path)}),Object(l.jsx)("h1",{children:"Inspections"}),Object(l.jsx)("div",{className:"banner-wrap",children:Object(l.jsx)("img",{className:"banner",src:r,alt:"Pre-Purchase Inspections through Cars & Bids"})}),Object(l.jsxs)("h2",{children:[Object(l.jsx)("span",{className:"tag",children:"NEW"})," Get more for your car \u2013 book an inspection!"]}),Object(l.jsx)("p",{children:"We are excited to offer pre-purchase inspections through a trusted partner, Lemon Squad! Inspections give bidders the confidence to pay more for your vehicle sight unseen."}),Object(l.jsx)("h2",{children:"Review your inspection before you go live."}),Object(l.jsx)("p",{children:"Your inspection report isn\u2019t shared with Cars & Bids until you approve it. While we strongly recommend including the report, as we\u2019ve found that full transparency yields the best results, you can choose to keep the report private."}),Object(l.jsxs)("div",{className:"b1",children:[Object(l.jsx)("h2",{children:"How inspections work:"}),Object(l.jsxs)("ol",{children:[Object(l.jsxs)("li",{children:[Object(l.jsx)("span",{className:"img step1"}),Object(l.jsx)("span",{className:"step",children:"1"})," ",Object(l.jsx)("span",{className:"text",children:"Book your inspection after we\u2019ve accepted your car"})]}),Object(l.jsxs)("li",{children:[Object(l.jsx)("span",{className:"img step2"}),Object(l.jsx)("span",{className:"step",children:"2"})," ",Object(l.jsx)("span",{className:"text",children:"The inspector meets you and inspects your car"})]}),Object(l.jsxs)("li",{children:[Object(l.jsx)("span",{className:"img step3"}),Object(l.jsx)("span",{className:"step",children:"3"})," ",Object(l.jsx)("span",{className:"text",children:"You review your inspection report and approve it"})]}),Object(l.jsxs)("li",{children:[Object(l.jsx)("span",{className:"img step4"}),Object(l.jsx)("span",{className:"step",children:"4"})," ",Object(l.jsx)("span",{className:"text",children:"We list your car with the confidence of a full inspection report"})]})]})]}),Object(l.jsx)("h2",{children:"Fast, thorough, and friendly!"}),Object(l.jsxs)("p",{children:["Our team of expert inspectors know what to look for in a used vehicle. They will check for frame damage, drivetrain issues, fluid levels, interior and exterior condition, test drive the car, and more.",Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),"You can view a sample report ",Object(l.jsx)("a",{href:"https://lemonsquad.com/customer/view-report/466268?client_token=5e96e004ad862f8d9806b4ff64e4b136&auth_token=6fbfdc09a11c9200e425f17ff7a1c13d",target:"_blank",rel:"noopener noreferrer",children:"here"}),". Lemon Squad\u2019s team is available to help at ",Object(l.jsx)("a",{href:"tel:888-231-7965",children:"(888) 231-7965"})," if you have any questions."]}),Object(l.jsxs)("div",{className:"b2",children:[Object(l.jsx)("h2",{children:"Here are a few more reasons you should get an inspection:"}),Object(l.jsxs)("ul",{children:[Object(l.jsx)("li",{children:"Lemon Squad inspections are the fastest in the industry \u2013 typically completed in just a few days."}),Object(l.jsx)("li",{children:"Thorough, professional inspections attract more bidders, more bids, and higher prices."}),Object(l.jsx)("li",{children:"At only $199, a single additional bid typically pays for the entire inspection report."})]})]})]})}}t.default=c}}]);