(this["webpackJsonpautos-web"]=this["webpackJsonpautos-web"]||[]).push([[5],{707:function(e,t,s){"use strict";s.r(t),s.d(t,"clearProfileCache",(function(){return h})),s.d(t,"getUserProfile",(function(){return d})),s.d(t,"getUserBidHistory",(function(){return u})),s.d(t,"getUserComments",(function(){return m})),s.d(t,"deleteAllUserComments",(function(){return b})),s.d(t,"saveUserProfile",(function(){return p})),s.d(t,"uploadUserProfilePicture",(function(){return j})),s.d(t,"getUserSettings",(function(){return g})),s.d(t,"updatePhoneNumber",(function(){return O})),s.d(t,"updateSetting",(function(){return x})),s.d(t,"getWatchlistModalSettings",(function(){return w})),s.d(t,"postWatchlistModalSettings",(function(){return N})),s.d(t,"banUser",(function(){return f})),s.d(t,"freezeUser",(function(){return S})),s.d(t,"getAdminNote",(function(){return _})),s.d(t,"saveAdminNote",(function(){return y})),s.d(t,"saveAdminTimeout",(function(){return A})),s.d(t,"cancelAdminTimeout",(function(){return C})),s.d(t,"deleteAuthSource",(function(){return P}));var n=s(17),o=s.n(n),i=s(28),a=s(2),r=s(7),c=s(71),l=s(218);const h=()=>({type:a.o}),d=e=>(t,s)=>r.a.getAutosUserProfile({username:e}).then((e=>{const s=e.profile;s.created_at_formatted=o()(s.created_at).format("MMMM YYYY"),s.timeout&&(s.timeout_formatted=o()(s.timeout).format("MMMM D, h:mm A"));const n=Object(i.a)(e,c.c),r=e.cars_auctioned.filter((e=>"sold"===e.status||"sold_after"===e.status)).length;return Promise.resolve(t({type:a.J,payload:{results:{profile:s,cars_auctioned:n.result.cars_auctioned,cars_sold_count:r},entities:{auctions:n.entities.cars_auctioned}}}))}),(e=>Promise.reject(e))),u=e=>(t,s)=>r.a.getAutosUserProfile({username:e,section:"bid_history"}).then((e=>{const s=Object(i.a)(e,c.b);return Promise.resolve(t({type:a.H,payload:{meta:{total:s.result.total,wins:s.result.wins},entities:{auctions:s.entities.bid_history},results:{bid_history:s.result.bid_history}}}))}),(e=>Promise.reject(e))),m=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(s,n)=>{const o={...t};return o.limit&&(o.limit+=1),r.a.getAutosUserProfile({username:e,section:"comments",...o}).then((e=>{let t=!1;o.limit&&(t=e.comments.length>o.limit-1,t&&e.comments.pop());const r=Object(i.a)(e,l.b);let c=r.result.comments;return o.after_id&&(c=(n().user.comments.allIds||[]).slice(),c=c.concat(r.result.comments.slice())),Promise.resolve(s({type:a.I,payload:{meta:{total:r.result.total,count:r.result.count,after_id:!!t&&r.result.comments[r.result.comments.length-1]},entities:{auctions:r.entities.auctions,comments:r.entities.comments},results:{comments:c}}}))}),(e=>Promise.reject(e)))}},b=e=>(t,s)=>r.a.deleteAutosProfileComments(e).then((s=>t(m(e,{limit:20}))),(e=>Promise.reject(e))),p=e=>{let{bio:t}=e;return(e,s)=>r.a.putAutosProfileBio({bio:t}).then((t=>Promise.resolve(e({type:a.ub,payload:{bio:t.bio}}))),(e=>Promise.reject(e)))},j=e=>{let{photo:t}=e;return(e,s)=>r.a.putAutosProfilePhoto({photo:t}).then((t=>Promise.resolve(e({type:a.ub,payload:{photo:t}}))),(e=>Promise.reject(e)))},g=()=>(e,t)=>r.a.getAutosSettings().then((e=>{const{auth_sources:t,...s}=e,n={};for(let o=0;o<t.length;o++)n[t[o].source]=t[o];return Promise.resolve({...s,auth_sources:n})}),(e=>Promise.reject(e))),O=(e,t)=>(s,n)=>r.a.putAutosSettingsPhoneNumber(e,t).then((e=>Promise.resolve(e)),(e=>Promise.reject(e))),x=e=>{let{setting:t,value:s}=e;return(e,n)=>r.a.postAutosSettingsNotification({setting:t,value:s}).then((o=>{if("play_bid_sound"===t){let t={...n().session.permissions};t.play_bid_sound=s,e({type:a.tb,permissions:t})}return Promise.resolve(o)}),(e=>Promise.reject(e)))},w=()=>(e,t)=>r.a.getWatchSettings().then((e=>Promise.resolve(e)),(e=>Promise.reject(e))),N=e=>(t,s)=>r.a.postWatchSettings(e).then((e=>{let n={...s().session.permissions};return n.watch_setting_completed=!0,Promise.resolve(t({type:a.tb,permissions:n}))}),(e=>Promise.reject(e))),f=e=>(t,s)=>r.a.postAutosProfilesUserBan(e,!1).then((e=>Promise.resolve(!0)),(e=>Promise.reject(e))),S=e=>(t,s)=>r.a.postAutosProfilesUserBan(e,!0).then((e=>Promise.resolve(!0)),(e=>Promise.reject(e))),_=e=>(t,s)=>r.a.getAutosUserAdminNote(e).then((e=>Promise.resolve(e)),(e=>Promise.reject(e))),y=(e,t)=>(s,n)=>r.a.postAutosUserAdminNote(e,t).then((e=>Promise.resolve(!0)),(e=>Promise.reject(e))),A=(e,t)=>(s,n)=>r.a.postAutosUserAdminTimeout(e,t).then((t=>r.a.getAutosUserProfile({username:e}).then((i=>{let r={...n().user.profile};return r&&r.username===e?Promise.resolve(s({type:a.ub,payload:{timeout:i.profile.timeout,timeout_formatted:o()(i.profile.timeout).format("MMMM D, h:mm A")}})):Promise.resolve(t)}))),(e=>Promise.reject(e))),C=e=>(t,s)=>r.a.deleteAutosUserAdminTimeout(e).then((n=>{let o={...s().user.profile};return o&&o.username===e?Promise.resolve(t({type:a.ub,payload:{timeout:null,timeout_formatted:null}})):Promise.resolve(!0)}),(e=>Promise.reject(e))),P=e=>(t,s)=>r.a.deleteAuthSource(e).then((e=>Promise.resolve(e)),(e=>Promise.reject(e)))},712:function(e,t,s){"use strict";var n=s(1),o=s(12),i=s(4),a=s(0);const r=[{title:"Profile",path:i.a.path},i.w,i.b];class c extends n.Component{render(){return Object(a.jsxs)("div",{className:"row subbody",children:[Object(a.jsx)("div",{className:"account-sidebar",children:Object(a.jsx)("ul",{children:r.map(((e,t)=>Object(a.jsx)("li",{children:Object(a.jsx)(o.c,{className:"nav-link",to:e.path,exact:!0,children:e.title})},t)))})}),this.props.children]})}}t.a=c},842:function(e,t,s){"use strict";s.r(t);var n=s(1),o=s.n(n),i=s(15),a=s(13),r=s(107),c=s(12),l=s(24),h=s.n(l),d=s(696),u=s(84),m=s(712),b=s(240),p=s(4),j=(s(698),s(0));const{path:g,exact:O,...x}=p.S,w=e=>{let{item:t}=e;return t.archived_unavailable?Object(j.jsxs)("li",{className:"archived",children:[Object(j.jsx)("span",{className:"no-link",children:t.title}),Object(j.jsx)("span",{className:"step",children:"(Archived)"}),Object(j.jsxs)("span",{className:"timestamp",children:[t.status.displayable," on ",t.status.timestamp_formatted]})]}):Object(j.jsxs)("li",{className:t.new_messages?"new-message":"",children:[Object(j.jsxs)("span",{className:"links",children:[Object(j.jsx)(c.b,{to:t.submission_url,children:t.title}),t.inspection_url&&Object(j.jsx)(c.b,{to:{pathname:t.inspection_url,search:h.a.stringify({utm_source:"listings",utm_medium:"site",utm_campaign:"ppi",utm_content:"review"})},className:"inspection-report-link",children:"View inspection report"})]}),Object(j.jsxs)("span",{className:"timestamp",children:[t.status.displayable," on ",t.status.timestamp_formatted]})]})};class N extends n.Component{componentDidMount(){this.props.actions.getSubmissions()}render(){const{history:e}=this.props.submission,{in_progress:t,past:s}=e||{in_progress:[],past:[]},n=t.filter((e=>!0===e.status.is_live)),i=t.filter((e=>!1===e.status.is_live));return Object(j.jsxs)(u.a,{className:"subflow listings",children:[Object(j.jsx)(r.a,{title:"My Listings",children:Object(j.jsx)("meta",{name:"page-loaded",content:"true"})}),Object(j.jsx)(m.a,{children:Object(j.jsxs)("div",{className:"col",children:[Object(j.jsx)("h1",{children:"My Listings"}),e&&Object(j.jsx)(o.a.Fragment,{children:t.length>0||s.length>0?Object(j.jsxs)(o.a.Fragment,{children:[i.length>0&&Object(j.jsxs)(o.a.Fragment,{children:[Object(j.jsx)("h2",{children:"In progress"}),Object(j.jsx)("ul",{className:"listings",children:i.map((e=>Object(j.jsx)(w,{item:e},e.id)))})]}),n.length>0&&Object(j.jsxs)(o.a.Fragment,{children:[Object(j.jsx)("h2",{children:"Live"}),Object(j.jsx)("ul",{className:"listings live",children:n.map((e=>Object(j.jsx)(w,{item:e},e.id)))})]}),s.length>0&&Object(j.jsxs)(o.a.Fragment,{children:[Object(j.jsx)("h2",{children:"Past listings"}),Object(j.jsx)("ul",{className:"listings past",children:s.map((e=>Object(j.jsx)(w,{item:e},e.id)))})]}),Object(j.jsx)(c.b,{role:"button",className:"btn btn-primary btn-lg",to:p.S.path,...x,children:"Sell another car"})]}):Object(j.jsxs)(o.a.Fragment,{children:[Object(j.jsx)("p",{className:"empty-listings",children:"You have not submitted any cars yet. Want to sell your car?"}),Object(j.jsx)(c.b,{role:"button",className:"btn btn-primary btn-lg",to:p.S.path,...x,children:"Get started"})]})})]})})]})}}t.default=Object(d.a)(Object(a.b)((e=>({submission:e.submission})),(e=>({actions:Object(i.b)({getSubmissions:b.m},e)})))(N))},857:function(e,t,s){"use strict";s.r(t);var n=s(1),o=s.n(n),i=s(15),a=s(13),r=s(107),c=s(696),l=s(14),h=s(84),d=s(712),u=s(370),m=s(239),b=s(369),p=s(108),j=s(40),g=s(749),O=s(20),x=s(85),w=s(0);const N={password:"",new_password:"",confirm_password:"",errors:{},submitting:!1,screen:"changepassword",strength:0};class f extends n.Component{constructor(){super(...arguments),this.state={...N},this.mounted=!1,this.handleChange=async e=>{const{target:t}=e,s="checkbox"===t.type?t.checked:t.value,{name:n}=t;await this.setState({[n]:s})},this.onSubmit=e=>{e&&e.preventDefault();const{password:t,new_password:s,confirm_password:n}=this.state,{isSetPassword:o}=this.props;let i={};if((o||t)&&s&&n?s!==n&&(i.confirm_password="Passwords do not match"):i.all="All fields required",Object.getOwnPropertyNames(i).length<1){this.setState({errors:i,submitting:!0});const e={password:s};o||(e.old_password=t),this.props.actions.changePassword(e).then((e=>{this.props.onSuccess()}),(e=>{let t={submitting:!1};e.error_code===O.N?this.props.actions.unauthorized():(e.error_code===O.X?t.errors={new_password:e.error_body}:e.error_code===O.w&&(t.errors={password:"Your previous password is incorrect"}),this.setState(t))}))}else this.setState({errors:i})},this.onCancel=e=>{e&&e.preventDefault(),this.props.onCancel()},this.forgotPassword=e=>{e&&e.preventDefault(),this.setState({screen:"forgotpassword"})}}componentDidMount(){this.mounted=!0}componentDidUpdate(e){!e.isOpen&&this.props.isOpen&&this.setState({...N})}componentWillUnmount(){this.mounted=!1}render(){const{isOpen:e,isSetPassword:t}=this.props,{errors:s,password:n,new_password:i,confirm_password:a,submitting:r,screen:c}=this.state;return Object(w.jsxs)(u.a,{isOpen:e,fade:!1,backdrop:!1,className:"auth modal-424 centered-content",returnFocusAfterClose:!1,centered:!0,children:[Object(w.jsx)(m.a,{toggle:this.onCancel}),Object(w.jsxs)(b.a,{children:[Object(w.jsx)("div",{className:"modal-logo",children:Object(w.jsx)(p.a,{})}),"changepassword"===c&&Object(w.jsxs)(o.a.Fragment,{children:[Object(w.jsx)("h5",{className:"text-center",children:t?"Set password":"Change password"}),Object(w.jsxs)(j.e,{onSubmit:this.onSubmit,children:[!t&&Object(w.jsx)(j.h,{name:"password",label:"Current password",value:n,onChange:this.handleChange,error:s.password}),Object(w.jsx)(j.h,{name:"new_password",label:"New password",value:i,onChange:this.handleChange,error:s.new_password,strengthCB:()=>{}}),Object(w.jsx)(j.h,{name:"confirm_password",label:"Re-enter new password",value:a,onChange:this.handleChange,error:s.confirm_password}),s.all&&Object(w.jsx)("p",{className:"text-danger",children:s.all}),Object(w.jsx)("button",{className:"btn btn-primary ".concat(r?"disabled":""),disabled:r,children:t?"Save password":"Change password"})]}),!t&&Object(w.jsx)("button",{type:"button",className:"btn btn-link",onClick:this.forgotPassword,children:"Forgot your password?"})]}),"forgotpassword"===c&&Object(w.jsx)(g.e,{})]})]})}}var S=Object(a.b)(null,(e=>({actions:Object(i.b)({changePassword:x.a,unauthorized:x.q},e)})))(f),_=s(128),y=s.n(_),A=(s(700),s(8)),C=s(6);class P extends n.Component{constructor(){super(...arguments),this.state={submitting:!1,formattedPhoneNumber:"",rawPhoneNumber:"",phoneCleave:null,freeFormPhoneNumber:"",country:"",errors:{}},this.mounted=!1,this.isUSCA=e=>e+""===C.n+"",this.initPhoneInput=e=>{this.setState({phoneCleave:e})},this.handleChange=async e=>{const{target:t}=e;await this.setState({rawPhoneNumber:t.rawValue,formattedPhoneNumber:t.value})},this.handleStandardChange=async e=>{const{target:t}=e,s="checkbox"===t.type?t.checked:t.value,{name:n}=t;await this.setState({[n]:s})},this.onCancel=e=>{e&&e.preventDefault(),this.setState({submitting:!1}),this.props.onCancel()},this.onSubmit=e=>{e&&e.preventDefault();const t={};let{formattedPhoneNumber:s,rawPhoneNumber:n,freeFormPhoneNumber:o,country:i}=this.state;if(this.isUSCA(i)){const e=Object(A.b)(n);e&&(t.phoneNumber=e)}else""===o.trim()?t.phoneNumber="Invalid phone number.":s=o;Object.getOwnPropertyNames(t).length<1?(this.setState({submitting:!0,errors:{}}),this.props.onSubmit(s,+i).then((()=>{this.onCancel()}),(e=>{this.setState({errors:{phoneNumber:"There was an error saving your changes."},submitting:!1})}))):this.setState({submitting:!1,errors:t})}}componentDidMount(){this.mounted=!0}componentWillUnmount(){this.mounted=!1}componentDidUpdate(e){!e.isOpen&&this.props.isOpen&&this.setState({submitting:!1,phoneNumber:this.isUSCA(this.props.country)&&this.props.phoneNumber||"",freeFormPhoneNumber:this.isUSCA(this.props.country)?"":this.props.phoneNumber||"",country:(this.props.country||C.n)+"",errors:{}})}render(){const{isOpen:e}=this.props,{submitting:t,errors:s,country:n,freeFormPhoneNumber:o}=this.state;return Object(w.jsxs)(u.a,{isOpen:e,fade:!1,backdrop:!1,className:"auth modal-424 centered-content",autoFocus:!1,returnFocusAfterClose:!1,centered:!0,children:[Object(w.jsx)(m.a,{toggle:this.onCancel}),Object(w.jsxs)(b.a,{children:[Object(w.jsx)("div",{className:"modal-logo",children:Object(w.jsx)(p.a,{})}),Object(w.jsx)("h5",{className:"text-center",children:"Change phone number"}),Object(w.jsx)("p",{className:"pseudo-label",children:"Phone number"}),Object(w.jsxs)(j.e,{onSubmit:this.onSubmit,children:[Object(w.jsxs)("div",{className:"d-flex",children:[Object(w.jsxs)("fieldset",{className:"form-group country",children:[Object(w.jsx)("label",{htmlFor:"country",className:"sr-only",children:"Country"}),Object(w.jsx)("select",{className:"form-control",name:"country",onChange:this.handleStandardChange,defaultValue:n,children:C.D.map(((e,t)=>Object(w.jsx)("option",{value:e.value,disabled:e.disabled,children:e.label},"pc-".concat(t))))})]}),Object(w.jsxs)("fieldset",{className:"form-group phone",children:[Object(w.jsx)("label",{htmlFor:"phoneNumber",className:"sr-only",children:"Phone Number"}),this.isUSCA(n)?Object(w.jsx)(y.a,{className:"form-control",name:"phoneNumber",id:"id-phoneNumber",onInit:this.initPhoneInput,options:{phone:!0,phoneRegionCode:"US",delimiter:"-"},onChange:this.handleChange,value:this.isUSCA(this.props.country)?this.props.phoneNumber:""}):Object(w.jsx)("input",{name:"freeFormPhoneNumber",className:"form-control phoneNumber",onChange:this.handleStandardChange,type:"text",value:o})]})]}),s.phoneNumber&&Object(w.jsx)("p",{className:"text-danger",children:s.phoneNumber}),Object(w.jsx)("button",{className:"btn btn-primary ".concat(t?"disabled":""),disabled:t,children:"Save"})]})]})]})}}var v=P,M=s(707);const k={errors:{},submitting:!1};class E extends n.Component{constructor(){super(...arguments),this.state={...k},this.mounted=!1,this.onSubmit=e=>{e&&e.preventDefault(),this.props.actions.deleteAuthSource(this.props.auth_source.source).then((e=>{this.props.onSuccess(this.props.auth_source.source)}),(e=>{let t={submitting:!1};e.error_code===O.N?this.props.actions.unauthorized():this.setState(t)}))},this.onCancel=e=>{e&&e.preventDefault(),this.props.onCancel()},this.isAppleRelayEmail=(e,t)=>{if("APPLE"!==e)return!1;return new RegExp(/(@privaterelay\.appleid\.com)$/im).test(t)}}componentDidMount(){this.mounted=!0}componentDidUpdate(e){!e.isOpen&&this.props.isOpen&&this.setState({...k})}componentWillUnmount(){this.mounted=!1}render(){const{isOpen:e,auth_source:t,no_password:s,onSetPasswordToRemove:n}=this.props;return t?Object(w.jsxs)(u.a,{isOpen:e,fade:!1,backdrop:!1,className:"auth remove-auth modal-424 centered-content",returnFocusAfterClose:!1,centered:!0,children:[Object(w.jsx)(m.a,{toggle:this.onCancel}),Object(w.jsxs)(b.a,{children:[Object(w.jsx)("div",{className:"modal-logo",children:Object(w.jsx)(p.a,{})}),Object(w.jsx)("h5",{className:"text-center",children:"Remove linked account?"}),Object(w.jsx)("div",{className:"chosen-sso ".concat(t.source.toLowerCase()),style:{marginBottom:"20px"},children:Object(w.jsx)("p",{className:"account mb-0",children:this.isAppleRelayEmail(t.source,t.email)?"Email hidden":t.email})}),s?Object(w.jsxs)(o.a.Fragment,{children:[Object(w.jsx)("p",{style:{marginBottom:"20px"},children:"Before removing this linked account, you need to set a password for your Cars & Bids account."}),Object(w.jsx)("button",{type:"button",className:"btn btn-primary mt-0",onClick:()=>{n(t.source,t.email)},children:"Set password"})]}):Object(w.jsxs)(o.a.Fragment,{children:[Object(w.jsx)("p",{style:{marginBottom:"20px"},children:"You will no longer be able to sign in to Cars & Bids with this linked account."}),Object(w.jsx)("button",{type:"button",className:"btn btn-primary mt-0",onClick:this.onSubmit,children:"Remove account"})]})]})]}):null}}var U=Object(a.b)(null,(e=>({actions:Object(i.b)({deleteAuthSource:M.deleteAuthSource,unauthorized:x.q},e)})))(E),R=s(47);s(698);const D=Object(n.lazy)((()=>Promise.all([s.e(2),s.e(3),s.e(9)]).then(s.bind(null,824)))),B=Object(n.lazy)((()=>Promise.all([s.e(2),s.e(3),s.e(9)]).then(s.bind(null,850))));class F extends n.Component{constructor(){super(...arguments),this.state={loading:!0,payment_settings:{},notification_settings:{},auth_sources:{},error:!1,needed_password:!1},this.updateSettingsCache=()=>(this.props.actions.closeModal(),this.props.actions.getUserSettings().then((e=>{this.setState({...e})}))),this.onToggleSetting=(e,t)=>{let s={...this.state.notification_settings};return s[e]=t,this.setState({notification_settings:s}),this.props.actions.updateSetting({setting:e,value:t}).then((()=>{}),(n=>{s[e]=!t,this.setState({notification_settings:s})}))},this.showChangePassword=e=>{e&&e.preventDefault(),this.setState({needed_password:!1}),this.props.actions.showModal("ChangePasswordModal")},this.showChangePhoneNumber=e=>{e&&e.preventDefault(),this.props.actions.showModal("ChangePhoneNumberModal")},this.onSubmitPhoneNumber=(e,t)=>this.props.actions.updatePhoneNumber(e,t).then((()=>{let s={...this.state.payment_settings};s.phone_number=e,s.country=t,this.setState({payment_settings:s})})),this.showUpdateCard=e=>{e&&e.preventDefault(),this.props.actions.showModal("UpdateCardModal")},this.showRegisterToBid=e=>{e&&e.preventDefault(),l.a.addEvent({event:"register_to_bid",category:"register_to_bid",action:"dialog",label:"other"}),this.props.actions.showModal("RegisterToBidModal-AS")},this.hasCardOnFile=()=>this.props.hasCardOnFile(),this.hasPassword=()=>!!this.state.auth_sources.PASSWORD,this.hasAuthSources=()=>!!(this.state.auth_sources.GOOGLE||this.state.auth_sources.FACEBOOK||this.state.auth_sources.APPLE),this.hasOneSSOSource=()=>{let e=0;return this.state.auth_sources.GOOGLE&&++e,this.state.auth_sources.FACEBOOK&&++e,this.state.auth_sources.APPLE&&++e,1===e},this.isAppleRelayEmail=e=>new RegExp(/(@privaterelay\.appleid\.com)$/im).test(e),this.removeAccount=(e,t,s)=>{e&&e.preventDefault(),this.props.actions.showModal("RemoveAuthModal",{auth_source:{source:t,email:s},no_password:!(this.hasPassword()||!this.hasOneSSOSource())})},this.onSetPasswordToRemoveSSOAccount=(e,t)=>{this.setState({needed_password:{source:e,email:t}},(()=>{this.props.actions.showModal("ChangePasswordModal")}))},this.onAuthSourceRemoved=e=>{this.props.actions.closeModal();const t={...this.state.auth_sources};delete t[e],this.setState({auth_sources:t})},this.onPasswordChanged=()=>{if(this.props.actions.closeModal(),this.state.needed_password)this.props.actions.deleteAuthSource(this.state.needed_password.source).finally((()=>{this.onAuthSourceRemoved(this.state.needed_password.source);const e={...this.state.auth_sources};e.PASSWORD=e.PASSWORD?e.PASSWORD:{},this.setState({needed_password:!1,auth_sources:e})}));else{const e={...this.state.auth_sources};e.PASSWORD=e.PASSWORD?e.PASSWORD:{},this.setState({auth_sources:e})}}}componentDidMount(){this.props.actions.getUserSettings().then((e=>{this.setState({loading:!1,...e})}),(e=>{this.setState({loading:!1,error:!0})}))}render(){const{loading:e,error:t,payment_settings:s,notification_settings:i,auth_sources:a}=this.state;return Object(w.jsxs)(h.a,{className:"subflow account settings",children:[Object(w.jsx)(r.a,{title:"Settings",children:Object(w.jsx)("meta",{name:"page-loaded",content:"true"})}),Object(w.jsx)(d.a,{children:Object(w.jsxs)("div",{className:"col",children:[Object(w.jsx)("h1",{children:"Settings"}),!e&&t&&Object(w.jsx)("p",{className:"text-danger",children:"There was an error loading your settings"}),!e&&!t&&Object(w.jsxs)(o.a.Fragment,{children:[Object(w.jsxs)("div",{className:"block",children:[Object(w.jsx)("h2",{children:"Account"}),Object(w.jsxs)("ul",{children:[this.hasAuthSources()&&Object(w.jsx)("li",{style:{marginBottom:"24px"},children:Object(w.jsxs)("div",{className:"d-flex flex-column w-100",children:[Object(w.jsx)("span",{className:"setting linked-accounts",children:"Linked accounts"}),a.GOOGLE&&Object(w.jsxs)("div",{className:"auth-source",children:[Object(w.jsx)("div",{className:"chosen-sso google",children:Object(w.jsx)("p",{className:"account",children:a.GOOGLE.email})}),Object(w.jsx)("button",{type:"button",className:"btn btn-outline-secondary",onClick:e=>{this.removeAccount(e,"GOOGLE",a.GOOGLE.email)},children:"Remove account"})]}),a.FACEBOOK&&Object(w.jsxs)("div",{className:"auth-source",children:[Object(w.jsx)("div",{className:"chosen-sso facebook",children:Object(w.jsx)("p",{className:"account",children:a.FACEBOOK.email})}),Object(w.jsx)("button",{type:"button",className:"btn btn-outline-secondary",onClick:e=>{this.removeAccount(e,"FACEBOOK",a.FACEBOOK.email)},children:"Remove account"})]}),a.APPLE&&Object(w.jsxs)("div",{className:"auth-source",children:[Object(w.jsx)("div",{className:"chosen-sso apple",children:Object(w.jsx)("p",{className:"account",children:this.isAppleRelayEmail(a.APPLE.email)?"Email hidden":a.APPLE.email})}),Object(w.jsx)("button",{type:"button",className:"btn btn-outline-secondary",onClick:e=>{this.removeAccount(e,"APPLE",a.APPLE.email)},children:"Remove account"})]})]})}),Object(w.jsx)("li",{children:Object(w.jsxs)("div",{className:"d-flex flex-column w-100",children:[Object(w.jsx)("span",{className:"setting password",children:"Password"}),Object(w.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(w.jsx)("span",{className:"password-value ".concat(this.hasPassword()?"":"not-set"),children:this.hasPassword()?"**************":"Not set"}),Object(w.jsx)("button",{type:"button",className:"btn btn-outline-secondary",onClick:this.showChangePassword,children:this.hasPassword()?"Change password":"Set password"})]})]})})]})]}),Object(w.jsxs)("div",{className:"block payment",children:[Object(w.jsx)("h2",{children:"Payment info for bidding"}),Object(w.jsx)("ul",{className:"payment",children:this.hasCardOnFile()?Object(w.jsxs)(o.a.Fragment,{children:[Object(w.jsx)("li",{children:Object(w.jsxs)("div",{className:"d-flex flex-column w-100",children:[Object(w.jsx)("span",{className:"setting",children:Object(w.jsx)("strong",{children:"Your card on file"})}),Object(w.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(w.jsxs)("span",{className:"setting",children:[Object(w.jsx)("img",{className:"cc-icon",alt:"Credit Card",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAmCAYAAACGeMg8AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAIzSURBVHgB7ZldUsIwFIVvS3kGViDuANyAMMCzsgJ/NgC6AIcdqBsQXAHwCgNlB7CErkDgHajnMClTERVHyyRMz0ymCUnK/XLTNLm1BHJdN+v7fhMph2JazFHbtu37YrHoWYRYrVZjMQsgrClgzhxAPKKQhjdeE4lEHXQz0VwYfF6yy+WyYVnWFWx/sQaDgc9fQXVKF4khgvEyGo0ycMSb0CtBhUkQFDzBSzB70rYciWIQ3RSD6KbN8mu4/Hhq6aYYRDcdDYgTZEqlkiWGCbtgC5vGFfPx1NJNMYhucn7TOBSkKKD4hAXiTjTR3h4BRI1BCgVB1Xu9Xm5X236/X8Aero3UJLwcQD96BIYwMNEGRIFl5J9xOcdRM4eUDrVjMKDOYICEIjLsh7p81EGNb0FUqIghiyzSDPlqpVIZDYdDl4d/1YZG01sNdY6mPJQZlblgrAz5JrzTRYAjtVgsMhwApBQHA/VjTNFbiQpkC8KDEUX8ofehs+Oc0EjVhmoRgLDqHi0aiuwlE99duM+mvxqMlPyDnH0hwlEW1HFEeW0pgyYY/Ru0mYTvwz6cVvDCNdqf4Kc52s4wAFP0nWMqTpLJpCdRgQQQysDqdqgIRmVDxY6C2PkMqL4NiVhfTa0JIDwF8clARiUBU+ODXy6X66KBNkddwzeN8VFXO8Uguokg61VJvaGNUfCNJCjbWEbXLzF+8DnUBu+vUjuCDNKDKneP5tMb9x7cguRB1RGzNIPNLiHI8A7YMEvluB18TAAAAABJRU5ErkJggg=="}),"Ending in ",s.last4]}),Object(w.jsx)("button",{type:"button",className:"btn btn-outline-secondary",onClick:this.showUpdateCard,children:"Update card"})]})]})}),Object(w.jsx)("li",{children:Object(w.jsxs)("div",{className:"d-flex flex-column w-100",children:[Object(w.jsx)("span",{className:"setting",children:Object(w.jsx)("strong",{children:"Your phone number"})}),Object(w.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(w.jsx)("span",{className:"setting",children:s.phone_number?s.phone_number:""}),Object(w.jsx)("button",{type:"button",className:"btn btn-outline-secondary",onClick:this.showChangePhoneNumber,children:"Change phone number"})]})]})})]}):Object(w.jsx)("li",{children:Object(w.jsx)("button",{type:"button",className:"btn btn-primary",onClick:this.showRegisterToBid,children:"Register to bid"})})})]}),Object(w.jsxs)("div",{className:"block",children:[Object(w.jsx)("h2",{children:"C&B Email"}),Object(w.jsxs)("ul",{children:[Object(w.jsx)("li",{children:Object(w.jsx)(j.l,{label:"Send me the Cars & Bids daily email",isEnabled:i.daily_email,onClick:this.onToggleSetting,setting:"daily_email"})}),Object(w.jsx)("li",{children:Object(w.jsx)(j.l,{label:"Send me the Cars & Bids week in review email",isEnabled:i.weekly_email,onClick:this.onToggleSetting,setting:"weekly_email"})})]})]}),Object(w.jsxs)("div",{className:"block",children:[Object(w.jsx)("h2",{children:"General Notifications"}),Object(w.jsxs)("ul",{children:[Object(w.jsx)("li",{children:Object(w.jsx)(j.l,{label:"Notify me when I\u2019m mentioned in comments",isEnabled:i.on_mention,onClick:this.onToggleSetting,setting:"on_mention"})}),Object(w.jsx)("li",{children:Object(w.jsx)(j.l,{label:"Notify me when someone replies to me in comments",isEnabled:i.on_reply,onClick:this.onToggleSetting,setting:"on_reply"})}),Object(w.jsx)("li",{children:Object(w.jsx)(j.l,{label:"Play sound when bids are placed (desktop only)",isEnabled:i.play_bid_sound,onClick:this.onToggleSetting,setting:"play_bid_sound"})})]})]}),Object(w.jsxs)("div",{className:"block",children:[Object(w.jsx)("h2",{children:"Watch List Notifications"}),Object(w.jsxs)("ul",{children:[Object(w.jsx)("li",{children:Object(w.jsx)(j.l,{label:"Notify me 1 hour before the auction ends",isEnabled:i.watcher_closing_soon,onClick:this.onToggleSetting,setting:"watcher_closing_soon"})}),Object(w.jsx)("li",{children:Object(w.jsx)(j.l,{label:"Notify me when there are new bids",isEnabled:i.watcher_new_bids,onClick:this.onToggleSetting,setting:"watcher_new_bids"})}),Object(w.jsx)("li",{children:Object(w.jsx)(j.l,{label:"Notify me when there are new comments",isEnabled:i.watcher_new_comments,onClick:this.onToggleSetting,setting:"watcher_new_comments"})}),Object(w.jsx)("li",{children:Object(w.jsx)(j.l,{label:"Notify me when questions are answered",isEnabled:i.watcher_new_answers,onClick:this.onToggleSetting,setting:"watcher_new_answers"})}),Object(w.jsx)("li",{children:Object(w.jsx)(j.l,{label:"Notify me with the auctions\u2019 results",isEnabled:i.watcher_results,onClick:this.onToggleSetting,setting:"watcher_results"})}),Object(w.jsx)("li",{className:"callout",children:Object(w.jsx)(j.l,{label:"Get these notifications also via email",isEnabled:i.watcher_email,onClick:this.onToggleSetting,setting:"watcher_email"})})]})]}),Object(w.jsxs)("div",{className:"block",children:[Object(w.jsx)("h2",{children:"Bidder Notifications"}),Object(w.jsxs)("ul",{children:[Object(w.jsx)("li",{className:"".concat(i.on_outbid?"":"show-rec"),children:Object(w.jsx)(j.l,{label:Object(w.jsxs)(o.a.Fragment,{children:["Email me when I am outbid",!i.on_outbid&&Object(w.jsxs)(o.a.Fragment,{children:[Object(w.jsx)("br",{}),Object(w.jsx)("span",{className:"text-danger we-recommend",children:"We strongly recommend leaving this on."})]})]}),isEnabled:i.on_outbid,onClick:this.onToggleSetting,setting:"on_outbid"})}),Object(w.jsx)("li",{children:Object(w.jsx)(j.l,{label:"Email me after the auction if I don't win",isEnabled:i.bidder_lost,onClick:this.onToggleSetting,setting:"bidder_lost"})})]})]}),Object(w.jsxs)("div",{className:"block",children:[Object(w.jsx)("h2",{children:"Seller Notifications"}),Object(w.jsxs)("ul",{children:[Object(w.jsx)("li",{children:Object(w.jsx)(j.l,{label:"Send new comments via email",isEnabled:i.seller_new_comments,onClick:this.onToggleSetting,setting:"seller_new_comments"})}),Object(w.jsx)("li",{children:Object(w.jsx)(j.l,{label:"Send new bids via email",isEnabled:i.seller_new_bids,onClick:this.onToggleSetting,setting:"seller_new_bids"})})]})]}),this.props.actions.isModal("ChangePasswordModal")&&Object(w.jsx)(S,{isOpen:this.props.actions.isModal("ChangePasswordModal"),onCancel:this.props.actions.closeModal,onSuccess:this.onPasswordChanged,isSetPassword:!this.hasPassword(),...this.props.modal.options}),Object(w.jsx)(v,{isOpen:this.props.actions.isModal("ChangePhoneNumberModal"),onCancel:this.props.actions.closeModal,onSubmit:this.onSubmitPhoneNumber,phoneNumber:s.phone_number,country:s.country}),Object(w.jsx)(U,{isOpen:this.props.actions.isModal("RemoveAuthModal"),...this.props.modal.options,onCancel:this.props.actions.closeModal,onSuccess:this.onAuthSourceRemoved,onSetPasswordToRemove:this.onSetPasswordToRemoveSSOAccount}),Object(w.jsxs)(n.Suspense,{fallback:Object(w.jsx)("div",{}),children:[this.props.actions.isModal("UpdateCardModal")&&Object(w.jsx)(B,{isOpen:this.props.actions.isModal("UpdateCardModal"),onCancel:this.props.actions.closeModal,onUpdate:this.updateSettingsCache}),this.props.actions.isModal("RegisterToBidModal-AS")&&Object(w.jsx)(D,{isOpen:this.props.actions.isModal("RegisterToBidModal-AS"),onCancel:this.props.actions.closeModal,onFinished:this.updateSettingsCache})]})]})]})})]})}}t.default=Object(c.a)(Object(a.b)((e=>({modal:e.modal})),(e=>({actions:Object(i.b)({getUserSettings:M.getUserSettings,updatePhoneNumber:M.updatePhoneNumber,updateSetting:M.updateSetting,showModal:R.d,closeModal:R.a,isModal:R.b,deleteAuthSource:M.deleteAuthSource},e)})))(F))}}]);